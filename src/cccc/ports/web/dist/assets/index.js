(function(){const f=document.createElement("link").relList;if(f&&f.supports&&f.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))c(m);new MutationObserver(m=>{for(const d of m)if(d.type==="childList")for(const y of d.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&c(y)}).observe(document,{childList:!0,subtree:!0});function a(m){const d={};return m.integrity&&(d.integrity=m.integrity),m.referrerPolicy&&(d.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?d.credentials="include":m.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function c(m){if(m.ep)return;m.ep=!0;const d=a(m);fetch(m.href,d)}})();function Ic(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var Za={exports:{}},es={},Da={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xc;function o0(){if(xc)return we;xc=1;var u=Symbol.for("react.element"),f=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),y=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),R=Symbol.iterator;function O(b){return b===null||typeof b!="object"?null:(b=R&&b[R]||b["@@iterator"],typeof b=="function"?b:null)}var le={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee=Object.assign,H={};function T(b,L,me){this.props=b,this.context=L,this.refs=H,this.updater=me||le}T.prototype.isReactComponent={},T.prototype.setState=function(b,L){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,L,"setState")},T.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function ue(){}ue.prototype=T.prototype;function Z(b,L,me){this.props=b,this.context=L,this.refs=H,this.updater=me||le}var Q=Z.prototype=new ue;Q.constructor=Z,ee(Q,T.prototype),Q.isPureReactComponent=!0;var ie=Array.isArray,se=Object.prototype.hasOwnProperty,Y={current:null},ye={key:!0,ref:!0,__self:!0,__source:!0};function W(b,L,me){var B,A={},X=null,xe=null;if(L!=null)for(B in L.ref!==void 0&&(xe=L.ref),L.key!==void 0&&(X=""+L.key),L)se.call(L,B)&&!ye.hasOwnProperty(B)&&(A[B]=L[B]);var P=arguments.length-2;if(P===1)A.children=me;else if(1<P){for(var pe=Array(P),He=0;He<P;He++)pe[He]=arguments[He+2];A.children=pe}if(b&&b.defaultProps)for(B in P=b.defaultProps,P)A[B]===void 0&&(A[B]=P[B]);return{$$typeof:u,type:b,key:X,ref:xe,props:A,_owner:Y.current}}function je(b,L){return{$$typeof:u,type:b.type,key:L,ref:b.ref,props:b.props,_owner:b._owner}}function fe(b){return typeof b=="object"&&b!==null&&b.$$typeof===u}function ve(b){var L={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(me){return L[me]})}var $e=/\/+/g;function ke(b,L){return typeof b=="object"&&b!==null&&b.key!=null?ve(""+b.key):L.toString(36)}function be(b,L,me,B,A){var X=typeof b;(X==="undefined"||X==="boolean")&&(b=null);var xe=!1;if(b===null)xe=!0;else switch(X){case"string":case"number":xe=!0;break;case"object":switch(b.$$typeof){case u:case f:xe=!0}}if(xe)return xe=b,A=A(xe),b=B===""?"."+ke(xe,0):B,ie(A)?(me="",b!=null&&(me=b.replace($e,"$&/")+"/"),be(A,L,me,"",function(He){return He})):A!=null&&(fe(A)&&(A=je(A,me+(!A.key||xe&&xe.key===A.key?"":(""+A.key).replace($e,"$&/")+"/")+b)),L.push(A)),1;if(xe=0,B=B===""?".":B+":",ie(b))for(var P=0;P<b.length;P++){X=b[P];var pe=B+ke(X,P);xe+=be(X,L,me,pe,A)}else if(pe=O(b),typeof pe=="function")for(b=pe.call(b),P=0;!(X=b.next()).done;)X=X.value,pe=B+ke(X,P++),xe+=be(X,L,me,pe,A);else if(X==="object")throw L=String(b),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return xe}function Re(b,L,me){if(b==null)return b;var B=[],A=0;return be(b,B,"","",function(X){return L.call(me,X,A++)}),B}function Pe(b){if(b._status===-1){var L=b._result;L=L(),L.then(function(me){(b._status===0||b._status===-1)&&(b._status=1,b._result=me)},function(me){(b._status===0||b._status===-1)&&(b._status=2,b._result=me)}),b._status===-1&&(b._status=0,b._result=L)}if(b._status===1)return b._result.default;throw b._result}var Ne={current:null},U={transition:null},te={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:U,ReactCurrentOwner:Y};function K(){throw Error("act(...) is not supported in production builds of React.")}return we.Children={map:Re,forEach:function(b,L,me){Re(b,function(){L.apply(this,arguments)},me)},count:function(b){var L=0;return Re(b,function(){L++}),L},toArray:function(b){return Re(b,function(L){return L})||[]},only:function(b){if(!fe(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},we.Component=T,we.Fragment=a,we.Profiler=m,we.PureComponent=Z,we.StrictMode=c,we.Suspense=_,we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,we.act=K,we.cloneElement=function(b,L,me){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var B=ee({},b.props),A=b.key,X=b.ref,xe=b._owner;if(L!=null){if(L.ref!==void 0&&(X=L.ref,xe=Y.current),L.key!==void 0&&(A=""+L.key),b.type&&b.type.defaultProps)var P=b.type.defaultProps;for(pe in L)se.call(L,pe)&&!ye.hasOwnProperty(pe)&&(B[pe]=L[pe]===void 0&&P!==void 0?P[pe]:L[pe])}var pe=arguments.length-2;if(pe===1)B.children=me;else if(1<pe){P=Array(pe);for(var He=0;He<pe;He++)P[He]=arguments[He+2];B.children=P}return{$$typeof:u,type:b.type,key:A,ref:X,props:B,_owner:xe}},we.createContext=function(b){return b={$$typeof:y,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:d,_context:b},b.Consumer=b},we.createElement=W,we.createFactory=function(b){var L=W.bind(null,b);return L.type=b,L},we.createRef=function(){return{current:null}},we.forwardRef=function(b){return{$$typeof:p,render:b}},we.isValidElement=fe,we.lazy=function(b){return{$$typeof:k,_payload:{_status:-1,_result:b},_init:Pe}},we.memo=function(b,L){return{$$typeof:E,type:b,compare:L===void 0?null:L}},we.startTransition=function(b){var L=U.transition;U.transition={};try{b()}finally{U.transition=L}},we.unstable_act=K,we.useCallback=function(b,L){return Ne.current.useCallback(b,L)},we.useContext=function(b){return Ne.current.useContext(b)},we.useDebugValue=function(){},we.useDeferredValue=function(b){return Ne.current.useDeferredValue(b)},we.useEffect=function(b,L){return Ne.current.useEffect(b,L)},we.useId=function(){return Ne.current.useId()},we.useImperativeHandle=function(b,L,me){return Ne.current.useImperativeHandle(b,L,me)},we.useInsertionEffect=function(b,L){return Ne.current.useInsertionEffect(b,L)},we.useLayoutEffect=function(b,L){return Ne.current.useLayoutEffect(b,L)},we.useMemo=function(b,L){return Ne.current.useMemo(b,L)},we.useReducer=function(b,L,me){return Ne.current.useReducer(b,L,me)},we.useRef=function(b){return Ne.current.useRef(b)},we.useState=function(b){return Ne.current.useState(b)},we.useSyncExternalStore=function(b,L,me){return Ne.current.useSyncExternalStore(b,L,me)},we.useTransition=function(){return Ne.current.useTransition()},we.version="18.3.1",we}var yc;function oi(){return yc||(yc=1,Da.exports=o0()),Da.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vc;function a0(){if(vc)return es;vc=1;var u=oi(),f=Symbol.for("react.element"),a=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,m=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function y(p,_,E){var k,R={},O=null,le=null;E!==void 0&&(O=""+E),_.key!==void 0&&(O=""+_.key),_.ref!==void 0&&(le=_.ref);for(k in _)c.call(_,k)&&!d.hasOwnProperty(k)&&(R[k]=_[k]);if(p&&p.defaultProps)for(k in _=p.defaultProps,_)R[k]===void 0&&(R[k]=_[k]);return{$$typeof:f,type:p,key:O,ref:le,props:R,_owner:m.current}}return es.Fragment=a,es.jsx=y,es.jsxs=y,es}var bc;function i0(){return bc||(bc=1,Za.exports=a0()),Za.exports}var s=i0(),j=oi();const u0=Ic(j);var go={},ei={exports:{}},bt={},ti={exports:{}},ni={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wc;function c0(){return wc||(wc=1,(function(u){function f(U,te){var K=U.length;U.push(te);e:for(;0<K;){var b=K-1>>>1,L=U[b];if(0<m(L,te))U[b]=te,U[K]=L,K=b;else break e}}function a(U){return U.length===0?null:U[0]}function c(U){if(U.length===0)return null;var te=U[0],K=U.pop();if(K!==te){U[0]=K;e:for(var b=0,L=U.length,me=L>>>1;b<me;){var B=2*(b+1)-1,A=U[B],X=B+1,xe=U[X];if(0>m(A,K))X<L&&0>m(xe,A)?(U[b]=xe,U[X]=K,b=X):(U[b]=A,U[B]=K,b=B);else if(X<L&&0>m(xe,K))U[b]=xe,U[X]=K,b=X;else break e}}return te}function m(U,te){var K=U.sortIndex-te.sortIndex;return K!==0?K:U.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;u.unstable_now=function(){return d.now()}}else{var y=Date,p=y.now();u.unstable_now=function(){return y.now()-p}}var _=[],E=[],k=1,R=null,O=3,le=!1,ee=!1,H=!1,T=typeof setTimeout=="function"?setTimeout:null,ue=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(U){for(var te=a(E);te!==null;){if(te.callback===null)c(E);else if(te.startTime<=U)c(E),te.sortIndex=te.expirationTime,f(_,te);else break;te=a(E)}}function ie(U){if(H=!1,Q(U),!ee)if(a(_)!==null)ee=!0,Pe(se);else{var te=a(E);te!==null&&Ne(ie,te.startTime-U)}}function se(U,te){ee=!1,H&&(H=!1,ue(W),W=-1),le=!0;var K=O;try{for(Q(te),R=a(_);R!==null&&(!(R.expirationTime>te)||U&&!ve());){var b=R.callback;if(typeof b=="function"){R.callback=null,O=R.priorityLevel;var L=b(R.expirationTime<=te);te=u.unstable_now(),typeof L=="function"?R.callback=L:R===a(_)&&c(_),Q(te)}else c(_);R=a(_)}if(R!==null)var me=!0;else{var B=a(E);B!==null&&Ne(ie,B.startTime-te),me=!1}return me}finally{R=null,O=K,le=!1}}var Y=!1,ye=null,W=-1,je=5,fe=-1;function ve(){return!(u.unstable_now()-fe<je)}function $e(){if(ye!==null){var U=u.unstable_now();fe=U;var te=!0;try{te=ye(!0,U)}finally{te?ke():(Y=!1,ye=null)}}else Y=!1}var ke;if(typeof Z=="function")ke=function(){Z($e)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,Re=be.port2;be.port1.onmessage=$e,ke=function(){Re.postMessage(null)}}else ke=function(){T($e,0)};function Pe(U){ye=U,Y||(Y=!0,ke())}function Ne(U,te){W=T(function(){U(u.unstable_now())},te)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(U){U.callback=null},u.unstable_continueExecution=function(){ee||le||(ee=!0,Pe(se))},u.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):je=0<U?Math.floor(1e3/U):5},u.unstable_getCurrentPriorityLevel=function(){return O},u.unstable_getFirstCallbackNode=function(){return a(_)},u.unstable_next=function(U){switch(O){case 1:case 2:case 3:var te=3;break;default:te=O}var K=O;O=te;try{return U()}finally{O=K}},u.unstable_pauseExecution=function(){},u.unstable_requestPaint=function(){},u.unstable_runWithPriority=function(U,te){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var K=O;O=U;try{return te()}finally{O=K}},u.unstable_scheduleCallback=function(U,te,K){var b=u.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?b+K:b):K=b,U){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=K+L,U={id:k++,callback:te,priorityLevel:U,startTime:K,expirationTime:L,sortIndex:-1},K>b?(U.sortIndex=K,f(E,U),a(_)===null&&U===a(E)&&(H?(ue(W),W=-1):H=!0,Ne(ie,K-b))):(U.sortIndex=L,f(_,U),ee||le||(ee=!0,Pe(se))),U},u.unstable_shouldYield=ve,u.unstable_wrapCallback=function(U){var te=O;return function(){var K=O;O=te;try{return U.apply(this,arguments)}finally{O=K}}}})(ni)),ni}var jc;function d0(){return jc||(jc=1,ti.exports=c0()),ti.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nc;function f0(){if(Nc)return bt;Nc=1;var u=oi(),f=d0();function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=new Set,m={};function d(e,t){y(e,t),y(e+"Capture",t)}function y(e,t){for(m[e]=t,e=0;e<t.length;e++)c.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_=Object.prototype.hasOwnProperty,E=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,k={},R={};function O(e){return _.call(R,e)?!0:_.call(k,e)?!1:E.test(e)?R[e]=!0:(k[e]=!0,!1)}function le(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ee(e,t,n,r){if(t===null||typeof t>"u"||le(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function H(e,t,n,r,l,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){T[e]=new H(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];T[t]=new H(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){T[e]=new H(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){T[e]=new H(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){T[e]=new H(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){T[e]=new H(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){T[e]=new H(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){T[e]=new H(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){T[e]=new H(e,5,!1,e.toLowerCase(),null,!1,!1)});var ue=/[\-:]([a-z])/g;function Z(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ue,Z);T[t]=new H(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ue,Z);T[t]=new H(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ue,Z);T[t]=new H(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){T[e]=new H(e,1,!1,e.toLowerCase(),null,!1,!1)}),T.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){T[e]=new H(e,1,!1,e.toLowerCase(),null,!0,!0)});function Q(e,t,n,r){var l=T.hasOwnProperty(t)?T[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ee(t,n,l,r)&&(n=null),r||l===null?O(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ie=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,se=Symbol.for("react.element"),Y=Symbol.for("react.portal"),ye=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),je=Symbol.for("react.profiler"),fe=Symbol.for("react.provider"),ve=Symbol.for("react.context"),$e=Symbol.for("react.forward_ref"),ke=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),Re=Symbol.for("react.memo"),Pe=Symbol.for("react.lazy"),Ne=Symbol.for("react.offscreen"),U=Symbol.iterator;function te(e){return e===null||typeof e!="object"?null:(e=U&&e[U]||e["@@iterator"],typeof e=="function"?e:null)}var K=Object.assign,b;function L(e){if(b===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);b=t&&t[1]||""}return`
`+b+e}var me=!1;function B(e,t){if(!e||me)return"";me=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(S){var r=S}Reflect.construct(e,[],t)}else{try{t.call()}catch(S){r=S}e.call(t.prototype)}else{try{throw Error()}catch(S){r=S}e()}}catch(S){if(S&&r&&typeof S.stack=="string"){for(var l=S.stack.split(`
`),o=r.stack.split(`
`),i=l.length-1,h=o.length-1;1<=i&&0<=h&&l[i]!==o[h];)h--;for(;1<=i&&0<=h;i--,h--)if(l[i]!==o[h]){if(i!==1||h!==1)do if(i--,h--,0>h||l[i]!==o[h]){var g=`
`+l[i].replace(" at new "," at ");return e.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",e.displayName)),g}while(1<=i&&0<=h);break}}}finally{me=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L(e):""}function A(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1),e;case 11:return e=B(e.type.render,!1),e;case 1:return e=B(e.type,!0),e;default:return""}}function X(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ye:return"Fragment";case Y:return"Portal";case je:return"Profiler";case W:return"StrictMode";case ke:return"Suspense";case be:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ve:return(e.displayName||"Context")+".Consumer";case fe:return(e._context.displayName||"Context")+".Provider";case $e:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Re:return t=e.displayName||null,t!==null?t:X(e.type)||"Memo";case Pe:t=e._payload,e=e._init;try{return X(e(t))}catch{}}return null}function xe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return X(t);case 8:return t===W?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function P(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pe(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function He(e){var t=pe(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jr(e){e._valueTracker||(e._valueTracker=He(e))}function ul(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=pe(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ot(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Bn(e,t){var n=t.checked;return K({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ns(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=P(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function cl(e,t){t=t.checked,t!=null&&Q(e,"checked",t,!1)}function Nr(e,t){cl(e,t);var n=P(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ht(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ht(e,t.type,P(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Sr(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ht(e,t,n){(t!=="number"||Ot(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Qt=Array.isArray;function wt(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+P(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Kt(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(a(91));return K({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function gn(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(a(92));if(Qt(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:P(n)}}function Vn(e,t){var n=P(t.value),r=P(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function rs(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ls(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wn(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ls(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Cr,ss=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Cr=Cr||document.createElement("div"),Cr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Cr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Hn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Qn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Er=["Webkit","ms","Moz","O"];Object.keys(Qn).forEach(function(e){Er.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qn[t]=Qn[e]})});function xn(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Qn.hasOwnProperty(e)&&Qn[e]?(""+t).trim():t+"px"}function kr(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=xn(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var os=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kn(e,t){if(t){if(os[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(a(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(a(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(t.style!=null&&typeof t.style!="object")throw Error(a(62))}}function _r(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nn=null;function Ke(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Yn=null,ut=null,Yt=null;function as(e){if(e=Fl(e)){if(typeof Yn!="function")throw Error(a(280));var t=e.stateNode;t&&(t=Ts(t),Yn(e.stateNode,e.type,t))}}function Jn(e){ut?Yt?Yt.push(e):Yt=[e]:ut=e}function is(){if(ut){var e=ut,t=Yt;if(Yt=ut=null,as(e),t)for(e=0;e<t.length;e++)as(t[e])}}function yn(e,t){return e(t)}function dl(){}var $r=!1;function fl(e,t,n){if($r)return e(t,n);$r=!0;try{return yn(e,t,n)}finally{$r=!1,(ut!==null||Yt!==null)&&(dl(),is())}}function vn(e,t){var n=e.stateNode;if(n===null)return null;var r=Ts(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(a(231,t,typeof n));return n}var ml=!1;if(p)try{var Gn={};Object.defineProperty(Gn,"passive",{get:function(){ml=!0}}),window.addEventListener("test",Gn,Gn),window.removeEventListener("test",Gn,Gn)}catch{ml=!1}function us(e,t,n,r,l,o,i,h,g){var S=Array.prototype.slice.call(arguments,3);try{t.apply(n,S)}catch(I){this.onError(I)}}var bn=!1,Xn=null,qn=!1,Tr=null,pl={onError:function(e){bn=!0,Xn=e}};function cs(e,t,n,r,l,o,i,h,g){bn=!1,Xn=null,us.apply(pl,arguments)}function hl(e,t,n,r,l,o,i,h,g){if(cs.apply(this,arguments),bn){if(bn){var S=Xn;bn=!1,Xn=null}else throw Error(a(198));qn||(qn=!0,Tr=S)}}function rn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function gl(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ds(e){if(rn(e)!==e)throw Error(a(188))}function jo(e){var t=e.alternate;if(!t){if(t=rn(e),t===null)throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var o=l.alternate;if(o===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===n)return ds(l),e;if(o===r)return ds(l),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=l,r=o;else{for(var i=!1,h=l.child;h;){if(h===n){i=!0,n=l,r=o;break}if(h===r){i=!0,r=l,n=o;break}h=h.sibling}if(!i){for(h=o.child;h;){if(h===n){i=!0,n=o,r=l;break}if(h===r){i=!0,r=o,n=l;break}h=h.sibling}if(!i)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(n.tag!==3)throw Error(a(188));return n.stateNode.current===n?e:t}function fs(e){return e=jo(e),e!==null?ms(e):null}function ms(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ms(e);if(t!==null)return t;e=e.sibling}return null}var ps=f.unstable_scheduleCallback,hs=f.unstable_cancelCallback,No=f.unstable_shouldYield,gs=f.unstable_requestPaint,Le=f.unstable_now,So=f.unstable_getCurrentPriorityLevel,wn=f.unstable_ImmediatePriority,xl=f.unstable_UserBlockingPriority,Zn=f.unstable_NormalPriority,Dn=f.unstable_LowPriority,er=f.unstable_IdlePriority,Ct=null,rt=null;function Co(e){if(rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(Ct,e,void 0,(e.current.flags&128)===128)}catch{}}var pt=Math.clz32?Math.clz32:yl,Rr=Math.log,Pr=Math.LN2;function yl(e){return e>>>=0,e===0?32:31-(Rr(e)/Pr|0)|0}var Mt=64,Et=4194304;function jn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function tr(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var h=i&~l;h!==0?r=jn(h):(o&=i,o!==0&&(r=jn(o)))}else i=n&~l,i!==0?r=jn(i):o!==0&&(r=jn(o));if(r===0)return 0;if(t!==0&&t!==r&&(t&l)===0&&(l=r&-r,o=t&-t,l>=o||l===16&&(o&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-pt(t),l=1<<n,r|=e[n],t&=~l;return r}function Me(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vl(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-pt(o),h=1<<i,g=l[i];g===-1?((h&n)===0||(h&r)!==0)&&(l[i]=Me(h,t)):g<=t&&(e.expiredLanes|=h),o&=~h}}function bl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function nr(){var e=Mt;return Mt<<=1,(Mt&4194240)===0&&(Mt=64),e}function rr(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ln(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-pt(t),e[t]=n}function Eo(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-pt(n),o=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~o}}function wl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pt(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var Te=0;function lr(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Lr,jl,sr,zt,xs,Or=!1,Mr=[],ct=null,It=null,kt=null,or=new Map,dt=new Map,Jt=[],ko="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nl(e,t){switch(e){case"focusin":case"focusout":ct=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":kt=null;break;case"pointerover":case"pointerout":or.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dt.delete(t.pointerId)}}function ar(e,t,n,r,l,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[l]},t!==null&&(t=Fl(t),t!==null&&jl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function _o(e,t,n,r,l){switch(t){case"focusin":return ct=ar(ct,e,t,n,r,l),!0;case"dragenter":return It=ar(It,e,t,n,r,l),!0;case"mouseover":return kt=ar(kt,e,t,n,r,l),!0;case"pointerover":var o=l.pointerId;return or.set(o,ar(or.get(o)||null,e,t,n,r,l)),!0;case"gotpointercapture":return o=l.pointerId,dt.set(o,ar(dt.get(o)||null,e,t,n,r,l)),!0}return!1}function ys(e){var t=cr(e.target);if(t!==null){var n=rn(t);if(n!==null){if(t=n.tag,t===13){if(t=gl(n),t!==null){e.blockedOn=t,xs(e.priority,function(){sr(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ar(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);nn=r,n.target.dispatchEvent(r),nn=null}else return t=Fl(n),t!==null&&jl(t),e.blockedOn=n,!1;t.shift()}return!0}function vs(e,t,n){zr(e)&&n.delete(t)}function Sl(){Or=!1,ct!==null&&zr(ct)&&(ct=null),It!==null&&zr(It)&&(It=null),kt!==null&&zr(kt)&&(kt=null),or.forEach(vs),dt.forEach(vs)}function Nn(e,t){e.blockedOn===t&&(e.blockedOn=null,Or||(Or=!0,f.unstable_scheduleCallback(f.unstable_NormalPriority,Sl)))}function ir(e){function t(l){return Nn(l,e)}if(0<Mr.length){Nn(Mr[0],e);for(var n=1;n<Mr.length;n++){var r=Mr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ct!==null&&Nn(ct,e),It!==null&&Nn(It,e),kt!==null&&Nn(kt,e),or.forEach(t),dt.forEach(t),n=0;n<Jt.length;n++)r=Jt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Jt.length&&(n=Jt[0],n.blockedOn===null);)ys(n),n.blockedOn===null&&Jt.shift()}var Sn=ie.ReactCurrentBatchConfig,Ir=!0;function $o(e,t,n,r){var l=Te,o=Sn.transition;Sn.transition=null;try{Te=1,Cl(e,t,n,r)}finally{Te=l,Sn.transition=o}}function To(e,t,n,r){var l=Te,o=Sn.transition;Sn.transition=null;try{Te=4,Cl(e,t,n,r)}finally{Te=l,Sn.transition=o}}function Cl(e,t,n,r){if(Ir){var l=Ar(e,t,n,r);if(l===null)Vo(e,t,r,ur,n),Nl(e,r);else if(_o(l,e,t,n,r))r.stopPropagation();else if(Nl(e,r),t&4&&-1<ko.indexOf(e)){for(;l!==null;){var o=Fl(l);if(o!==null&&Lr(o),o=Ar(e,t,n,r),o===null&&Vo(e,t,r,ur,n),o===l)break;l=o}l!==null&&r.stopPropagation()}else Vo(e,t,r,null,n)}}var ur=null;function Ar(e,t,n,r){if(ur=null,e=Ke(r),e=cr(e),e!==null)if(t=rn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=gl(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ur=e,null}function bs(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(So()){case wn:return 1;case xl:return 4;case Zn:case Dn:return 16;case er:return 536870912;default:return 16}default:return 16}}var Gt=null,El=null,Fr=null;function ws(){if(Fr)return Fr;var e,t=El,n=t.length,r,l="value"in Gt?Gt.value:Gt.textContent,o=l.length;for(e=0;e<n&&t[e]===l[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===l[o-r];r++);return Fr=l.slice(e,1<r?1-r:void 0)}function Ve(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ze(){return!0}function Xt(){return!1}function lt(e){function t(n,r,l,o,i){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var h in e)e.hasOwnProperty(h)&&(n=e[h],this[h]=n?n(o):o[h]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ze:Xt,this.isPropagationStopped=Xt,this}return K(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ze)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ze)},persist:function(){},isPersistent:Ze}),t}var Cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ur=lt(Cn),En=K({},Cn,{view:0,detail:0}),js=lt(En),kl,v,C,M=K({},En,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ro,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==C&&(C&&e.type==="mousemove"?(kl=e.screenX-C.screenX,v=e.screenY-C.screenY):v=kl=0,C=e),kl)},movementY:function(e){return"movementY"in e?e.movementY:v}}),J=lt(M),ne=K({},M,{dataTransfer:0}),ae=lt(ne),he=K({},En,{relatedTarget:0}),Se=lt(he),De=K({},Cn,{animationName:0,elapsedTime:0,pseudoElement:0}),et=lt(De),sn=K({},Cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Br=lt(sn),_l=K({},Cn,{data:0}),qt=lt(_l),on={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ai={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$l={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qc(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$l[e])?!!t[e]:!1}function Ro(){return Qc}var Kc=K({},En,{key:function(e){if(e.key){var t=on[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ve(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ai[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ro,charCode:function(e){return e.type==="keypress"?Ve(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ve(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Yc=lt(Kc),Jc=K({},M,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ii=lt(Jc),Gc=K({},En,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ro}),Xc=lt(Gc),qc=K({},Cn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zc=lt(qc),Dc=K({},M,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ed=lt(Dc),td=[9,13,27,32],Po=p&&"CompositionEvent"in window,Tl=null;p&&"documentMode"in document&&(Tl=document.documentMode);var nd=p&&"TextEvent"in window&&!Tl,ui=p&&(!Po||Tl&&8<Tl&&11>=Tl),ci=" ",di=!1;function fi(e,t){switch(e){case"keyup":return td.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mi(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vr=!1;function rd(e,t){switch(e){case"compositionend":return mi(t);case"keypress":return t.which!==32?null:(di=!0,ci);case"textInput":return e=t.data,e===ci&&di?null:e;default:return null}}function ld(e,t){if(Vr)return e==="compositionend"||!Po&&fi(e,t)?(e=ws(),Fr=El=Gt=null,Vr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ui&&t.locale!=="ko"?null:t.data;default:return null}}var sd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sd[e.type]:t==="textarea"}function hi(e,t,n,r){Jn(r),t=ks(t,"onChange"),0<t.length&&(n=new Ur("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Rl=null,Pl=null;function od(e){Li(e,0)}function Ns(e){var t=Yr(e);if(ul(t))return e}function ad(e,t){if(e==="change")return t}var gi=!1;if(p){var Lo;if(p){var Oo="oninput"in document;if(!Oo){var xi=document.createElement("div");xi.setAttribute("oninput","return;"),Oo=typeof xi.oninput=="function"}Lo=Oo}else Lo=!1;gi=Lo&&(!document.documentMode||9<document.documentMode)}function yi(){Rl&&(Rl.detachEvent("onpropertychange",vi),Pl=Rl=null)}function vi(e){if(e.propertyName==="value"&&Ns(Pl)){var t=[];hi(t,Pl,e,Ke(e)),fl(od,t)}}function id(e,t,n){e==="focusin"?(yi(),Rl=t,Pl=n,Rl.attachEvent("onpropertychange",vi)):e==="focusout"&&yi()}function ud(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ns(Pl)}function cd(e,t){if(e==="click")return Ns(t)}function dd(e,t){if(e==="input"||e==="change")return Ns(t)}function fd(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var At=typeof Object.is=="function"?Object.is:fd;function Ll(e,t){if(At(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!_.call(t,l)||!At(e[l],t[l]))return!1}return!0}function bi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wi(e,t){var n=bi(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bi(n)}}function ji(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ji(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ni(){for(var e=window,t=Ot();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ot(e.document)}return t}function Mo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function md(e){var t=Ni(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ji(n.ownerDocument.documentElement,n)){if(r!==null&&Mo(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,o=Math.min(r.start,l);r=r.end===void 0?o:Math.min(r.end,l),!e.extend&&o>r&&(l=r,r=o,o=l),l=wi(n,o);var i=wi(n,r);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pd=p&&"documentMode"in document&&11>=document.documentMode,Wr=null,zo=null,Ol=null,Io=!1;function Si(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Io||Wr==null||Wr!==Ot(r)||(r=Wr,"selectionStart"in r&&Mo(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ol&&Ll(Ol,r)||(Ol=r,r=ks(zo,"onSelect"),0<r.length&&(t=new Ur("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Wr)))}function Ss(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Hr={animationend:Ss("Animation","AnimationEnd"),animationiteration:Ss("Animation","AnimationIteration"),animationstart:Ss("Animation","AnimationStart"),transitionend:Ss("Transition","TransitionEnd")},Ao={},Ci={};p&&(Ci=document.createElement("div").style,"AnimationEvent"in window||(delete Hr.animationend.animation,delete Hr.animationiteration.animation,delete Hr.animationstart.animation),"TransitionEvent"in window||delete Hr.transitionend.transition);function Cs(e){if(Ao[e])return Ao[e];if(!Hr[e])return e;var t=Hr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ci)return Ao[e]=t[n];return e}var Ei=Cs("animationend"),ki=Cs("animationiteration"),_i=Cs("animationstart"),$i=Cs("transitionend"),Ti=new Map,Ri="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kn(e,t){Ti.set(e,t),d(t,[e])}for(var Fo=0;Fo<Ri.length;Fo++){var Uo=Ri[Fo],hd=Uo.toLowerCase(),gd=Uo[0].toUpperCase()+Uo.slice(1);kn(hd,"on"+gd)}kn(Ei,"onAnimationEnd"),kn(ki,"onAnimationIteration"),kn(_i,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn($i,"onTransitionEnd"),y("onMouseEnter",["mouseout","mouseover"]),y("onMouseLeave",["mouseout","mouseover"]),y("onPointerEnter",["pointerout","pointerover"]),y("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xd=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ml));function Pi(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,hl(r,t,void 0,e),e.currentTarget=null}function Li(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var h=r[i],g=h.instance,S=h.currentTarget;if(h=h.listener,g!==o&&l.isPropagationStopped())break e;Pi(l,h,S),o=g}else for(i=0;i<r.length;i++){if(h=r[i],g=h.instance,S=h.currentTarget,h=h.listener,g!==o&&l.isPropagationStopped())break e;Pi(l,h,S),o=g}}}if(qn)throw e=Tr,qn=!1,Tr=null,e}function ze(e,t){var n=t[Jo];n===void 0&&(n=t[Jo]=new Set);var r=e+"__bubble";n.has(r)||(Oi(t,e,2,!1),n.add(r))}function Bo(e,t,n){var r=0;t&&(r|=4),Oi(n,e,r,t)}var Es="_reactListening"+Math.random().toString(36).slice(2);function zl(e){if(!e[Es]){e[Es]=!0,c.forEach(function(n){n!=="selectionchange"&&(xd.has(n)||Bo(n,!1,e),Bo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Es]||(t[Es]=!0,Bo("selectionchange",!1,t))}}function Oi(e,t,n,r){switch(bs(t)){case 1:var l=$o;break;case 4:l=To;break;default:l=Cl}n=l.bind(null,t,n,e),l=void 0,!ml||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Vo(e,t,n,r,l){var o=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var h=r.stateNode.containerInfo;if(h===l||h.nodeType===8&&h.parentNode===l)break;if(i===4)for(i=r.return;i!==null;){var g=i.tag;if((g===3||g===4)&&(g=i.stateNode.containerInfo,g===l||g.nodeType===8&&g.parentNode===l))return;i=i.return}for(;h!==null;){if(i=cr(h),i===null)return;if(g=i.tag,g===5||g===6){r=o=i;continue e}h=h.parentNode}}r=r.return}fl(function(){var S=o,I=Ke(n),F=[];e:{var z=Ti.get(e);if(z!==void 0){var G=Ur,D=e;switch(e){case"keypress":if(Ve(n)===0)break e;case"keydown":case"keyup":G=Yc;break;case"focusin":D="focus",G=Se;break;case"focusout":D="blur",G=Se;break;case"beforeblur":case"afterblur":G=Se;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=J;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=ae;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Xc;break;case Ei:case ki:case _i:G=et;break;case $i:G=Zc;break;case"scroll":G=js;break;case"wheel":G=ed;break;case"copy":case"cut":case"paste":G=Br;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=ii}var re=(t&4)!==0,We=!re&&e==="scroll",w=re?z!==null?z+"Capture":null:z;re=[];for(var x=S,N;x!==null;){N=x;var V=N.stateNode;if(N.tag===5&&V!==null&&(N=V,w!==null&&(V=vn(x,w),V!=null&&re.push(Il(x,V,N)))),We)break;x=x.return}0<re.length&&(z=new G(z,D,null,n,I),F.push({event:z,listeners:re}))}}if((t&7)===0){e:{if(z=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",z&&n!==nn&&(D=n.relatedTarget||n.fromElement)&&(cr(D)||D[an]))break e;if((G||z)&&(z=I.window===I?I:(z=I.ownerDocument)?z.defaultView||z.parentWindow:window,G?(D=n.relatedTarget||n.toElement,G=S,D=D?cr(D):null,D!==null&&(We=rn(D),D!==We||D.tag!==5&&D.tag!==6)&&(D=null)):(G=null,D=S),G!==D)){if(re=J,V="onMouseLeave",w="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(re=ii,V="onPointerLeave",w="onPointerEnter",x="pointer"),We=G==null?z:Yr(G),N=D==null?z:Yr(D),z=new re(V,x+"leave",G,n,I),z.target=We,z.relatedTarget=N,V=null,cr(I)===S&&(re=new re(w,x+"enter",D,n,I),re.target=N,re.relatedTarget=We,V=re),We=V,G&&D)t:{for(re=G,w=D,x=0,N=re;N;N=Qr(N))x++;for(N=0,V=w;V;V=Qr(V))N++;for(;0<x-N;)re=Qr(re),x--;for(;0<N-x;)w=Qr(w),N--;for(;x--;){if(re===w||w!==null&&re===w.alternate)break t;re=Qr(re),w=Qr(w)}re=null}else re=null;G!==null&&Mi(F,z,G,re,!1),D!==null&&We!==null&&Mi(F,We,D,re,!0)}}e:{if(z=S?Yr(S):window,G=z.nodeName&&z.nodeName.toLowerCase(),G==="select"||G==="input"&&z.type==="file")var oe=ad;else if(pi(z))if(gi)oe=dd;else{oe=ud;var ce=id}else(G=z.nodeName)&&G.toLowerCase()==="input"&&(z.type==="checkbox"||z.type==="radio")&&(oe=cd);if(oe&&(oe=oe(e,S))){hi(F,oe,n,I);break e}ce&&ce(e,z,S),e==="focusout"&&(ce=z._wrapperState)&&ce.controlled&&z.type==="number"&&Ht(z,"number",z.value)}switch(ce=S?Yr(S):window,e){case"focusin":(pi(ce)||ce.contentEditable==="true")&&(Wr=ce,zo=S,Ol=null);break;case"focusout":Ol=zo=Wr=null;break;case"mousedown":Io=!0;break;case"contextmenu":case"mouseup":case"dragend":Io=!1,Si(F,n,I);break;case"selectionchange":if(pd)break;case"keydown":case"keyup":Si(F,n,I)}var de;if(Po)e:{switch(e){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else Vr?fi(e,n)&&(ge="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ge="onCompositionStart");ge&&(ui&&n.locale!=="ko"&&(Vr||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&Vr&&(de=ws()):(Gt=I,El="value"in Gt?Gt.value:Gt.textContent,Vr=!0)),ce=ks(S,ge),0<ce.length&&(ge=new qt(ge,e,null,n,I),F.push({event:ge,listeners:ce}),de?ge.data=de:(de=mi(n),de!==null&&(ge.data=de)))),(de=nd?rd(e,n):ld(e,n))&&(S=ks(S,"onBeforeInput"),0<S.length&&(I=new qt("onBeforeInput","beforeinput",null,n,I),F.push({event:I,listeners:S}),I.data=de))}Li(F,t)})}function Il(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ks(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,o=l.stateNode;l.tag===5&&o!==null&&(l=o,o=vn(e,n),o!=null&&r.unshift(Il(e,o,l)),o=vn(e,t),o!=null&&r.push(Il(e,o,l))),e=e.return}return r}function Qr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Mi(e,t,n,r,l){for(var o=t._reactName,i=[];n!==null&&n!==r;){var h=n,g=h.alternate,S=h.stateNode;if(g!==null&&g===r)break;h.tag===5&&S!==null&&(h=S,l?(g=vn(n,o),g!=null&&i.unshift(Il(n,g,h))):l||(g=vn(n,o),g!=null&&i.push(Il(n,g,h)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var yd=/\r\n?/g,vd=/\u0000|\uFFFD/g;function zi(e){return(typeof e=="string"?e:""+e).replace(yd,`
`).replace(vd,"")}function _s(e,t,n){if(t=zi(t),zi(e)!==t&&n)throw Error(a(425))}function $s(){}var Wo=null,Ho=null;function Qo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ko=typeof setTimeout=="function"?setTimeout:void 0,bd=typeof clearTimeout=="function"?clearTimeout:void 0,Ii=typeof Promise=="function"?Promise:void 0,wd=typeof queueMicrotask=="function"?queueMicrotask:typeof Ii<"u"?function(e){return Ii.resolve(null).then(e).catch(jd)}:Ko;function jd(e){setTimeout(function(){throw e})}function Yo(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),ir(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);ir(t)}function _n(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ai(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Kr=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Kr,Al="__reactProps$"+Kr,an="__reactContainer$"+Kr,Jo="__reactEvents$"+Kr,Nd="__reactListeners$"+Kr,Sd="__reactHandles$"+Kr;function cr(e){var t=e[Zt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[an]||n[Zt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ai(e);e!==null;){if(n=e[Zt])return n;e=Ai(e)}return t}e=n,n=e.parentNode}return null}function Fl(e){return e=e[Zt]||e[an],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(a(33))}function Ts(e){return e[Al]||null}var Go=[],Jr=-1;function $n(e){return{current:e}}function Ie(e){0>Jr||(e.current=Go[Jr],Go[Jr]=null,Jr--)}function Oe(e,t){Jr++,Go[Jr]=e.current,e.current=t}var Tn={},st=$n(Tn),ht=$n(!1),dr=Tn;function Gr(e,t){var n=e.type.contextTypes;if(!n)return Tn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},o;for(o in n)l[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function gt(e){return e=e.childContextTypes,e!=null}function Rs(){Ie(ht),Ie(st)}function Fi(e,t,n){if(st.current!==Tn)throw Error(a(168));Oe(st,t),Oe(ht,n)}function Ui(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(a(108,xe(e)||"Unknown",l));return K({},n,r)}function Ps(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Tn,dr=st.current,Oe(st,e),Oe(ht,ht.current),!0}function Bi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ui(e,t,dr),r.__reactInternalMemoizedMergedChildContext=e,Ie(ht),Ie(st),Oe(st,e)):Ie(ht),Oe(ht,n)}var un=null,Ls=!1,Xo=!1;function Vi(e){un===null?un=[e]:un.push(e)}function Cd(e){Ls=!0,Vi(e)}function Rn(){if(!Xo&&un!==null){Xo=!0;var e=0,t=Te;try{var n=un;for(Te=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}un=null,Ls=!1}catch(l){throw un!==null&&(un=un.slice(e+1)),ps(wn,Rn),l}finally{Te=t,Xo=!1}}return null}var Xr=[],qr=0,Os=null,Ms=0,_t=[],$t=0,fr=null,cn=1,dn="";function mr(e,t){Xr[qr++]=Ms,Xr[qr++]=Os,Os=e,Ms=t}function Wi(e,t,n){_t[$t++]=cn,_t[$t++]=dn,_t[$t++]=fr,fr=e;var r=cn;e=dn;var l=32-pt(r)-1;r&=~(1<<l),n+=1;var o=32-pt(t)+l;if(30<o){var i=l-l%5;o=(r&(1<<i)-1).toString(32),r>>=i,l-=i,cn=1<<32-pt(t)+l|n<<l|r,dn=o+e}else cn=1<<o|n<<l|r,dn=e}function qo(e){e.return!==null&&(mr(e,1),Wi(e,1,0))}function Zo(e){for(;e===Os;)Os=Xr[--qr],Xr[qr]=null,Ms=Xr[--qr],Xr[qr]=null;for(;e===fr;)fr=_t[--$t],_t[$t]=null,dn=_t[--$t],_t[$t]=null,cn=_t[--$t],_t[$t]=null}var jt=null,Nt=null,Ae=!1,Ft=null;function Hi(e,t){var n=Lt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Qi(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,jt=e,Nt=_n(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,jt=e,Nt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=fr!==null?{id:cn,overflow:dn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Lt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,jt=e,Nt=null,!0):!1;default:return!1}}function Do(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ea(e){if(Ae){var t=Nt;if(t){var n=t;if(!Qi(e,t)){if(Do(e))throw Error(a(418));t=_n(n.nextSibling);var r=jt;t&&Qi(e,t)?Hi(r,n):(e.flags=e.flags&-4097|2,Ae=!1,jt=e)}}else{if(Do(e))throw Error(a(418));e.flags=e.flags&-4097|2,Ae=!1,jt=e}}}function Ki(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;jt=e}function zs(e){if(e!==jt)return!1;if(!Ae)return Ki(e),Ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Qo(e.type,e.memoizedProps)),t&&(t=Nt)){if(Do(e))throw Yi(),Error(a(418));for(;t;)Hi(e,t),t=_n(t.nextSibling)}if(Ki(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Nt=_n(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Nt=null}}else Nt=jt?_n(e.stateNode.nextSibling):null;return!0}function Yi(){for(var e=Nt;e;)e=_n(e.nextSibling)}function Zr(){Nt=jt=null,Ae=!1}function ta(e){Ft===null?Ft=[e]:Ft.push(e)}var Ed=ie.ReactCurrentBatchConfig;function Ul(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var l=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var h=l.refs;i===null?delete h[o]:h[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Is(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ji(e){var t=e._init;return t(e._payload)}function Gi(e){function t(w,x){if(e){var N=w.deletions;N===null?(w.deletions=[x],w.flags|=16):N.push(x)}}function n(w,x){if(!e)return null;for(;x!==null;)t(w,x),x=x.sibling;return null}function r(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function l(w,x){return w=Fn(w,x),w.index=0,w.sibling=null,w}function o(w,x,N){return w.index=N,e?(N=w.alternate,N!==null?(N=N.index,N<x?(w.flags|=2,x):N):(w.flags|=2,x)):(w.flags|=1048576,x)}function i(w){return e&&w.alternate===null&&(w.flags|=2),w}function h(w,x,N,V){return x===null||x.tag!==6?(x=Ka(N,w.mode,V),x.return=w,x):(x=l(x,N),x.return=w,x)}function g(w,x,N,V){var oe=N.type;return oe===ye?I(w,x,N.props.children,V,N.key):x!==null&&(x.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Pe&&Ji(oe)===x.type)?(V=l(x,N.props),V.ref=Ul(w,x,N),V.return=w,V):(V=ao(N.type,N.key,N.props,null,w.mode,V),V.ref=Ul(w,x,N),V.return=w,V)}function S(w,x,N,V){return x===null||x.tag!==4||x.stateNode.containerInfo!==N.containerInfo||x.stateNode.implementation!==N.implementation?(x=Ya(N,w.mode,V),x.return=w,x):(x=l(x,N.children||[]),x.return=w,x)}function I(w,x,N,V,oe){return x===null||x.tag!==7?(x=wr(N,w.mode,V,oe),x.return=w,x):(x=l(x,N),x.return=w,x)}function F(w,x,N){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Ka(""+x,w.mode,N),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case se:return N=ao(x.type,x.key,x.props,null,w.mode,N),N.ref=Ul(w,null,x),N.return=w,N;case Y:return x=Ya(x,w.mode,N),x.return=w,x;case Pe:var V=x._init;return F(w,V(x._payload),N)}if(Qt(x)||te(x))return x=wr(x,w.mode,N,null),x.return=w,x;Is(w,x)}return null}function z(w,x,N,V){var oe=x!==null?x.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return oe!==null?null:h(w,x,""+N,V);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case se:return N.key===oe?g(w,x,N,V):null;case Y:return N.key===oe?S(w,x,N,V):null;case Pe:return oe=N._init,z(w,x,oe(N._payload),V)}if(Qt(N)||te(N))return oe!==null?null:I(w,x,N,V,null);Is(w,N)}return null}function G(w,x,N,V,oe){if(typeof V=="string"&&V!==""||typeof V=="number")return w=w.get(N)||null,h(x,w,""+V,oe);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case se:return w=w.get(V.key===null?N:V.key)||null,g(x,w,V,oe);case Y:return w=w.get(V.key===null?N:V.key)||null,S(x,w,V,oe);case Pe:var ce=V._init;return G(w,x,N,ce(V._payload),oe)}if(Qt(V)||te(V))return w=w.get(N)||null,I(x,w,V,oe,null);Is(x,V)}return null}function D(w,x,N,V){for(var oe=null,ce=null,de=x,ge=x=0,qe=null;de!==null&&ge<N.length;ge++){de.index>ge?(qe=de,de=null):qe=de.sibling;var _e=z(w,de,N[ge],V);if(_e===null){de===null&&(de=qe);break}e&&de&&_e.alternate===null&&t(w,de),x=o(_e,x,ge),ce===null?oe=_e:ce.sibling=_e,ce=_e,de=qe}if(ge===N.length)return n(w,de),Ae&&mr(w,ge),oe;if(de===null){for(;ge<N.length;ge++)de=F(w,N[ge],V),de!==null&&(x=o(de,x,ge),ce===null?oe=de:ce.sibling=de,ce=de);return Ae&&mr(w,ge),oe}for(de=r(w,de);ge<N.length;ge++)qe=G(de,w,ge,N[ge],V),qe!==null&&(e&&qe.alternate!==null&&de.delete(qe.key===null?ge:qe.key),x=o(qe,x,ge),ce===null?oe=qe:ce.sibling=qe,ce=qe);return e&&de.forEach(function(Un){return t(w,Un)}),Ae&&mr(w,ge),oe}function re(w,x,N,V){var oe=te(N);if(typeof oe!="function")throw Error(a(150));if(N=oe.call(N),N==null)throw Error(a(151));for(var ce=oe=null,de=x,ge=x=0,qe=null,_e=N.next();de!==null&&!_e.done;ge++,_e=N.next()){de.index>ge?(qe=de,de=null):qe=de.sibling;var Un=z(w,de,_e.value,V);if(Un===null){de===null&&(de=qe);break}e&&de&&Un.alternate===null&&t(w,de),x=o(Un,x,ge),ce===null?oe=Un:ce.sibling=Un,ce=Un,de=qe}if(_e.done)return n(w,de),Ae&&mr(w,ge),oe;if(de===null){for(;!_e.done;ge++,_e=N.next())_e=F(w,_e.value,V),_e!==null&&(x=o(_e,x,ge),ce===null?oe=_e:ce.sibling=_e,ce=_e);return Ae&&mr(w,ge),oe}for(de=r(w,de);!_e.done;ge++,_e=N.next())_e=G(de,w,ge,_e.value,V),_e!==null&&(e&&_e.alternate!==null&&de.delete(_e.key===null?ge:_e.key),x=o(_e,x,ge),ce===null?oe=_e:ce.sibling=_e,ce=_e);return e&&de.forEach(function(s0){return t(w,s0)}),Ae&&mr(w,ge),oe}function We(w,x,N,V){if(typeof N=="object"&&N!==null&&N.type===ye&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case se:e:{for(var oe=N.key,ce=x;ce!==null;){if(ce.key===oe){if(oe=N.type,oe===ye){if(ce.tag===7){n(w,ce.sibling),x=l(ce,N.props.children),x.return=w,w=x;break e}}else if(ce.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Pe&&Ji(oe)===ce.type){n(w,ce.sibling),x=l(ce,N.props),x.ref=Ul(w,ce,N),x.return=w,w=x;break e}n(w,ce);break}else t(w,ce);ce=ce.sibling}N.type===ye?(x=wr(N.props.children,w.mode,V,N.key),x.return=w,w=x):(V=ao(N.type,N.key,N.props,null,w.mode,V),V.ref=Ul(w,x,N),V.return=w,w=V)}return i(w);case Y:e:{for(ce=N.key;x!==null;){if(x.key===ce)if(x.tag===4&&x.stateNode.containerInfo===N.containerInfo&&x.stateNode.implementation===N.implementation){n(w,x.sibling),x=l(x,N.children||[]),x.return=w,w=x;break e}else{n(w,x);break}else t(w,x);x=x.sibling}x=Ya(N,w.mode,V),x.return=w,w=x}return i(w);case Pe:return ce=N._init,We(w,x,ce(N._payload),V)}if(Qt(N))return D(w,x,N,V);if(te(N))return re(w,x,N,V);Is(w,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,x!==null&&x.tag===6?(n(w,x.sibling),x=l(x,N),x.return=w,w=x):(n(w,x),x=Ka(N,w.mode,V),x.return=w,w=x),i(w)):n(w,x)}return We}var Dr=Gi(!0),Xi=Gi(!1),As=$n(null),Fs=null,el=null,na=null;function ra(){na=el=Fs=null}function la(e){var t=As.current;Ie(As),e._currentValue=t}function sa(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function tl(e,t){Fs=e,na=el=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(xt=!0),e.firstContext=null)}function Tt(e){var t=e._currentValue;if(na!==e)if(e={context:e,memoizedValue:t,next:null},el===null){if(Fs===null)throw Error(a(308));el=e,Fs.dependencies={lanes:0,firstContext:e}}else el=el.next=e;return t}var pr=null;function oa(e){pr===null?pr=[e]:pr.push(e)}function qi(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,oa(t)):(n.next=l.next,l.next=n),t.interleaved=n,fn(e,r)}function fn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Pn=!1;function aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ln(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Ce&2)!==0){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,fn(e,n)}return l=r.interleaved,l===null?(t.next=t,oa(r)):(t.next=l.next,l.next=t),r.interleaved=t,fn(e,n)}function Us(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,wl(e,n)}}function Di(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?l=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?l=o=t:o=o.next=t}else l=o=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bs(e,t,n,r){var l=e.updateQueue;Pn=!1;var o=l.firstBaseUpdate,i=l.lastBaseUpdate,h=l.shared.pending;if(h!==null){l.shared.pending=null;var g=h,S=g.next;g.next=null,i===null?o=S:i.next=S,i=g;var I=e.alternate;I!==null&&(I=I.updateQueue,h=I.lastBaseUpdate,h!==i&&(h===null?I.firstBaseUpdate=S:h.next=S,I.lastBaseUpdate=g))}if(o!==null){var F=l.baseState;i=0,I=S=g=null,h=o;do{var z=h.lane,G=h.eventTime;if((r&z)===z){I!==null&&(I=I.next={eventTime:G,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var D=e,re=h;switch(z=t,G=n,re.tag){case 1:if(D=re.payload,typeof D=="function"){F=D.call(G,F,z);break e}F=D;break e;case 3:D.flags=D.flags&-65537|128;case 0:if(D=re.payload,z=typeof D=="function"?D.call(G,F,z):D,z==null)break e;F=K({},F,z);break e;case 2:Pn=!0}}h.callback!==null&&h.lane!==0&&(e.flags|=64,z=l.effects,z===null?l.effects=[h]:z.push(h))}else G={eventTime:G,lane:z,tag:h.tag,payload:h.payload,callback:h.callback,next:null},I===null?(S=I=G,g=F):I=I.next=G,i|=z;if(h=h.next,h===null){if(h=l.shared.pending,h===null)break;z=h,h=z.next,z.next=null,l.lastBaseUpdate=z,l.shared.pending=null}}while(!0);if(I===null&&(g=F),l.baseState=g,l.firstBaseUpdate=S,l.lastBaseUpdate=I,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else o===null&&(l.shared.lanes=0);xr|=i,e.lanes=i,e.memoizedState=F}}function eu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(a(191,l));l.call(r)}}}var Bl={},Dt=$n(Bl),Vl=$n(Bl),Wl=$n(Bl);function hr(e){if(e===Bl)throw Error(a(174));return e}function ia(e,t){switch(Oe(Wl,t),Oe(Vl,e),Oe(Dt,Bl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Wn(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Wn(t,e)}Ie(Dt),Oe(Dt,t)}function nl(){Ie(Dt),Ie(Vl),Ie(Wl)}function tu(e){hr(Wl.current);var t=hr(Dt.current),n=Wn(t,e.type);t!==n&&(Oe(Vl,e),Oe(Dt,n))}function ua(e){Vl.current===e&&(Ie(Dt),Ie(Vl))}var Fe=$n(0);function Vs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=[];function da(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var Ws=ie.ReactCurrentDispatcher,fa=ie.ReactCurrentBatchConfig,gr=0,Ue=null,Ye=null,Ge=null,Hs=!1,Hl=!1,Ql=0,kd=0;function ot(){throw Error(a(321))}function ma(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!At(e[n],t[n]))return!1;return!0}function pa(e,t,n,r,l,o){if(gr=o,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ws.current=e===null||e.memoizedState===null?Rd:Pd,e=n(r,l),Hl){o=0;do{if(Hl=!1,Ql=0,25<=o)throw Error(a(301));o+=1,Ge=Ye=null,t.updateQueue=null,Ws.current=Ld,e=n(r,l)}while(Hl)}if(Ws.current=Ys,t=Ye!==null&&Ye.next!==null,gr=0,Ge=Ye=Ue=null,Hs=!1,t)throw Error(a(300));return e}function ha(){var e=Ql!==0;return Ql=0,e}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?Ue.memoizedState=Ge=e:Ge=Ge.next=e,Ge}function Rt(){if(Ye===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var t=Ge===null?Ue.memoizedState:Ge.next;if(t!==null)Ge=t,Ye=e;else{if(e===null)throw Error(a(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},Ge===null?Ue.memoizedState=Ge=e:Ge=Ge.next=e}return Ge}function Kl(e,t){return typeof t=="function"?t(e):t}function ga(e){var t=Rt(),n=t.queue;if(n===null)throw Error(a(311));n.lastRenderedReducer=e;var r=Ye,l=r.baseQueue,o=n.pending;if(o!==null){if(l!==null){var i=l.next;l.next=o.next,o.next=i}r.baseQueue=l=o,n.pending=null}if(l!==null){o=l.next,r=r.baseState;var h=i=null,g=null,S=o;do{var I=S.lane;if((gr&I)===I)g!==null&&(g=g.next={lane:0,action:S.action,hasEagerState:S.hasEagerState,eagerState:S.eagerState,next:null}),r=S.hasEagerState?S.eagerState:e(r,S.action);else{var F={lane:I,action:S.action,hasEagerState:S.hasEagerState,eagerState:S.eagerState,next:null};g===null?(h=g=F,i=r):g=g.next=F,Ue.lanes|=I,xr|=I}S=S.next}while(S!==null&&S!==o);g===null?i=r:g.next=h,At(r,t.memoizedState)||(xt=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=g,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do o=l.lane,Ue.lanes|=o,xr|=o,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xa(e){var t=Rt(),n=t.queue;if(n===null)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,o=t.memoizedState;if(l!==null){n.pending=null;var i=l=l.next;do o=e(o,i.action),i=i.next;while(i!==l);At(o,t.memoizedState)||(xt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function nu(){}function ru(e,t){var n=Ue,r=Rt(),l=t(),o=!At(r.memoizedState,l);if(o&&(r.memoizedState=l,xt=!0),r=r.queue,ya(ou.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Ge!==null&&Ge.memoizedState.tag&1){if(n.flags|=2048,Yl(9,su.bind(null,n,r,l,t),void 0,null),Xe===null)throw Error(a(349));(gr&30)!==0||lu(n,t,l)}return l}function lu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function su(e,t,n,r){t.value=n,t.getSnapshot=r,au(t)&&iu(e)}function ou(e,t,n){return n(function(){au(t)&&iu(e)})}function au(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!At(e,n)}catch{return!0}}function iu(e){var t=fn(e,1);t!==null&&Wt(t,e,1,-1)}function uu(e){var t=en();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kl,lastRenderedState:e},t.queue=e,e=e.dispatch=Td.bind(null,Ue,e),[t.memoizedState,e]}function Yl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function cu(){return Rt().memoizedState}function Qs(e,t,n,r){var l=en();Ue.flags|=e,l.memoizedState=Yl(1|t,n,void 0,r===void 0?null:r)}function Ks(e,t,n,r){var l=Rt();r=r===void 0?null:r;var o=void 0;if(Ye!==null){var i=Ye.memoizedState;if(o=i.destroy,r!==null&&ma(r,i.deps)){l.memoizedState=Yl(t,n,o,r);return}}Ue.flags|=e,l.memoizedState=Yl(1|t,n,o,r)}function du(e,t){return Qs(8390656,8,e,t)}function ya(e,t){return Ks(2048,8,e,t)}function fu(e,t){return Ks(4,2,e,t)}function mu(e,t){return Ks(4,4,e,t)}function pu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hu(e,t,n){return n=n!=null?n.concat([e]):null,Ks(4,4,pu.bind(null,t,e),n)}function va(){}function gu(e,t){var n=Rt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ma(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function xu(e,t){var n=Rt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ma(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function yu(e,t,n){return(gr&21)===0?(e.baseState&&(e.baseState=!1,xt=!0),e.memoizedState=n):(At(n,t)||(n=nr(),Ue.lanes|=n,xr|=n,e.baseState=!0),t)}function _d(e,t){var n=Te;Te=n!==0&&4>n?n:4,e(!0);var r=fa.transition;fa.transition={};try{e(!1),t()}finally{Te=n,fa.transition=r}}function vu(){return Rt().memoizedState}function $d(e,t,n){var r=In(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bu(e))wu(t,n);else if(n=qi(e,t,n,r),n!==null){var l=mt();Wt(n,e,r,l),ju(n,t,r)}}function Td(e,t,n){var r=In(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bu(e))wu(t,l);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,h=o(i,n);if(l.hasEagerState=!0,l.eagerState=h,At(h,i)){var g=t.interleaved;g===null?(l.next=l,oa(t)):(l.next=g.next,g.next=l),t.interleaved=l;return}}catch{}finally{}n=qi(e,t,l,r),n!==null&&(l=mt(),Wt(n,e,r,l),ju(n,t,r))}}function bu(e){var t=e.alternate;return e===Ue||t!==null&&t===Ue}function wu(e,t){Hl=Hs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ju(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,wl(e,n)}}var Ys={readContext:Tt,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useInsertionEffect:ot,useLayoutEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useMutableSource:ot,useSyncExternalStore:ot,useId:ot,unstable_isNewReconciler:!1},Rd={readContext:Tt,useCallback:function(e,t){return en().memoizedState=[e,t===void 0?null:t],e},useContext:Tt,useEffect:du,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Qs(4194308,4,pu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Qs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Qs(4,2,e,t)},useMemo:function(e,t){var n=en();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=en();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$d.bind(null,Ue,e),[r.memoizedState,e]},useRef:function(e){var t=en();return e={current:e},t.memoizedState=e},useState:uu,useDebugValue:va,useDeferredValue:function(e){return en().memoizedState=e},useTransition:function(){var e=uu(!1),t=e[0];return e=_d.bind(null,e[1]),en().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ue,l=en();if(Ae){if(n===void 0)throw Error(a(407));n=n()}else{if(n=t(),Xe===null)throw Error(a(349));(gr&30)!==0||lu(r,t,n)}l.memoizedState=n;var o={value:n,getSnapshot:t};return l.queue=o,du(ou.bind(null,r,o,e),[e]),r.flags|=2048,Yl(9,su.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=en(),t=Xe.identifierPrefix;if(Ae){var n=dn,r=cn;n=(r&~(1<<32-pt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ql++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=kd++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Pd={readContext:Tt,useCallback:gu,useContext:Tt,useEffect:ya,useImperativeHandle:hu,useInsertionEffect:fu,useLayoutEffect:mu,useMemo:xu,useReducer:ga,useRef:cu,useState:function(){return ga(Kl)},useDebugValue:va,useDeferredValue:function(e){var t=Rt();return yu(t,Ye.memoizedState,e)},useTransition:function(){var e=ga(Kl)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:nu,useSyncExternalStore:ru,useId:vu,unstable_isNewReconciler:!1},Ld={readContext:Tt,useCallback:gu,useContext:Tt,useEffect:ya,useImperativeHandle:hu,useInsertionEffect:fu,useLayoutEffect:mu,useMemo:xu,useReducer:xa,useRef:cu,useState:function(){return xa(Kl)},useDebugValue:va,useDeferredValue:function(e){var t=Rt();return Ye===null?t.memoizedState=e:yu(t,Ye.memoizedState,e)},useTransition:function(){var e=xa(Kl)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:nu,useSyncExternalStore:ru,useId:vu,unstable_isNewReconciler:!1};function Ut(e,t){if(e&&e.defaultProps){t=K({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ba(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:K({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Js={isMounted:function(e){return(e=e._reactInternals)?rn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=mt(),l=In(e),o=mn(r,l);o.payload=t,n!=null&&(o.callback=n),t=Ln(e,o,l),t!==null&&(Wt(t,e,l,r),Us(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=mt(),l=In(e),o=mn(r,l);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Ln(e,o,l),t!==null&&(Wt(t,e,l,r),Us(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=mt(),r=In(e),l=mn(n,r);l.tag=2,t!=null&&(l.callback=t),t=Ln(e,l,r),t!==null&&(Wt(t,e,r,n),Us(t,e,r))}};function Nu(e,t,n,r,l,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!Ll(n,r)||!Ll(l,o):!0}function Su(e,t,n){var r=!1,l=Tn,o=t.contextType;return typeof o=="object"&&o!==null?o=Tt(o):(l=gt(t)?dr:st.current,r=t.contextTypes,o=(r=r!=null)?Gr(e,l):Tn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Js,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=o),t}function Cu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Js.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},aa(e);var o=t.contextType;typeof o=="object"&&o!==null?l.context=Tt(o):(o=gt(t)?dr:st.current,l.context=Gr(e,o)),l.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(ba(e,t,o,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Js.enqueueReplaceState(l,l.state,null),Bs(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function rl(e,t){try{var n="",r=t;do n+=A(r),r=r.return;while(r);var l=n}catch(o){l=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:l,digest:null}}function ja(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Na(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Od=typeof WeakMap=="function"?WeakMap:Map;function Eu(e,t,n){n=mn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){to||(to=!0,Aa=r),Na(e,t)},n}function ku(e,t,n){n=mn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){Na(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Na(e,t),typeof r!="function"&&(Mn===null?Mn=new Set([this]):Mn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function _u(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Od;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=Jd.bind(null,e,t,n),t.then(e,e))}function $u(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Tu(e,t,n,r,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=mn(-1,1),t.tag=2,Ln(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var Md=ie.ReactCurrentOwner,xt=!1;function ft(e,t,n,r){t.child=e===null?Xi(t,null,n,r):Dr(t,e.child,n,r)}function Ru(e,t,n,r,l){n=n.render;var o=t.ref;return tl(t,l),r=pa(e,t,n,r,o,l),n=ha(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,pn(e,t,l)):(Ae&&n&&qo(t),t.flags|=1,ft(e,t,r,l),t.child)}function Pu(e,t,n,r,l){if(e===null){var o=n.type;return typeof o=="function"&&!Qa(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Lu(e,t,o,r,l)):(e=ao(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,(e.lanes&l)===0){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ll,n(i,r)&&e.ref===t.ref)return pn(e,t,l)}return t.flags|=1,e=Fn(o,r),e.ref=t.ref,e.return=t,t.child=e}function Lu(e,t,n,r,l){if(e!==null){var o=e.memoizedProps;if(Ll(o,r)&&e.ref===t.ref)if(xt=!1,t.pendingProps=r=o,(e.lanes&l)!==0)(e.flags&131072)!==0&&(xt=!0);else return t.lanes=e.lanes,pn(e,t,l)}return Sa(e,t,n,r,l)}function Ou(e,t,n){var r=t.pendingProps,l=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(sl,St),St|=n;else{if((n&1073741824)===0)return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oe(sl,St),St|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Oe(sl,St),St|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Oe(sl,St),St|=r;return ft(e,t,l,n),t.child}function Mu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Sa(e,t,n,r,l){var o=gt(n)?dr:st.current;return o=Gr(t,o),tl(t,l),n=pa(e,t,n,r,o,l),r=ha(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,pn(e,t,l)):(Ae&&r&&qo(t),t.flags|=1,ft(e,t,n,l),t.child)}function zu(e,t,n,r,l){if(gt(n)){var o=!0;Ps(t)}else o=!1;if(tl(t,l),t.stateNode===null)Xs(e,t),Su(t,n,r),wa(t,n,r,l),r=!0;else if(e===null){var i=t.stateNode,h=t.memoizedProps;i.props=h;var g=i.context,S=n.contextType;typeof S=="object"&&S!==null?S=Tt(S):(S=gt(n)?dr:st.current,S=Gr(t,S));var I=n.getDerivedStateFromProps,F=typeof I=="function"||typeof i.getSnapshotBeforeUpdate=="function";F||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(h!==r||g!==S)&&Cu(t,i,r,S),Pn=!1;var z=t.memoizedState;i.state=z,Bs(t,r,i,l),g=t.memoizedState,h!==r||z!==g||ht.current||Pn?(typeof I=="function"&&(ba(t,n,I,r),g=t.memoizedState),(h=Pn||Nu(t,n,h,r,z,g,S))?(F||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=g),i.props=r,i.state=g,i.context=S,r=h):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Zi(e,t),h=t.memoizedProps,S=t.type===t.elementType?h:Ut(t.type,h),i.props=S,F=t.pendingProps,z=i.context,g=n.contextType,typeof g=="object"&&g!==null?g=Tt(g):(g=gt(n)?dr:st.current,g=Gr(t,g));var G=n.getDerivedStateFromProps;(I=typeof G=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(h!==F||z!==g)&&Cu(t,i,r,g),Pn=!1,z=t.memoizedState,i.state=z,Bs(t,r,i,l);var D=t.memoizedState;h!==F||z!==D||ht.current||Pn?(typeof G=="function"&&(ba(t,n,G,r),D=t.memoizedState),(S=Pn||Nu(t,n,S,r,z,D,g)||!1)?(I||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,D,g),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,D,g)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||h===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=D),i.props=r,i.state=D,i.context=g,r=S):(typeof i.componentDidUpdate!="function"||h===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),r=!1)}return Ca(e,t,n,r,o,l)}function Ca(e,t,n,r,l,o){Mu(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return l&&Bi(t,n,!1),pn(e,t,o);r=t.stateNode,Md.current=t;var h=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Dr(t,e.child,null,o),t.child=Dr(t,null,h,o)):ft(e,t,h,o),t.memoizedState=r.state,l&&Bi(t,n,!0),t.child}function Iu(e){var t=e.stateNode;t.pendingContext?Fi(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Fi(e,t.context,!1),ia(e,t.containerInfo)}function Au(e,t,n,r,l){return Zr(),ta(l),t.flags|=256,ft(e,t,n,r),t.child}var Ea={dehydrated:null,treeContext:null,retryLane:0};function ka(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r=t.pendingProps,l=Fe.current,o=!1,i=(t.flags&128)!==0,h;if((h=i)||(h=e!==null&&e.memoizedState===null?!1:(l&2)!==0),h?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Oe(Fe,l&1),e===null)return ea(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},(r&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=i):o=io(i,r,0,null),e=wr(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=ka(n),t.memoizedState=Ea,e):_a(t,i));if(l=e.memoizedState,l!==null&&(h=l.dehydrated,h!==null))return zd(e,t,i,r,h,l,n);if(o){o=r.fallback,i=t.mode,l=e.child,h=l.sibling;var g={mode:"hidden",children:r.children};return(i&1)===0&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=g,t.deletions=null):(r=Fn(l,g),r.subtreeFlags=l.subtreeFlags&14680064),h!==null?o=Fn(h,o):(o=wr(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?ka(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=Ea,r}return o=e.child,e=o.sibling,r=Fn(o,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function _a(e,t){return t=io({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Gs(e,t,n,r){return r!==null&&ta(r),Dr(t,e.child,null,n),e=_a(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zd(e,t,n,r,l,o,i){if(n)return t.flags&256?(t.flags&=-257,r=ja(Error(a(422))),Gs(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,l=t.mode,r=io({mode:"visible",children:r.children},l,0,null),o=wr(o,l,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,(t.mode&1)!==0&&Dr(t,e.child,null,i),t.child.memoizedState=ka(i),t.memoizedState=Ea,o);if((t.mode&1)===0)return Gs(e,t,i,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var h=r.dgst;return r=h,o=Error(a(419)),r=ja(o,r,void 0),Gs(e,t,i,r)}if(h=(i&e.childLanes)!==0,xt||h){if(r=Xe,r!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(r.suspendedLanes|i))!==0?0:l,l!==0&&l!==o.retryLane&&(o.retryLane=l,fn(e,l),Wt(r,e,l,-1))}return Ha(),r=ja(Error(a(421))),Gs(e,t,i,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Gd.bind(null,e),l._reactRetry=t,null):(e=o.treeContext,Nt=_n(l.nextSibling),jt=t,Ae=!0,Ft=null,e!==null&&(_t[$t++]=cn,_t[$t++]=dn,_t[$t++]=fr,cn=e.id,dn=e.overflow,fr=t),t=_a(t,r.children),t.flags|=4096,t)}function Uu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),sa(e.return,t,n)}function $a(e,t,n,r,l){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=l)}function Bu(e,t,n){var r=t.pendingProps,l=r.revealOrder,o=r.tail;if(ft(e,t,r.children,n),r=Fe.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Uu(e,n,t);else if(e.tag===19)Uu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Oe(Fe,r),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Vs(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),$a(t,!1,l,n,o);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Vs(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}$a(t,!0,n,null,o);break;case"together":$a(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xs(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function pn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),xr|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,n=Fn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Fn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Id(e,t,n){switch(t.tag){case 3:Iu(t),Zr();break;case 5:tu(t);break;case 1:gt(t.type)&&Ps(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;Oe(As,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Oe(Fe,Fe.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?Fu(e,t,n):(Oe(Fe,Fe.current&1),e=pn(e,t,n),e!==null?e.sibling:null);Oe(Fe,Fe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return Bu(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Oe(Fe,Fe.current),r)break;return null;case 22:case 23:return t.lanes=0,Ou(e,t,n)}return pn(e,t,n)}var Vu,Ta,Wu,Hu;Vu=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ta=function(){},Wu=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,hr(Dt.current);var o=null;switch(n){case"input":l=Bn(e,l),r=Bn(e,r),o=[];break;case"select":l=K({},l,{value:void 0}),r=K({},r,{value:void 0}),o=[];break;case"textarea":l=Kt(e,l),r=Kt(e,r),o=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=$s)}Kn(n,r);var i;n=null;for(S in l)if(!r.hasOwnProperty(S)&&l.hasOwnProperty(S)&&l[S]!=null)if(S==="style"){var h=l[S];for(i in h)h.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else S!=="dangerouslySetInnerHTML"&&S!=="children"&&S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(m.hasOwnProperty(S)?o||(o=[]):(o=o||[]).push(S,null));for(S in r){var g=r[S];if(h=l!=null?l[S]:void 0,r.hasOwnProperty(S)&&g!==h&&(g!=null||h!=null))if(S==="style")if(h){for(i in h)!h.hasOwnProperty(i)||g&&g.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in g)g.hasOwnProperty(i)&&h[i]!==g[i]&&(n||(n={}),n[i]=g[i])}else n||(o||(o=[]),o.push(S,n)),n=g;else S==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,h=h?h.__html:void 0,g!=null&&h!==g&&(o=o||[]).push(S,g)):S==="children"?typeof g!="string"&&typeof g!="number"||(o=o||[]).push(S,""+g):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&(m.hasOwnProperty(S)?(g!=null&&S==="onScroll"&&ze("scroll",e),o||h===g||(o=[])):(o=o||[]).push(S,g))}n&&(o=o||[]).push("style",n);var S=o;(t.updateQueue=S)&&(t.flags|=4)}},Hu=function(e,t,n,r){n!==r&&(t.flags|=4)};function Jl(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function at(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ad(e,t,n){var r=t.pendingProps;switch(Zo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(t),null;case 1:return gt(t.type)&&Rs(),at(t),null;case 3:return r=t.stateNode,nl(),Ie(ht),Ie(st),da(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(zs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ft!==null&&(Ba(Ft),Ft=null))),Ta(e,t),at(t),null;case 5:ua(t);var l=hr(Wl.current);if(n=t.type,e!==null&&t.stateNode!=null)Wu(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(a(166));return at(t),null}if(e=hr(Dt.current),zs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Zt]=t,r[Al]=o,e=(t.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(l=0;l<Ml.length;l++)ze(Ml[l],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":ns(r,o),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ze("invalid",r);break;case"textarea":gn(r,o),ze("invalid",r)}Kn(n,o),l=null;for(var i in o)if(o.hasOwnProperty(i)){var h=o[i];i==="children"?typeof h=="string"?r.textContent!==h&&(o.suppressHydrationWarning!==!0&&_s(r.textContent,h,e),l=["children",h]):typeof h=="number"&&r.textContent!==""+h&&(o.suppressHydrationWarning!==!0&&_s(r.textContent,h,e),l=["children",""+h]):m.hasOwnProperty(i)&&h!=null&&i==="onScroll"&&ze("scroll",r)}switch(n){case"input":jr(r),Sr(r,o,!0);break;case"textarea":jr(r),rs(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=$s)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ls(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Zt]=t,e[Al]=r,Vu(e,t,!1,!1),t.stateNode=e;e:{switch(i=_r(n,r),n){case"dialog":ze("cancel",e),ze("close",e),l=r;break;case"iframe":case"object":case"embed":ze("load",e),l=r;break;case"video":case"audio":for(l=0;l<Ml.length;l++)ze(Ml[l],e);l=r;break;case"source":ze("error",e),l=r;break;case"img":case"image":case"link":ze("error",e),ze("load",e),l=r;break;case"details":ze("toggle",e),l=r;break;case"input":ns(e,r),l=Bn(e,r),ze("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=K({},r,{value:void 0}),ze("invalid",e);break;case"textarea":gn(e,r),l=Kt(e,r),ze("invalid",e);break;default:l=r}Kn(n,l),h=l;for(o in h)if(h.hasOwnProperty(o)){var g=h[o];o==="style"?kr(e,g):o==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&ss(e,g)):o==="children"?typeof g=="string"?(n!=="textarea"||g!=="")&&Hn(e,g):typeof g=="number"&&Hn(e,""+g):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(m.hasOwnProperty(o)?g!=null&&o==="onScroll"&&ze("scroll",e):g!=null&&Q(e,o,g,i))}switch(n){case"input":jr(e),Sr(e,r,!1);break;case"textarea":jr(e),rs(e);break;case"option":r.value!=null&&e.setAttribute("value",""+P(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?wt(e,!!r.multiple,o,!1):r.defaultValue!=null&&wt(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=$s)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return at(t),null;case 6:if(e&&t.stateNode!=null)Hu(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(a(166));if(n=hr(Wl.current),hr(Dt.current),zs(t)){if(r=t.stateNode,n=t.memoizedProps,r[Zt]=t,(o=r.nodeValue!==n)&&(e=jt,e!==null))switch(e.tag){case 3:_s(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_s(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zt]=t,t.stateNode=r}return at(t),null;case 13:if(Ie(Fe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ae&&Nt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Yi(),Zr(),t.flags|=98560,o=!1;else if(o=zs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(a(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(a(317));o[Zt]=t}else Zr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;at(t),o=!1}else Ft!==null&&(Ba(Ft),Ft=null),o=!0;if(!o)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Fe.current&1)!==0?Je===0&&(Je=3):Ha())),t.updateQueue!==null&&(t.flags|=4),at(t),null);case 4:return nl(),Ta(e,t),e===null&&zl(t.stateNode.containerInfo),at(t),null;case 10:return la(t.type._context),at(t),null;case 17:return gt(t.type)&&Rs(),at(t),null;case 19:if(Ie(Fe),o=t.memoizedState,o===null)return at(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)Jl(o,!1);else{if(Je!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=Vs(e),i!==null){for(t.flags|=128,Jl(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Oe(Fe,Fe.current&1|2),t.child}e=e.sibling}o.tail!==null&&Le()>ol&&(t.flags|=128,r=!0,Jl(o,!1),t.lanes=4194304)}else{if(!r)if(e=Vs(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Jl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Ae)return at(t),null}else 2*Le()-o.renderingStartTime>ol&&n!==1073741824&&(t.flags|=128,r=!0,Jl(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Le(),t.sibling=null,n=Fe.current,Oe(Fe,r?n&1|2:n&1),t):(at(t),null);case 22:case 23:return Wa(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(St&1073741824)!==0&&(at(t),t.subtreeFlags&6&&(t.flags|=8192)):at(t),null;case 24:return null;case 25:return null}throw Error(a(156,t.tag))}function Fd(e,t){switch(Zo(t),t.tag){case 1:return gt(t.type)&&Rs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return nl(),Ie(ht),Ie(st),da(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return ua(t),null;case 13:if(Ie(Fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));Zr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ie(Fe),null;case 4:return nl(),null;case 10:return la(t.type._context),null;case 22:case 23:return Wa(),null;case 24:return null;default:return null}}var qs=!1,it=!1,Ud=typeof WeakSet=="function"?WeakSet:Set,q=null;function ll(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Be(e,t,r)}else n.current=null}function Ra(e,t,n){try{n()}catch(r){Be(e,t,r)}}var Qu=!1;function Bd(e,t){if(Wo=Ir,e=Ni(),Mo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,h=-1,g=-1,S=0,I=0,F=e,z=null;t:for(;;){for(var G;F!==n||l!==0&&F.nodeType!==3||(h=i+l),F!==o||r!==0&&F.nodeType!==3||(g=i+r),F.nodeType===3&&(i+=F.nodeValue.length),(G=F.firstChild)!==null;)z=F,F=G;for(;;){if(F===e)break t;if(z===n&&++S===l&&(h=i),z===o&&++I===r&&(g=i),(G=F.nextSibling)!==null)break;F=z,z=F.parentNode}F=G}n=h===-1||g===-1?null:{start:h,end:g}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ho={focusedElem:e,selectionRange:n},Ir=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var D=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(D!==null){var re=D.memoizedProps,We=D.memoizedState,w=t.stateNode,x=w.getSnapshotBeforeUpdate(t.elementType===t.type?re:Ut(t.type,re),We);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(V){Be(t,t.return,V)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return D=Qu,Qu=!1,D}function Gl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var o=l.destroy;l.destroy=void 0,o!==void 0&&Ra(t,n,o)}l=l.next}while(l!==r)}}function Zs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Pa(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ku(e){var t=e.alternate;t!==null&&(e.alternate=null,Ku(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zt],delete t[Al],delete t[Jo],delete t[Nd],delete t[Sd])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Yu(e){return e.tag===5||e.tag===3||e.tag===4}function Ju(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Yu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function La(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=$s));else if(r!==4&&(e=e.child,e!==null))for(La(e,t,n),e=e.sibling;e!==null;)La(e,t,n),e=e.sibling}function Oa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Oa(e,t,n),e=e.sibling;e!==null;)Oa(e,t,n),e=e.sibling}var tt=null,Bt=!1;function On(e,t,n){for(n=n.child;n!==null;)Gu(e,t,n),n=n.sibling}function Gu(e,t,n){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(Ct,n)}catch{}switch(n.tag){case 5:it||ll(n,t);case 6:var r=tt,l=Bt;tt=null,On(e,t,n),tt=r,Bt=l,tt!==null&&(Bt?(e=tt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):tt.removeChild(n.stateNode));break;case 18:tt!==null&&(Bt?(e=tt,n=n.stateNode,e.nodeType===8?Yo(e.parentNode,n):e.nodeType===1&&Yo(e,n),ir(e)):Yo(tt,n.stateNode));break;case 4:r=tt,l=Bt,tt=n.stateNode.containerInfo,Bt=!0,On(e,t,n),tt=r,Bt=l;break;case 0:case 11:case 14:case 15:if(!it&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var o=l,i=o.destroy;o=o.tag,i!==void 0&&((o&2)!==0||(o&4)!==0)&&Ra(n,t,i),l=l.next}while(l!==r)}On(e,t,n);break;case 1:if(!it&&(ll(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(h){Be(n,t,h)}On(e,t,n);break;case 21:On(e,t,n);break;case 22:n.mode&1?(it=(r=it)||n.memoizedState!==null,On(e,t,n),it=r):On(e,t,n);break;default:On(e,t,n)}}function Xu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ud),t.forEach(function(r){var l=Xd.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function Vt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var o=e,i=t,h=i;e:for(;h!==null;){switch(h.tag){case 5:tt=h.stateNode,Bt=!1;break e;case 3:tt=h.stateNode.containerInfo,Bt=!0;break e;case 4:tt=h.stateNode.containerInfo,Bt=!0;break e}h=h.return}if(tt===null)throw Error(a(160));Gu(o,i,l),tt=null,Bt=!1;var g=l.alternate;g!==null&&(g.return=null),l.return=null}catch(S){Be(l,t,S)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qu(t,e),t=t.sibling}function qu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Vt(t,e),tn(e),r&4){try{Gl(3,e,e.return),Zs(3,e)}catch(re){Be(e,e.return,re)}try{Gl(5,e,e.return)}catch(re){Be(e,e.return,re)}}break;case 1:Vt(t,e),tn(e),r&512&&n!==null&&ll(n,n.return);break;case 5:if(Vt(t,e),tn(e),r&512&&n!==null&&ll(n,n.return),e.flags&32){var l=e.stateNode;try{Hn(l,"")}catch(re){Be(e,e.return,re)}}if(r&4&&(l=e.stateNode,l!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,h=e.type,g=e.updateQueue;if(e.updateQueue=null,g!==null)try{h==="input"&&o.type==="radio"&&o.name!=null&&cl(l,o),_r(h,i);var S=_r(h,o);for(i=0;i<g.length;i+=2){var I=g[i],F=g[i+1];I==="style"?kr(l,F):I==="dangerouslySetInnerHTML"?ss(l,F):I==="children"?Hn(l,F):Q(l,I,F,S)}switch(h){case"input":Nr(l,o);break;case"textarea":Vn(l,o);break;case"select":var z=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!o.multiple;var G=o.value;G!=null?wt(l,!!o.multiple,G,!1):z!==!!o.multiple&&(o.defaultValue!=null?wt(l,!!o.multiple,o.defaultValue,!0):wt(l,!!o.multiple,o.multiple?[]:"",!1))}l[Al]=o}catch(re){Be(e,e.return,re)}}break;case 6:if(Vt(t,e),tn(e),r&4){if(e.stateNode===null)throw Error(a(162));l=e.stateNode,o=e.memoizedProps;try{l.nodeValue=o}catch(re){Be(e,e.return,re)}}break;case 3:if(Vt(t,e),tn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ir(t.containerInfo)}catch(re){Be(e,e.return,re)}break;case 4:Vt(t,e),tn(e);break;case 13:Vt(t,e),tn(e),l=e.child,l.flags&8192&&(o=l.memoizedState!==null,l.stateNode.isHidden=o,!o||l.alternate!==null&&l.alternate.memoizedState!==null||(Ia=Le())),r&4&&Xu(e);break;case 22:if(I=n!==null&&n.memoizedState!==null,e.mode&1?(it=(S=it)||I,Vt(t,e),it=S):Vt(t,e),tn(e),r&8192){if(S=e.memoizedState!==null,(e.stateNode.isHidden=S)&&!I&&(e.mode&1)!==0)for(q=e,I=e.child;I!==null;){for(F=q=I;q!==null;){switch(z=q,G=z.child,z.tag){case 0:case 11:case 14:case 15:Gl(4,z,z.return);break;case 1:ll(z,z.return);var D=z.stateNode;if(typeof D.componentWillUnmount=="function"){r=z,n=z.return;try{t=r,D.props=t.memoizedProps,D.state=t.memoizedState,D.componentWillUnmount()}catch(re){Be(r,n,re)}}break;case 5:ll(z,z.return);break;case 22:if(z.memoizedState!==null){ec(F);continue}}G!==null?(G.return=z,q=G):ec(F)}I=I.sibling}e:for(I=null,F=e;;){if(F.tag===5){if(I===null){I=F;try{l=F.stateNode,S?(o=l.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(h=F.stateNode,g=F.memoizedProps.style,i=g!=null&&g.hasOwnProperty("display")?g.display:null,h.style.display=xn("display",i))}catch(re){Be(e,e.return,re)}}}else if(F.tag===6){if(I===null)try{F.stateNode.nodeValue=S?"":F.memoizedProps}catch(re){Be(e,e.return,re)}}else if((F.tag!==22&&F.tag!==23||F.memoizedState===null||F===e)&&F.child!==null){F.child.return=F,F=F.child;continue}if(F===e)break e;for(;F.sibling===null;){if(F.return===null||F.return===e)break e;I===F&&(I=null),F=F.return}I===F&&(I=null),F.sibling.return=F.return,F=F.sibling}}break;case 19:Vt(t,e),tn(e),r&4&&Xu(e);break;case 21:break;default:Vt(t,e),tn(e)}}function tn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Yu(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(Hn(l,""),r.flags&=-33);var o=Ju(e);Oa(e,o,l);break;case 3:case 4:var i=r.stateNode.containerInfo,h=Ju(e);La(e,h,i);break;default:throw Error(a(161))}}catch(g){Be(e,e.return,g)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vd(e,t,n){q=e,Zu(e)}function Zu(e,t,n){for(var r=(e.mode&1)!==0;q!==null;){var l=q,o=l.child;if(l.tag===22&&r){var i=l.memoizedState!==null||qs;if(!i){var h=l.alternate,g=h!==null&&h.memoizedState!==null||it;h=qs;var S=it;if(qs=i,(it=g)&&!S)for(q=l;q!==null;)i=q,g=i.child,i.tag===22&&i.memoizedState!==null?tc(l):g!==null?(g.return=i,q=g):tc(l);for(;o!==null;)q=o,Zu(o),o=o.sibling;q=l,qs=h,it=S}Du(e)}else(l.subtreeFlags&8772)!==0&&o!==null?(o.return=l,q=o):Du(e)}}function Du(e){for(;q!==null;){var t=q;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:it||Zs(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!it)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Ut(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&eu(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}eu(t,i,n)}break;case 5:var h=t.stateNode;if(n===null&&t.flags&4){n=h;var g=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&n.focus();break;case"img":g.src&&(n.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var S=t.alternate;if(S!==null){var I=S.memoizedState;if(I!==null){var F=I.dehydrated;F!==null&&ir(F)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}it||t.flags&512&&Pa(t)}catch(z){Be(t,t.return,z)}}if(t===e){q=null;break}if(n=t.sibling,n!==null){n.return=t.return,q=n;break}q=t.return}}function ec(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,q=n;break}q=t.return}}function tc(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Zs(4,t)}catch(g){Be(t,n,g)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(g){Be(t,l,g)}}var o=t.return;try{Pa(t)}catch(g){Be(t,o,g)}break;case 5:var i=t.return;try{Pa(t)}catch(g){Be(t,i,g)}}}catch(g){Be(t,t.return,g)}if(t===e){q=null;break}var h=t.sibling;if(h!==null){h.return=t.return,q=h;break}q=t.return}}var Wd=Math.ceil,Ds=ie.ReactCurrentDispatcher,Ma=ie.ReactCurrentOwner,Pt=ie.ReactCurrentBatchConfig,Ce=0,Xe=null,Qe=null,nt=0,St=0,sl=$n(0),Je=0,Xl=null,xr=0,eo=0,za=0,ql=null,yt=null,Ia=0,ol=1/0,hn=null,to=!1,Aa=null,Mn=null,no=!1,zn=null,ro=0,Zl=0,Fa=null,lo=-1,so=0;function mt(){return(Ce&6)!==0?Le():lo!==-1?lo:lo=Le()}function In(e){return(e.mode&1)===0?1:(Ce&2)!==0&&nt!==0?nt&-nt:Ed.transition!==null?(so===0&&(so=nr()),so):(e=Te,e!==0||(e=window.event,e=e===void 0?16:bs(e.type)),e)}function Wt(e,t,n,r){if(50<Zl)throw Zl=0,Fa=null,Error(a(185));ln(e,n,r),((Ce&2)===0||e!==Xe)&&(e===Xe&&((Ce&2)===0&&(eo|=n),Je===4&&An(e,nt)),vt(e,r),n===1&&Ce===0&&(t.mode&1)===0&&(ol=Le()+500,Ls&&Rn()))}function vt(e,t){var n=e.callbackNode;vl(e,t);var r=tr(e,e===Xe?nt:0);if(r===0)n!==null&&hs(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&hs(n),t===1)e.tag===0?Cd(rc.bind(null,e)):Vi(rc.bind(null,e)),wd(function(){(Ce&6)===0&&Rn()}),n=null;else{switch(lr(r)){case 1:n=wn;break;case 4:n=xl;break;case 16:n=Zn;break;case 536870912:n=er;break;default:n=Zn}n=dc(n,nc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function nc(e,t){if(lo=-1,so=0,(Ce&6)!==0)throw Error(a(327));var n=e.callbackNode;if(al()&&e.callbackNode!==n)return null;var r=tr(e,e===Xe?nt:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=oo(e,r);else{t=r;var l=Ce;Ce|=2;var o=sc();(Xe!==e||nt!==t)&&(hn=null,ol=Le()+500,vr(e,t));do try{Kd();break}catch(h){lc(e,h)}while(!0);ra(),Ds.current=o,Ce=l,Qe!==null?t=0:(Xe=null,nt=0,t=Je)}if(t!==0){if(t===2&&(l=bl(e),l!==0&&(r=l,t=Ua(e,l))),t===1)throw n=Xl,vr(e,0),An(e,r),vt(e,Le()),n;if(t===6)An(e,r);else{if(l=e.current.alternate,(r&30)===0&&!Hd(l)&&(t=oo(e,r),t===2&&(o=bl(e),o!==0&&(r=o,t=Ua(e,o))),t===1))throw n=Xl,vr(e,0),An(e,r),vt(e,Le()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:br(e,yt,hn);break;case 3:if(An(e,r),(r&130023424)===r&&(t=Ia+500-Le(),10<t)){if(tr(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){mt(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Ko(br.bind(null,e,yt,hn),t);break}br(e,yt,hn);break;case 4:if(An(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var i=31-pt(r);o=1<<i,i=t[i],i>l&&(l=i),r&=~o}if(r=l,r=Le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Wd(r/1960))-r,10<r){e.timeoutHandle=Ko(br.bind(null,e,yt,hn),r);break}br(e,yt,hn);break;case 5:br(e,yt,hn);break;default:throw Error(a(329))}}}return vt(e,Le()),e.callbackNode===n?nc.bind(null,e):null}function Ua(e,t){var n=ql;return e.current.memoizedState.isDehydrated&&(vr(e,t).flags|=256),e=oo(e,t),e!==2&&(t=yt,yt=n,t!==null&&Ba(t)),e}function Ba(e){yt===null?yt=e:yt.push.apply(yt,e)}function Hd(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],o=l.getSnapshot;l=l.value;try{if(!At(o(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function An(e,t){for(t&=~za,t&=~eo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-pt(t),r=1<<n;e[n]=-1,t&=~r}}function rc(e){if((Ce&6)!==0)throw Error(a(327));al();var t=tr(e,0);if((t&1)===0)return vt(e,Le()),null;var n=oo(e,t);if(e.tag!==0&&n===2){var r=bl(e);r!==0&&(t=r,n=Ua(e,r))}if(n===1)throw n=Xl,vr(e,0),An(e,t),vt(e,Le()),n;if(n===6)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,br(e,yt,hn),vt(e,Le()),null}function Va(e,t){var n=Ce;Ce|=1;try{return e(t)}finally{Ce=n,Ce===0&&(ol=Le()+500,Ls&&Rn())}}function yr(e){zn!==null&&zn.tag===0&&(Ce&6)===0&&al();var t=Ce;Ce|=1;var n=Pt.transition,r=Te;try{if(Pt.transition=null,Te=1,e)return e()}finally{Te=r,Pt.transition=n,Ce=t,(Ce&6)===0&&Rn()}}function Wa(){St=sl.current,Ie(sl)}function vr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,bd(n)),Qe!==null)for(n=Qe.return;n!==null;){var r=n;switch(Zo(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Rs();break;case 3:nl(),Ie(ht),Ie(st),da();break;case 5:ua(r);break;case 4:nl();break;case 13:Ie(Fe);break;case 19:Ie(Fe);break;case 10:la(r.type._context);break;case 22:case 23:Wa()}n=n.return}if(Xe=e,Qe=e=Fn(e.current,null),nt=St=t,Je=0,Xl=null,za=eo=xr=0,yt=ql=null,pr!==null){for(t=0;t<pr.length;t++)if(n=pr[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=l,r.next=i}n.pending=r}pr=null}return e}function lc(e,t){do{var n=Qe;try{if(ra(),Ws.current=Ys,Hs){for(var r=Ue.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Hs=!1}if(gr=0,Ge=Ye=Ue=null,Hl=!1,Ql=0,Ma.current=null,n===null||n.return===null){Je=1,Xl=t,Qe=null;break}e:{var o=e,i=n.return,h=n,g=t;if(t=nt,h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var S=g,I=h,F=I.tag;if((I.mode&1)===0&&(F===0||F===11||F===15)){var z=I.alternate;z?(I.updateQueue=z.updateQueue,I.memoizedState=z.memoizedState,I.lanes=z.lanes):(I.updateQueue=null,I.memoizedState=null)}var G=$u(i);if(G!==null){G.flags&=-257,Tu(G,i,h,o,t),G.mode&1&&_u(o,S,t),t=G,g=S;var D=t.updateQueue;if(D===null){var re=new Set;re.add(g),t.updateQueue=re}else D.add(g);break e}else{if((t&1)===0){_u(o,S,t),Ha();break e}g=Error(a(426))}}else if(Ae&&h.mode&1){var We=$u(i);if(We!==null){(We.flags&65536)===0&&(We.flags|=256),Tu(We,i,h,o,t),ta(rl(g,h));break e}}o=g=rl(g,h),Je!==4&&(Je=2),ql===null?ql=[o]:ql.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var w=Eu(o,g,t);Di(o,w);break e;case 1:h=g;var x=o.type,N=o.stateNode;if((o.flags&128)===0&&(typeof x.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Mn===null||!Mn.has(N)))){o.flags|=65536,t&=-t,o.lanes|=t;var V=ku(o,h,t);Di(o,V);break e}}o=o.return}while(o!==null)}ac(n)}catch(oe){t=oe,Qe===n&&n!==null&&(Qe=n=n.return);continue}break}while(!0)}function sc(){var e=Ds.current;return Ds.current=Ys,e===null?Ys:e}function Ha(){(Je===0||Je===3||Je===2)&&(Je=4),Xe===null||(xr&268435455)===0&&(eo&268435455)===0||An(Xe,nt)}function oo(e,t){var n=Ce;Ce|=2;var r=sc();(Xe!==e||nt!==t)&&(hn=null,vr(e,t));do try{Qd();break}catch(l){lc(e,l)}while(!0);if(ra(),Ce=n,Ds.current=r,Qe!==null)throw Error(a(261));return Xe=null,nt=0,Je}function Qd(){for(;Qe!==null;)oc(Qe)}function Kd(){for(;Qe!==null&&!No();)oc(Qe)}function oc(e){var t=cc(e.alternate,e,St);e.memoizedProps=e.pendingProps,t===null?ac(e):Qe=t,Ma.current=null}function ac(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Ad(n,t,St),n!==null){Qe=n;return}}else{if(n=Fd(n,t),n!==null){n.flags&=32767,Qe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Je=6,Qe=null;return}}if(t=t.sibling,t!==null){Qe=t;return}Qe=t=e}while(t!==null);Je===0&&(Je=5)}function br(e,t,n){var r=Te,l=Pt.transition;try{Pt.transition=null,Te=1,Yd(e,t,n,r)}finally{Pt.transition=l,Te=r}return null}function Yd(e,t,n,r){do al();while(zn!==null);if((Ce&6)!==0)throw Error(a(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Eo(e,o),e===Xe&&(Qe=Xe=null,nt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||no||(no=!0,dc(Zn,function(){return al(),null})),o=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||o){o=Pt.transition,Pt.transition=null;var i=Te;Te=1;var h=Ce;Ce|=4,Ma.current=null,Bd(e,n),qu(n,e),md(Ho),Ir=!!Wo,Ho=Wo=null,e.current=n,Vd(n),gs(),Ce=h,Te=i,Pt.transition=o}else e.current=n;if(no&&(no=!1,zn=e,ro=l),o=e.pendingLanes,o===0&&(Mn=null),Co(n.stateNode),vt(e,Le()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(to)throw to=!1,e=Aa,Aa=null,e;return(ro&1)!==0&&e.tag!==0&&al(),o=e.pendingLanes,(o&1)!==0?e===Fa?Zl++:(Zl=0,Fa=e):Zl=0,Rn(),null}function al(){if(zn!==null){var e=lr(ro),t=Pt.transition,n=Te;try{if(Pt.transition=null,Te=16>e?16:e,zn===null)var r=!1;else{if(e=zn,zn=null,ro=0,(Ce&6)!==0)throw Error(a(331));var l=Ce;for(Ce|=4,q=e.current;q!==null;){var o=q,i=o.child;if((q.flags&16)!==0){var h=o.deletions;if(h!==null){for(var g=0;g<h.length;g++){var S=h[g];for(q=S;q!==null;){var I=q;switch(I.tag){case 0:case 11:case 15:Gl(8,I,o)}var F=I.child;if(F!==null)F.return=I,q=F;else for(;q!==null;){I=q;var z=I.sibling,G=I.return;if(Ku(I),I===S){q=null;break}if(z!==null){z.return=G,q=z;break}q=G}}}var D=o.alternate;if(D!==null){var re=D.child;if(re!==null){D.child=null;do{var We=re.sibling;re.sibling=null,re=We}while(re!==null)}}q=o}}if((o.subtreeFlags&2064)!==0&&i!==null)i.return=o,q=i;else e:for(;q!==null;){if(o=q,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:Gl(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,q=w;break e}q=o.return}}var x=e.current;for(q=x;q!==null;){i=q;var N=i.child;if((i.subtreeFlags&2064)!==0&&N!==null)N.return=i,q=N;else e:for(i=x;q!==null;){if(h=q,(h.flags&2048)!==0)try{switch(h.tag){case 0:case 11:case 15:Zs(9,h)}}catch(oe){Be(h,h.return,oe)}if(h===i){q=null;break e}var V=h.sibling;if(V!==null){V.return=h.return,q=V;break e}q=h.return}}if(Ce=l,Rn(),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(Ct,e)}catch{}r=!0}return r}finally{Te=n,Pt.transition=t}}return!1}function ic(e,t,n){t=rl(n,t),t=Eu(e,t,1),e=Ln(e,t,1),t=mt(),e!==null&&(ln(e,1,t),vt(e,t))}function Be(e,t,n){if(e.tag===3)ic(e,e,n);else for(;t!==null;){if(t.tag===3){ic(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mn===null||!Mn.has(r))){e=rl(n,e),e=ku(t,e,1),t=Ln(t,e,1),e=mt(),t!==null&&(ln(t,1,e),vt(t,e));break}}t=t.return}}function Jd(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=mt(),e.pingedLanes|=e.suspendedLanes&n,Xe===e&&(nt&n)===n&&(Je===4||Je===3&&(nt&130023424)===nt&&500>Le()-Ia?vr(e,0):za|=n),vt(e,t)}function uc(e,t){t===0&&((e.mode&1)===0?t=1:(t=Et,Et<<=1,(Et&130023424)===0&&(Et=4194304)));var n=mt();e=fn(e,t),e!==null&&(ln(e,t,n),vt(e,n))}function Gd(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),uc(e,n)}function Xd(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}r!==null&&r.delete(t),uc(e,n)}var cc;cc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ht.current)xt=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return xt=!1,Id(e,t,n);xt=(e.flags&131072)!==0}else xt=!1,Ae&&(t.flags&1048576)!==0&&Wi(t,Ms,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Xs(e,t),e=t.pendingProps;var l=Gr(t,st.current);tl(t,n),l=pa(null,t,r,e,l,n);var o=ha();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,gt(r)?(o=!0,Ps(t)):o=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,aa(t),l.updater=Js,t.stateNode=l,l._reactInternals=t,wa(t,r,e,n),t=Ca(null,t,r,!0,o,n)):(t.tag=0,Ae&&o&&qo(t),ft(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Xs(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=Zd(r),e=Ut(r,e),l){case 0:t=Sa(null,t,r,e,n);break e;case 1:t=zu(null,t,r,e,n);break e;case 11:t=Ru(null,t,r,e,n);break e;case 14:t=Pu(null,t,r,Ut(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ut(r,l),Sa(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ut(r,l),zu(e,t,r,l,n);case 3:e:{if(Iu(t),e===null)throw Error(a(387));r=t.pendingProps,o=t.memoizedState,l=o.element,Zi(e,t),Bs(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){l=rl(Error(a(423)),t),t=Au(e,t,r,n,l);break e}else if(r!==l){l=rl(Error(a(424)),t),t=Au(e,t,r,n,l);break e}else for(Nt=_n(t.stateNode.containerInfo.firstChild),jt=t,Ae=!0,Ft=null,n=Xi(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zr(),r===l){t=pn(e,t,n);break e}ft(e,t,r,n)}t=t.child}return t;case 5:return tu(t),e===null&&ea(t),r=t.type,l=t.pendingProps,o=e!==null?e.memoizedProps:null,i=l.children,Qo(r,l)?i=null:o!==null&&Qo(r,o)&&(t.flags|=32),Mu(e,t),ft(e,t,i,n),t.child;case 6:return e===null&&ea(t),null;case 13:return Fu(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Dr(t,null,r,n):ft(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ut(r,l),Ru(e,t,r,l,n);case 7:return ft(e,t,t.pendingProps,n),t.child;case 8:return ft(e,t,t.pendingProps.children,n),t.child;case 12:return ft(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,o=t.memoizedProps,i=l.value,Oe(As,r._currentValue),r._currentValue=i,o!==null)if(At(o.value,i)){if(o.children===l.children&&!ht.current){t=pn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var h=o.dependencies;if(h!==null){i=o.child;for(var g=h.firstContext;g!==null;){if(g.context===r){if(o.tag===1){g=mn(-1,n&-n),g.tag=2;var S=o.updateQueue;if(S!==null){S=S.shared;var I=S.pending;I===null?g.next=g:(g.next=I.next,I.next=g),S.pending=g}}o.lanes|=n,g=o.alternate,g!==null&&(g.lanes|=n),sa(o.return,n,t),h.lanes|=n;break}g=g.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(a(341));i.lanes|=n,h=i.alternate,h!==null&&(h.lanes|=n),sa(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}ft(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,tl(t,n),l=Tt(l),r=r(l),t.flags|=1,ft(e,t,r,n),t.child;case 14:return r=t.type,l=Ut(r,t.pendingProps),l=Ut(r.type,l),Pu(e,t,r,l,n);case 15:return Lu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ut(r,l),Xs(e,t),t.tag=1,gt(r)?(e=!0,Ps(t)):e=!1,tl(t,n),Su(t,r,l),wa(t,r,l,n),Ca(null,t,r,!0,e,n);case 19:return Bu(e,t,n);case 22:return Ou(e,t,n)}throw Error(a(156,t.tag))};function dc(e,t){return ps(e,t)}function qd(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(e,t,n,r){return new qd(e,t,n,r)}function Qa(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zd(e){if(typeof e=="function")return Qa(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$e)return 11;if(e===Re)return 14}return 2}function Fn(e,t){var n=e.alternate;return n===null?(n=Lt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ao(e,t,n,r,l,o){var i=2;if(r=e,typeof e=="function")Qa(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case ye:return wr(n.children,l,o,t);case W:i=8,l|=8;break;case je:return e=Lt(12,n,t,l|2),e.elementType=je,e.lanes=o,e;case ke:return e=Lt(13,n,t,l),e.elementType=ke,e.lanes=o,e;case be:return e=Lt(19,n,t,l),e.elementType=be,e.lanes=o,e;case Ne:return io(n,l,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fe:i=10;break e;case ve:i=9;break e;case $e:i=11;break e;case Re:i=14;break e;case Pe:i=16,r=null;break e}throw Error(a(130,e==null?e:typeof e,""))}return t=Lt(i,n,t,l),t.elementType=e,t.type=r,t.lanes=o,t}function wr(e,t,n,r){return e=Lt(7,e,r,t),e.lanes=n,e}function io(e,t,n,r){return e=Lt(22,e,r,t),e.elementType=Ne,e.lanes=n,e.stateNode={isHidden:!1},e}function Ka(e,t,n){return e=Lt(6,e,null,t),e.lanes=n,e}function Ya(e,t,n){return t=Lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Dd(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rr(0),this.expirationTimes=rr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rr(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Ja(e,t,n,r,l,o,i,h,g){return e=new Dd(e,t,n,h,g),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Lt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},aa(o),e}function e0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Y,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function fc(e){if(!e)return Tn;e=e._reactInternals;e:{if(rn(e)!==e||e.tag!==1)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(gt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(a(171))}if(e.tag===1){var n=e.type;if(gt(n))return Ui(e,n,t)}return t}function mc(e,t,n,r,l,o,i,h,g){return e=Ja(n,r,!0,e,l,o,i,h,g),e.context=fc(null),n=e.current,r=mt(),l=In(n),o=mn(r,l),o.callback=t??null,Ln(n,o,l),e.current.lanes=l,ln(e,l,r),vt(e,r),e}function uo(e,t,n,r){var l=t.current,o=mt(),i=In(l);return n=fc(n),t.context===null?t.context=n:t.pendingContext=n,t=mn(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ln(l,t,i),e!==null&&(Wt(e,l,i,o),Us(e,l,i)),i}function co(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function pc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ga(e,t){pc(e,t),(e=e.alternate)&&pc(e,t)}function t0(){return null}var hc=typeof reportError=="function"?reportError:function(e){console.error(e)};function Xa(e){this._internalRoot=e}fo.prototype.render=Xa.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));uo(e,t,null,null)},fo.prototype.unmount=Xa.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yr(function(){uo(null,e,null,null)}),t[an]=null}};function fo(e){this._internalRoot=e}fo.prototype.unstable_scheduleHydration=function(e){if(e){var t=zt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Jt.length&&t!==0&&t<Jt[n].priority;n++);Jt.splice(n,0,e),n===0&&ys(e)}};function qa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function mo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gc(){}function n0(e,t,n,r,l){if(l){if(typeof r=="function"){var o=r;r=function(){var S=co(i);o.call(S)}}var i=mc(t,r,e,0,null,!1,!1,"",gc);return e._reactRootContainer=i,e[an]=i.current,zl(e.nodeType===8?e.parentNode:e),yr(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var h=r;r=function(){var S=co(g);h.call(S)}}var g=Ja(e,0,!1,null,null,!1,!1,"",gc);return e._reactRootContainer=g,e[an]=g.current,zl(e.nodeType===8?e.parentNode:e),yr(function(){uo(t,g,n,r)}),g}function po(e,t,n,r,l){var o=n._reactRootContainer;if(o){var i=o;if(typeof l=="function"){var h=l;l=function(){var g=co(i);h.call(g)}}uo(t,i,e,l)}else i=n0(n,t,e,l,r);return co(i)}Lr=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=jn(t.pendingLanes);n!==0&&(wl(t,n|1),vt(t,Le()),(Ce&6)===0&&(ol=Le()+500,Rn()))}break;case 13:yr(function(){var r=fn(e,1);if(r!==null){var l=mt();Wt(r,e,1,l)}}),Ga(e,1)}},jl=function(e){if(e.tag===13){var t=fn(e,134217728);if(t!==null){var n=mt();Wt(t,e,134217728,n)}Ga(e,134217728)}},sr=function(e){if(e.tag===13){var t=In(e),n=fn(e,t);if(n!==null){var r=mt();Wt(n,e,t,r)}Ga(e,t)}},zt=function(){return Te},xs=function(e,t){var n=Te;try{return Te=e,t()}finally{Te=n}},Yn=function(e,t,n){switch(t){case"input":if(Nr(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=Ts(r);if(!l)throw Error(a(90));ul(r),Nr(r,l)}}}break;case"textarea":Vn(e,n);break;case"select":t=n.value,t!=null&&wt(e,!!n.multiple,t,!1)}},yn=Va,dl=yr;var r0={usingClientEntryPoint:!1,Events:[Fl,Yr,Ts,Jn,is,Va]},Dl={findFiberByHostInstance:cr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},l0={bundleType:Dl.bundleType,version:Dl.version,rendererPackageName:Dl.rendererPackageName,rendererConfig:Dl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ie.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=fs(e),e===null?null:e.stateNode},findFiberByHostInstance:Dl.findFiberByHostInstance||t0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ho=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ho.isDisabled&&ho.supportsFiber)try{Ct=ho.inject(l0),rt=ho}catch{}}return bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r0,bt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qa(t))throw Error(a(200));return e0(e,t,null,n)},bt.createRoot=function(e,t){if(!qa(e))throw Error(a(299));var n=!1,r="",l=hc;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Ja(e,1,!1,null,null,n,!1,r,l),e[an]=t.current,zl(e.nodeType===8?e.parentNode:e),new Xa(t)},bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=fs(t),e=e===null?null:e.stateNode,e},bt.flushSync=function(e){return yr(e)},bt.hydrate=function(e,t,n){if(!mo(t))throw Error(a(200));return po(null,e,t,!0,n)},bt.hydrateRoot=function(e,t,n){if(!qa(e))throw Error(a(405));var r=n!=null&&n.hydratedSources||null,l=!1,o="",i=hc;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=mc(t,null,e,1,n??null,l,!1,o,i),e[an]=t.current,zl(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new fo(t)},bt.render=function(e,t,n){if(!mo(t))throw Error(a(200));return po(null,e,t,!1,n)},bt.unmountComponentAtNode=function(e){if(!mo(e))throw Error(a(40));return e._reactRootContainer?(yr(function(){po(null,null,e,!1,function(){e._reactRootContainer=null,e[an]=null})}),!0):!1},bt.unstable_batchedUpdates=Va,bt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!mo(n))throw Error(a(200));if(e==null||e._reactInternals===void 0)throw Error(a(38));return po(e,t,n,!1,r)},bt.version="18.3.1-next-f1338f8080-20240426",bt}var Sc;function Ac(){if(Sc)return ei.exports;Sc=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(f){console.error(f)}}return u(),ei.exports=f0(),ei.exports}var Cc;function m0(){if(Cc)return go;Cc=1;var u=Ac();return go.createRoot=u.createRoot,go.hydrateRoot=u.hydrateRoot,go}var p0=m0();const h0=Ic(p0);async function Ee(u,f){const c=await(await fetch(u,{...f,headers:{"content-type":"application/json",...(f==null?void 0:f.headers)||{}}})).text();let m=null;try{m=c?JSON.parse(c):null}catch{m=null}return m}async function Ec(u,f,a){const m=await(await fetch(u,{method:"POST",body:f,headers:{}})).text();let d=null;try{d=m?JSON.parse(m):null}catch{d=null}return d}function $(...u){return u.filter(Boolean).join(" ")}function g0({actors:u,activeTab:f,onTabChange:a,unreadChatCount:c,isDark:m,onAddAgent:d,canAddAgent:y=!0}){const p=j.useRef(null),_=j.useRef(null);return j.useEffect(()=>{if(_.current&&p.current){const E=p.current,k=_.current,R=E.getBoundingClientRect(),O=k.getBoundingClientRect();O.left<R.left?E.scrollLeft-=R.left-O.left+16:O.right>R.right&&(E.scrollLeft+=O.right-R.right+16)}},[f]),s.jsxs("div",{ref:p,className:`flex items-center gap-2 px-4 border-b overflow-x-auto ${m?"bg-slate-900 border-slate-800":"bg-white border-gray-100"}`,style:{scrollbarWidth:"none",msOverflowStyle:"none"},role:"tablist","aria-label":"Navigation tabs",children:[s.jsxs("button",{ref:f==="chat"?_:null,onClick:()=>a("chat"),className:$("relative flex items-center gap-2 px-3 py-3 text-sm font-medium whitespace-nowrap transition-colors",f==="chat"?m?"text-white":"text-gray-900":m?"text-slate-500 hover:text-slate-300":"text-gray-500 hover:text-gray-700"),role:"tab","aria-selected":f==="chat",children:[s.jsx("span",{children:"Chat"}),c>0&&s.jsx("span",{className:"bg-blue-600 text-white text-[10px] px-1.5 py-0.5 rounded-full font-bold",children:c}),f==="chat"&&s.jsx("span",{className:`absolute bottom-0 left-0 right-0 h-0.5 rounded-t-full ${m?"bg-blue-500":"bg-blue-600"}`})]}),s.jsx("div",{className:`w-px h-4 flex-shrink-0 ${m?"bg-slate-800":"bg-gray-200"}`}),u.map(E=>{const k=f===E.id,R=E.running??E.enabled??!1;return s.jsxs("button",{ref:k?_:null,onClick:()=>a(E.id),className:$("relative flex items-center gap-2 px-3 py-3 text-sm font-medium whitespace-nowrap transition-colors",k?m?"text-white":"text-gray-900":m?"text-slate-500 hover:text-slate-300":"text-gray-500 hover:text-gray-700"),role:"tab","aria-selected":k,children:[s.jsx("span",{className:$("w-1.5 h-1.5 rounded-full",R?"bg-emerald-500":m?"bg-slate-700":"bg-gray-300")}),s.jsx("span",{children:E.id}),E.role==="foreman"&&s.jsx("span",{className:`text-[9px] px-1 py-0.5 rounded ${m?"bg-amber-900/30 text-amber-500":"bg-amber-50 text-amber-600"}`,children:"F"}),(E.unread_count??0)>0&&s.jsx("span",{className:"bg-rose-500 text-white text-[10px] px-1.5 py-0.5 rounded-full font-bold",children:E.unread_count}),k&&s.jsx("span",{className:`absolute bottom-0 left-0 right-0 h-0.5 rounded-t-full ${m?"bg-blue-500":"bg-blue-600"}`})]},E.id)}),d&&s.jsxs("button",{onClick:d,disabled:!y,className:$("ml-2 flex items-center gap-1.5 rounded-full border px-3 py-1.5 text-xs font-semibold transition-colors disabled:opacity-30 whitespace-nowrap",u.length===0?"bg-blue-600 text-white border-blue-500 hover:bg-blue-500":m?"bg-slate-900 border-slate-700 text-slate-300 hover:bg-slate-800":"bg-white border-gray-200 text-gray-700 hover:bg-gray-50"),title:u.length===0?"Add your first agent (foreman)":"Add agent","aria-label":"Add agent",children:[s.jsx("span",{className:"text-base leading-none",children:"+"}),s.jsx("span",{className:"hidden sm:inline",children:"Add"})]})]})}function x0({isOpen:u,onClose:f,groupId:a,context:c,onUpdateVision:m,onUpdateSketch:d,busy:y,isDark:p}){var xe;const[_,E]=j.useState(!1),[k,R]=j.useState(!1),[O,le]=j.useState(""),[ee,H]=j.useState(""),[T,ue]=j.useState(null),[Z,Q]=j.useState(!1),[ie,se]=j.useState(""),[Y,ye]=j.useState(!1),[W,je]=j.useState(""),[fe,ve]=j.useState(!1),[$e,ke]=j.useState(!1),[be,Re]=j.useState(!1),[Pe,Ne]=j.useState(""),U=j.useMemo(()=>{const P=T!=null&&T.path?String(T.path):"";return P||"PROJECT.md"},[T==null?void 0:T.path]),te=j.useMemo(()=>`PROJECT.md updated. Please re-read and align. (${U})`,[U]);j.useEffect(()=>{if(!u||!a)return;let P=!1;return Q(!0),se(""),ye(!1),Ne(""),ve(!1),(async()=>{var He;const pe=await Ee(`/api/v1/groups/${encodeURIComponent(a)}/project_md`);if(!P){if(!pe.ok){ue(null),se(((He=pe.error)==null?void 0:He.message)||"Failed to load PROJECT.md"),Q(!1);return}ue(pe.result),Q(!1)}})(),()=>{P=!0}},[a,u]);const K=()=>{le((c==null?void 0:c.vision)||""),E(!0)},b=async()=>{await m(O),E(!1)},L=()=>{H((c==null?void 0:c.sketch)||""),R(!0)},me=async()=>{await d(ee),R(!1)},B=()=>{je(T!=null&&T.content?String(T.content):""),se(""),ye(!0)},A=async()=>{var P;if(a){Q(!0),se(""),Ne("");try{const pe=await Ee(`/api/v1/groups/${encodeURIComponent(a)}/project_md`,{method:"PUT",body:JSON.stringify({content:W,by:"user"})});if(!pe.ok){se(((P=pe.error)==null?void 0:P.message)||"Failed to save PROJECT.md");return}ue(pe.result),ye(!1),ke(!1),ve(!0)}finally{Q(!1)}}},X=async()=>{var P;if(!a){ve(!1);return}Re(!0),Ne("");try{if($e){const pe=await Ee(`/api/v1/groups/${encodeURIComponent(a)}/send`,{method:"POST",body:JSON.stringify({text:te,by:"user",to:["@all"],path:""})});if(!pe.ok){Ne(((P=pe.error)==null?void 0:P.message)||"Failed to notify agents");return}}ve(!1)}finally{Re(!1)}};return u?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 animate-fade-in",children:[s.jsx("div",{className:p?"absolute inset-0 bg-black/60":"absolute inset-0 bg-black/40",onClick:f,"aria-hidden":"true"}),s.jsxs("div",{className:`relative rounded-xl border shadow-2xl w-full max-w-2xl max-h-[80vh] flex flex-col animate-scale-in ${p?"bg-slate-900 border-slate-700":"bg-white border-gray-200"}`,role:"dialog","aria-modal":"true","aria-labelledby":"context-modal-title",children:[s.jsxs("div",{className:`flex items-center justify-between px-5 py-4 border-b ${p?"border-slate-800":"border-gray-200"}`,children:[s.jsx("h2",{id:"context-modal-title",className:`text-lg font-semibold ${p?"text-slate-100":"text-gray-900"}`,children:" Project Context"}),s.jsx("button",{onClick:f,className:`text-xl leading-none min-w-[44px] min-h-[44px] flex items-center justify-center rounded-lg transition-colors ${p?"text-slate-400 hover:text-slate-200 hover:bg-slate-800":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"}`,"aria-label":"Close context modal",children:""})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-5 space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2 gap-2",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("h3",{className:`text-sm font-medium ${p?"text-slate-300":"text-gray-700"}`,children:"PROJECT.md"}),s.jsx("div",{className:`text-[11px] truncate ${p?"text-slate-500":"text-gray-500"}`,title:U,children:Z?"Loading":T!=null&&T.found?U:T!=null&&T.path?`Missing: ${T.path}`:"Missing"})]}),!Y&&s.jsx("button",{onClick:B,disabled:Z||!a,className:`text-xs min-h-[36px] px-2 rounded transition-colors disabled:opacity-50 ${p?"text-slate-400 hover:text-slate-200":"text-gray-500 hover:text-gray-700"}`,children:T!=null&&T.found?" Edit":" Create"})]}),ie&&s.jsx("div",{className:`mb-2 text-xs rounded-lg border px-3 py-2 ${p?"border-rose-500/30 bg-rose-500/10 text-rose-300":"border-rose-300 bg-rose-50 text-rose-700"}`,children:ie}),Y?s.jsxs("div",{className:"space-y-2",children:[s.jsx("textarea",{value:W,onChange:P=>je(P.target.value),className:`w-full h-64 px-3 py-2 border rounded-lg text-sm resize-none font-mono transition-colors ${p?"bg-slate-800 border-slate-700 text-slate-200 focus:border-slate-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"}`,placeholder:"Write your project constitution here"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:A,disabled:Z||!a,className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white text-sm rounded-lg disabled:opacity-50 min-h-[44px] transition-colors",children:Z?"Saving...":"Save"}),s.jsx("button",{onClick:()=>ye(!1),disabled:Z,className:`px-4 py-2 text-sm rounded-lg min-h-[44px] transition-colors disabled:opacity-50 ${p?"bg-slate-700 hover:bg-slate-600 text-slate-200":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,children:"Cancel"})]})]}):s.jsx("div",{className:`px-3 py-2 rounded-lg text-sm whitespace-pre-wrap min-h-[60px] max-h-[220px] overflow-auto ${p?"bg-slate-800/50 text-slate-300":"bg-gray-50 text-gray-700"}`,children:T!=null&&T.found&&T.content?String(T.content):s.jsx("span",{className:p?"text-slate-500 italic":"text-gray-400 italic",children:"No PROJECT.md found"})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:`text-sm font-medium ${p?"text-slate-300":"text-gray-700"}`,children:"Vision"}),!_&&s.jsx("button",{onClick:K,className:`text-xs min-h-[36px] px-2 rounded transition-colors ${p?"text-slate-400 hover:text-slate-200":"text-gray-500 hover:text-gray-700"}`,children:" Edit"})]}),_?s.jsxs("div",{className:"space-y-2",children:[s.jsx("textarea",{value:O,onChange:P=>le(P.target.value),className:`w-full h-32 px-3 py-2 border rounded-lg text-sm resize-none transition-colors ${p?"bg-slate-800 border-slate-700 text-slate-200 focus:border-slate-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"}`,placeholder:"Describe the project vision..."}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:b,disabled:y,className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white text-sm rounded-lg disabled:opacity-50 min-h-[44px] transition-colors",children:y?"Saving...":"Save"}),s.jsx("button",{onClick:()=>E(!1),className:`px-4 py-2 text-sm rounded-lg min-h-[44px] transition-colors ${p?"bg-slate-700 hover:bg-slate-600 text-slate-200":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,children:"Cancel"})]})]}):s.jsx("div",{className:`px-3 py-2 rounded-lg text-sm whitespace-pre-wrap min-h-[60px] ${p?"bg-slate-800/50 text-slate-300":"bg-gray-50 text-gray-700"}`,children:(c==null?void 0:c.vision)||s.jsx("span",{className:p?"text-slate-500 italic":"text-gray-400 italic",children:"No vision set"})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:`text-sm font-medium ${p?"text-slate-300":"text-gray-700"}`,children:"Sketch"}),!k&&s.jsx("button",{onClick:L,className:`text-xs min-h-[36px] px-2 rounded transition-colors ${p?"text-slate-400 hover:text-slate-200":"text-gray-500 hover:text-gray-700"}`,children:" Edit"})]}),k?s.jsxs("div",{className:"space-y-2",children:[s.jsx("textarea",{value:ee,onChange:P=>H(P.target.value),className:`w-full h-32 px-3 py-2 border rounded-lg text-sm resize-none transition-colors ${p?"bg-slate-800 border-slate-700 text-slate-200 focus:border-slate-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"}`,placeholder:"Technical sketch or architecture notes..."}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:me,disabled:y,className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white text-sm rounded-lg disabled:opacity-50 min-h-[44px] transition-colors",children:y?"Saving...":"Save"}),s.jsx("button",{onClick:()=>R(!1),className:`px-4 py-2 text-sm rounded-lg min-h-[44px] transition-colors ${p?"bg-slate-700 hover:bg-slate-600 text-slate-200":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,children:"Cancel"})]})]}):s.jsx("div",{className:`px-3 py-2 rounded-lg text-sm whitespace-pre-wrap min-h-[60px] ${p?"bg-slate-800/50 text-slate-300":"bg-gray-50 text-gray-700"}`,children:(c==null?void 0:c.sketch)||s.jsx("span",{className:p?"text-slate-500 italic":"text-gray-400 italic",children:"No sketch set"})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:`text-sm font-medium mb-2 ${p?"text-slate-300":"text-gray-700"}`,children:"Milestones"}),c!=null&&c.milestones&&c.milestones.length>0?s.jsx("div",{className:"space-y-2",children:c.milestones.map(P=>s.jsxs("div",{className:`px-3 py-2 rounded-lg space-y-1 ${p?"bg-slate-800/50":"bg-gray-50"}`,children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:$("text-[11px] px-1.5 py-0.5 rounded flex-shrink-0",p?"bg-slate-700 text-slate-300":"bg-gray-200 text-gray-700"),children:P.id}),s.jsx("span",{className:`text-sm font-medium min-w-0 truncate ${p?"text-slate-200":"text-gray-800"}`,children:P.name}),s.jsx("span",{className:$("text-[11px] px-2 py-0.5 rounded flex-shrink-0 ml-auto",P.status==="done"?p?"bg-emerald-900/50 text-emerald-300":"bg-emerald-100 text-emerald-700":P.status==="active"?p?"bg-blue-900/50 text-blue-300":"bg-blue-100 text-blue-700":p?"bg-slate-700 text-slate-400":"bg-gray-200 text-gray-600"),children:P.status||"pending"})]}),(P.started||P.completed)&&s.jsxs("div",{className:`text-[11px] ${p?"text-slate-500":"text-gray-500"}`,children:[P.started?`started ${P.started}`:"",P.started&&P.completed?"  ":"",P.completed?`completed ${P.completed}`:""]}),P.description&&s.jsx("div",{className:`text-xs whitespace-pre-wrap ${p?"text-slate-400":"text-gray-600"}`,children:P.description})]},P.id))}):s.jsx("div",{className:`px-3 py-2 rounded-lg text-sm italic ${p?"bg-slate-800/50 text-slate-500":"bg-gray-50 text-gray-400"}`,children:"No milestones"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:`text-sm font-medium mb-2 ${p?"text-slate-300":"text-gray-700"}`,children:"Tasks"}),c!=null&&c.tasks_summary?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:`px-3 py-2 rounded-lg text-xs ${p?"bg-slate-800/50 text-slate-300":"bg-gray-50 text-gray-700"}`,children:["total ",c.tasks_summary.total,"  active ",c.tasks_summary.active,"  planned ",c.tasks_summary.planned,"  done ",c.tasks_summary.done]}),c.active_task?s.jsxs("div",{className:`px-3 py-2 rounded-lg ${p?"bg-slate-800/50":"bg-gray-50"}`,children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:`text-[11px] px-1.5 py-0.5 rounded ${p?"bg-slate-700 text-slate-300":"bg-gray-200 text-gray-700"}`,children:c.active_task.id}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("div",{className:`text-sm font-medium truncate ${p?"text-slate-200":"text-gray-800"}`,children:c.active_task.name}),c.active_task.goal&&s.jsx("div",{className:`text-xs mt-0.5 whitespace-pre-wrap ${p?"text-slate-400":"text-gray-600"}`,children:c.active_task.goal})]}),s.jsx("span",{className:$("text-[11px] px-2 py-0.5 rounded flex-shrink-0",c.active_task.status==="done"?p?"bg-emerald-900/50 text-emerald-300":"bg-emerald-100 text-emerald-700":c.active_task.status==="active"?p?"bg-blue-900/50 text-blue-300":"bg-blue-100 text-blue-700":p?"bg-slate-700 text-slate-400":"bg-gray-200 text-gray-600"),children:c.active_task.status||"planned"})]}),(c.active_task.assignee||c.active_task.milestone)&&s.jsxs("div",{className:`text-[11px] mt-1 ${p?"text-slate-500":"text-gray-500"}`,children:[c.active_task.milestone?`milestone ${c.active_task.milestone}`:"",c.active_task.milestone&&c.active_task.assignee?"  ":"",c.active_task.assignee?`assignee ${c.active_task.assignee}`:""]}),Array.isArray(c.active_task.steps)&&c.active_task.steps.length>0&&s.jsx("div",{className:"mt-2 space-y-1",children:c.active_task.steps.map(P=>s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:`text-[11px] px-1.5 py-0.5 rounded ${p?"bg-slate-700 text-slate-300":"bg-gray-200 text-gray-700"}`,children:P.id}),s.jsxs("div",{className:`text-xs flex-1 ${p?"text-slate-300":"text-gray-700"}`,children:[P.name,P.acceptance?s.jsx("div",{className:$("mt-0.5 whitespace-pre-wrap",p?"text-slate-500":"text-gray-500"),children:P.acceptance}):null]}),s.jsx("span",{className:`text-[11px] ${p?"text-slate-500":"text-gray-500"}`,children:P.status||""})]},P.id))})]}):s.jsx("div",{className:`px-3 py-2 rounded-lg text-sm italic ${p?"bg-slate-800/50 text-slate-500":"bg-gray-50 text-gray-400"}`,children:"No active task"})]}):s.jsx("div",{className:`px-3 py-2 rounded-lg text-sm italic ${p?"bg-slate-800/50 text-slate-500":"bg-gray-50 text-gray-400"}`,children:"No task summary"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:`text-sm font-medium mb-2 ${p?"text-slate-300":"text-gray-700"}`,children:"Notes"}),c!=null&&c.notes&&c.notes.length>0?s.jsx("div",{className:"space-y-2",children:c.notes.map(P=>s.jsxs("div",{className:`px-3 py-2 rounded-lg ${p?"bg-slate-800/50":"bg-gray-50"}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${p?"bg-slate-700 text-slate-300":"bg-gray-200 text-gray-700"}`,children:P.id}),typeof P.ttl=="number"&&s.jsxs("span",{className:`text-[11px] ${p?"text-slate-500":"text-gray-500"}`,children:["ttl ",P.ttl]}),P.expiring?s.jsx("span",{className:`text-[11px] ${p?"text-amber-300":"text-amber-600"}`,children:"expiring"}):null]}),s.jsx("div",{className:`text-xs mt-1 whitespace-pre-wrap ${p?"text-slate-300":"text-gray-700"}`,children:P.content})]},P.id))}):s.jsx("div",{className:`px-3 py-2 rounded-lg text-sm italic ${p?"bg-slate-800/50 text-slate-500":"bg-gray-50 text-gray-400"}`,children:"No notes"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:`text-sm font-medium mb-2 ${p?"text-slate-300":"text-gray-700"}`,children:"References"}),c!=null&&c.references&&c.references.length>0?s.jsx("div",{className:"space-y-2",children:c.references.map(P=>s.jsxs("div",{className:`px-3 py-2 rounded-lg ${p?"bg-slate-800/50":"bg-gray-50"}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${p?"bg-slate-700 text-slate-400":"bg-gray-200 text-gray-600"}`,children:P.id}),s.jsx("a",{href:P.url,target:"_blank",rel:"noopener noreferrer",className:`text-sm truncate hover:underline ${p?"text-blue-400":"text-blue-600"}`,title:P.url,children:P.url})]}),P.note?s.jsx("div",{className:`text-xs mt-1 whitespace-pre-wrap ${p?"text-slate-400":"text-gray-600"}`,children:P.note}):null]},P.id))}):s.jsx("div",{className:`px-3 py-2 rounded-lg text-sm italic ${p?"bg-slate-800/50 text-slate-500":"bg-gray-50 text-gray-400"}`,children:"No references"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:`text-sm font-medium mb-2 ${p?"text-slate-300":"text-gray-700"}`,children:"Presence"}),(xe=c==null?void 0:c.presence)!=null&&xe.agents&&c.presence.agents.length>0?s.jsx("div",{className:"space-y-2",children:c.presence.agents.map(P=>s.jsxs("div",{className:`px-3 py-2 rounded-lg ${p?"bg-slate-800/50":"bg-gray-50"}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`text-sm font-medium ${p?"text-slate-200":"text-gray-800"}`,children:P.id}),P.updated_at?s.jsx("span",{className:`text-[11px] ml-auto ${p?"text-slate-500":"text-gray-500"}`,children:P.updated_at}):null]}),P.status?s.jsx("div",{className:`text-xs mt-1 whitespace-pre-wrap ${p?"text-slate-300":"text-gray-700"}`,children:P.status}):s.jsx("div",{className:`text-xs mt-1 italic ${p?"text-slate-500":"text-gray-500"}`,children:"No status"})]},P.id))}):s.jsx("div",{className:`px-3 py-2 rounded-lg text-sm italic ${p?"bg-slate-800/50 text-slate-500":"bg-gray-50 text-gray-400"}`,children:"No presence"})]})]})]}),fe&&s.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 animate-fade-in",children:[s.jsx("div",{className:p?"absolute inset-0 bg-black/70":"absolute inset-0 bg-black/50",onClick:()=>{be||ve(!1)},"aria-hidden":"true"}),s.jsxs("div",{className:`relative w-full max-w-md rounded-xl border shadow-2xl p-4 ${p?"bg-slate-900 border-slate-700":"bg-white border-gray-200"}`,role:"dialog","aria-modal":"true","aria-label":"Project updated",children:[s.jsx("div",{className:`text-sm font-semibold ${p?"text-slate-100":"text-gray-900"}`,children:"PROJECT.md saved"}),s.jsx("div",{className:`text-xs mt-1 ${p?"text-slate-400":"text-gray-500"}`,children:U}),Pe&&s.jsx("div",{className:`mt-3 text-xs rounded-lg border px-3 py-2 ${p?"border-rose-500/30 bg-rose-500/10 text-rose-300":"border-rose-300 bg-rose-50 text-rose-700"}`,children:Pe}),s.jsxs("label",{className:`mt-3 flex items-center gap-2 text-sm ${p?"text-slate-200":"text-gray-800"}`,children:[s.jsx("input",{type:"checkbox",checked:$e,onChange:P=>ke(P.target.checked),disabled:be}),"Notify agents in chat (@all)"]}),s.jsx("div",{className:`mt-2 text-[11px] rounded-lg px-3 py-2 whitespace-pre-wrap ${p?"bg-slate-800/60 text-slate-300":"bg-gray-50 text-gray-700"}`,children:te}),s.jsxs("div",{className:"mt-3 flex gap-2",children:[s.jsx("button",{onClick:X,disabled:be,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white text-sm rounded-lg disabled:opacity-50 min-h-[44px] transition-colors",children:be?"Working...":"Done"}),s.jsx("button",{onClick:()=>ve(!1),disabled:be,className:`px-4 py-2 text-sm rounded-lg min-h-[44px] transition-colors disabled:opacity-50 ${p?"bg-slate-700 hover:bg-slate-600 text-slate-200":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,children:"Close"})]})]})]})]}):null}function y0({isOpen:u,onClose:f,settings:a,onUpdateSettings:c,busy:m,isDark:d,groupId:y}){const[p,_]=j.useState("timing"),[E,k]=j.useState(300),[R,O]=j.useState(600),[le,ee]=j.useState(120),[H,T]=j.useState(600),[ue,Z]=j.useState(0),[Q,ie]=j.useState(900),[se,Y]=j.useState(null),[ye,W]=j.useState("telegram"),[je,fe]=j.useState(""),[ve,$e]=j.useState(""),[ke,be]=j.useState(!1);j.useEffect(()=>{u&&a&&(k(a.nudge_after_seconds),O(a.actor_idle_timeout_seconds),ee(a.keepalive_delay_seconds),T(a.silence_timeout_seconds),Z(a.min_interval_seconds),ie(a.standup_interval_seconds??900))},[u,a]),j.useEffect(()=>{u&&y&&Re()},[u,y]);const Re=async()=>{if(y)try{const X=await(await fetch(`/api/im/status?group_id=${encodeURIComponent(y)}`)).json();X.ok&&(Y(X.result),X.result.platform&&W(X.result.platform));const P=await(await fetch(`/api/im/config?group_id=${encodeURIComponent(y)}`)).json();if(P.ok&&P.result.im){const pe=P.result.im;pe.platform&&W(pe.platform),fe(pe.bot_token_env||pe.token_env||pe.bot_token||pe.token||""),$e(pe.app_token_env||pe.app_token||"")}}catch(A){console.error("Failed to load IM status:",A)}};if(!u)return null;const Pe=async()=>{await c({nudge_after_seconds:E,actor_idle_timeout_seconds:R,keepalive_delay_seconds:le,silence_timeout_seconds:H,min_interval_seconds:ue,standup_interval_seconds:Q})},Ne=async()=>{if(y){be(!0);try{(await(await fetch("/api/im/set",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({group_id:y,platform:ye,bot_token_env:je,app_token_env:ye==="slack"?ve:void 0})})).json()).ok&&await Re()}catch(A){console.error("Failed to save IM config:",A)}finally{be(!1)}}},U=async()=>{if(y){be(!0);try{(await(await fetch("/api/im/unset",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({group_id:y})})).json()).ok&&(fe(""),$e(""),await Re())}catch(A){console.error("Failed to remove IM config:",A)}finally{be(!1)}}},te=async()=>{if(y){be(!0);try{await(await fetch("/api/im/start",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({group_id:y})})).json(),await Re()}catch(A){console.error("Failed to start bridge:",A)}finally{be(!1)}}},K=async()=>{if(y){be(!0);try{await(await fetch("/api/im/stop",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({group_id:y})})).json(),await Re()}catch(A){console.error("Failed to stop bridge:",A)}finally{be(!1)}}},b=[{id:"timing",label:"Timing"},{id:"im",label:"IM Bridge"},{id:"remote",label:"Remote Access"}],L=()=>{switch(ye){case"telegram":return"Bot Token (token or env var)";case"slack":return"Bot Token (xoxb- or env var)";case"discord":return"Bot Token (token or env var)"}},me=()=>{switch(ye){case"telegram":return"TELEGRAM_BOT_TOKEN (or 123456:ABC...)";case"slack":return"SLACK_BOT_TOKEN (or xoxb-...)";case"discord":return"DISCORD_BOT_TOKEN (or <token>)"}},B=()=>!(!je||ye==="slack"&&!ve);return s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 animate-fade-in",children:[s.jsx("div",{className:d?"absolute inset-0 bg-black/60":"absolute inset-0 bg-black/40",onClick:f,"aria-hidden":"true"}),s.jsxs("div",{className:`relative rounded-xl border shadow-2xl w-full max-w-lg max-h-[80vh] flex flex-col animate-scale-in ${d?"bg-slate-900 border-slate-700":"bg-white border-gray-200"}`,role:"dialog","aria-modal":"true","aria-labelledby":"settings-modal-title",children:[s.jsxs("div",{className:`flex items-center justify-between px-5 py-4 border-b ${d?"border-slate-800":"border-gray-200"}`,children:[s.jsx("h2",{id:"settings-modal-title",className:`text-lg font-semibold ${d?"text-slate-100":"text-gray-900"}`,children:" Settings"}),s.jsx("button",{onClick:f,className:`text-xl leading-none min-w-[44px] min-h-[44px] flex items-center justify-center rounded-lg transition-colors ${d?"text-slate-400 hover:text-slate-200 hover:bg-slate-800":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"}`,"aria-label":"Close settings",children:""})]}),s.jsx("div",{className:`flex border-b ${d?"border-slate-800":"border-gray-200"}`,children:b.map(A=>s.jsx("button",{onClick:()=>_(A.id),className:`px-4 py-2.5 text-sm font-medium transition-colors ${p===A.id?d?"text-emerald-400 border-b-2 border-emerald-400":"text-emerald-600 border-b-2 border-emerald-600":d?"text-slate-400 hover:text-slate-200":"text-gray-500 hover:text-gray-700"}`,children:A.label},A.id))}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-5 space-y-6",children:[p==="timing"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:`text-sm font-medium ${d?"text-slate-300":"text-gray-700"}`,children:"Group Timing"}),s.jsx("p",{className:`text-xs mt-1 ${d?"text-slate-500":"text-gray-500"}`,children:"These settings apply to the current working group."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:`block text-xs mb-1 ${d?"text-slate-400":"text-gray-500"}`,children:"Nudge After (sec)"}),s.jsx("input",{type:"number",value:E,onChange:A=>k(Number(A.target.value)),className:`w-full px-3 py-2.5 rounded-lg border text-sm min-h-[44px] transition-colors ${d?"bg-slate-800 border-slate-700 text-slate-200 focus:border-slate-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-xs mb-1 ${d?"text-slate-400":"text-gray-500"}`,children:"Actor Idle (sec)"}),s.jsx("input",{type:"number",value:R,onChange:A=>O(Number(A.target.value)),className:`w-full px-3 py-2.5 rounded-lg border text-sm min-h-[44px] transition-colors ${d?"bg-slate-800 border-slate-700 text-slate-200 focus:border-slate-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-xs mb-1 ${d?"text-slate-400":"text-gray-500"}`,children:"Keepalive (sec)"}),s.jsx("input",{type:"number",value:le,onChange:A=>ee(Number(A.target.value)),className:`w-full px-3 py-2.5 rounded-lg border text-sm min-h-[44px] transition-colors ${d?"bg-slate-800 border-slate-700 text-slate-200 focus:border-slate-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-xs mb-1 ${d?"text-slate-400":"text-gray-500"}`,children:"Silence (sec)"}),s.jsx("input",{type:"number",value:H,onChange:A=>T(Number(A.target.value)),className:`w-full px-3 py-2.5 rounded-lg border text-sm min-h-[44px] transition-colors ${d?"bg-slate-800 border-slate-700 text-slate-200 focus:border-slate-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-xs mb-1 ${d?"text-slate-400":"text-gray-500"}`,children:"Delivery Interval (sec)"}),s.jsx("input",{type:"number",value:ue,onChange:A=>Z(Number(A.target.value)),className:`w-full px-3 py-2.5 rounded-lg border text-sm min-h-[44px] transition-colors ${d?"bg-slate-800 border-slate-700 text-slate-200 focus:border-slate-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-xs mb-1 ${d?"text-slate-400":"text-gray-500"}`,children:"Standup Interval (sec)"}),s.jsx("input",{type:"number",value:Q,onChange:A=>ie(Number(A.target.value)),className:`w-full px-3 py-2.5 rounded-lg border text-sm min-h-[44px] transition-colors ${d?"bg-slate-800 border-slate-700 text-slate-200 focus:border-slate-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"}`}),s.jsx("p",{className:`text-xs mt-1 ${d?"text-slate-500":"text-gray-400"}`,children:"Periodic review reminder (default 900 = 15 min)"})]})]}),s.jsx("button",{onClick:Pe,disabled:m,className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white text-sm rounded-lg disabled:opacity-50 min-h-[44px] transition-colors font-medium",children:m?"Saving...":"Save Timing Settings"})]}),p==="im"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:`text-sm font-medium ${d?"text-slate-300":"text-gray-700"}`,children:"IM Bridge"}),s.jsx("p",{className:`text-xs mt-1 ${d?"text-slate-500":"text-gray-500"}`,children:"Connect this group to Telegram, Slack, or Discord."})]}),se&&s.jsxs("div",{className:`p-3 rounded-lg ${d?"bg-slate-800":"bg-gray-100"}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`w-2 h-2 rounded-full ${se.running?"bg-emerald-500":"bg-gray-400"}`}),s.jsx("span",{className:`text-sm ${d?"text-slate-300":"text-gray-700"}`,children:se.running?"Running":"Stopped"}),se.running&&se.pid&&s.jsxs("span",{className:`text-xs ${d?"text-slate-500":"text-gray-500"}`,children:["(PID: ",se.pid,")"]})]}),se.configured&&s.jsxs("div",{className:`text-xs mt-1 ${d?"text-slate-400":"text-gray-500"}`,children:["Platform: ",se.platform,"  Subscribers: ",se.subscribers]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:`block text-xs mb-1 ${d?"text-slate-400":"text-gray-500"}`,children:"Platform"}),s.jsxs("select",{value:ye,onChange:A=>W(A.target.value),className:`w-full px-3 py-2.5 rounded-lg border text-sm min-h-[44px] transition-colors ${d?"bg-slate-800 border-slate-700 text-slate-200 focus:border-slate-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"}`,children:[s.jsx("option",{value:"telegram",children:"Telegram"}),s.jsx("option",{value:"slack",children:"Slack"}),s.jsx("option",{value:"discord",children:"Discord"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-xs mb-1 ${d?"text-slate-400":"text-gray-500"}`,children:L()}),s.jsx("input",{type:"text",value:je,onChange:A=>fe(A.target.value),placeholder:me(),className:`w-full px-3 py-2.5 rounded-lg border text-sm min-h-[44px] transition-colors ${d?"bg-slate-800 border-slate-700 text-slate-200 focus:border-slate-500 placeholder:text-slate-600":"bg-white border-gray-300 text-gray-900 focus:border-blue-500 placeholder:text-gray-400"}`}),s.jsx("p",{className:`text-xs mt-1 ${d?"text-slate-500":"text-gray-400"}`,children:ye==="slack"?"Paste xoxb- token or an env var name; required for outbound messages.":"Paste the bot token or an env var name; required for bot authentication."})]}),ye==="slack"&&s.jsxs("div",{children:[s.jsx("label",{className:`block text-xs mb-1 ${d?"text-slate-400":"text-gray-500"}`,children:"App Token (xapp- or env var)"}),s.jsx("input",{type:"text",value:ve,onChange:A=>$e(A.target.value),placeholder:"SLACK_APP_TOKEN (or xapp-...)",className:`w-full px-3 py-2.5 rounded-lg border text-sm min-h-[44px] transition-colors ${d?"bg-slate-800 border-slate-700 text-slate-200 focus:border-slate-500 placeholder:text-slate-600":"bg-white border-gray-300 text-gray-900 focus:border-blue-500 placeholder:text-gray-400"}`}),s.jsx("p",{className:`text-xs mt-1 ${d?"text-slate-500":"text-gray-400"}`,children:"Optional; needed for inbound messages (Socket Mode)."})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{onClick:Ne,disabled:ke||!B(),className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white text-sm rounded-lg disabled:opacity-50 min-h-[44px] transition-colors font-medium",children:ke?"Saving...":"Save Config"}),(se==null?void 0:se.configured)&&s.jsxs(s.Fragment,{children:[se.running?s.jsx("button",{onClick:K,disabled:ke,className:`px-4 py-2 text-sm rounded-lg min-h-[44px] transition-colors font-medium ${d?"bg-red-900/50 hover:bg-red-800/50 text-red-300":"bg-red-100 hover:bg-red-200 text-red-700"} disabled:opacity-50`,children:"Stop Bridge"}):s.jsx("button",{onClick:te,disabled:ke,className:`px-4 py-2 text-sm rounded-lg min-h-[44px] transition-colors font-medium ${d?"bg-blue-900/50 hover:bg-blue-800/50 text-blue-300":"bg-blue-100 hover:bg-blue-200 text-blue-700"} disabled:opacity-50`,children:"Start Bridge"}),s.jsx("button",{onClick:U,disabled:ke,className:`px-4 py-2 text-sm rounded-lg min-h-[44px] transition-colors font-medium ${d?"bg-slate-800 hover:bg-slate-700 text-slate-300":"bg-gray-200 hover:bg-gray-300 text-gray-700"} disabled:opacity-50`,children:"Remove Config"})]})]}),s.jsxs("div",{className:`text-xs space-y-1 ${d?"text-slate-500":"text-gray-500"}`,children:[s.jsx("p",{children:"To use IM Bridge:"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-0.5 ml-2",children:[s.jsx("li",{children:"Create a bot on your IM platform"}),s.jsx("li",{children:"Set the token(s) as environment variable(s)"}),s.jsx("li",{children:"Save the config and start the bridge"}),s.jsx("li",{children:"In your IM chat, send /subscribe to receive messages"})]})]})]}),p==="remote"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:`text-sm font-medium ${d?"text-slate-300":"text-gray-700"}`,children:"Remote Access (Phone)"}),s.jsx("p",{className:`text-xs mt-1 ${d?"text-slate-500":"text-gray-500"}`,children:"Recommended for anywhere access: use Cloudflare Tunnel or Tailscale. CCCC does not manage these for you yetthis is a setup guide."}),s.jsxs("div",{className:`mt-2 rounded-lg border px-3 py-2 text-[11px] ${d?"border-amber-500/30 bg-amber-500/10 text-amber-200":"border-amber-200 bg-amber-50 text-amber-800"}`,children:[s.jsx("div",{className:"font-medium",children:"Security note"}),s.jsxs("div",{className:"mt-1",children:["Treat the Web UI as ",s.jsx("span",{className:"font-medium",children:"high privilege"})," (it can control agents and access project files). Do not expose it to the public internet without access control (e.g., Cloudflare Access)."]})]})]}),s.jsxs("div",{className:`rounded-lg border p-3 ${d?"border-slate-800 bg-slate-950/30":"border-gray-200 bg-gray-50"}`,children:[s.jsx("div",{className:`text-sm font-semibold ${d?"text-slate-200":"text-gray-800"}`,children:"Cloudflare Tunnel (recommended)"}),s.jsx("div",{className:`text-xs mt-1 ${d?"text-slate-500":"text-gray-600"}`,children:"Easiest for phone access: no VPN app required. Pair with Cloudflare Zero Trust Access for login protection."}),s.jsx("div",{className:`mt-3 text-xs font-medium ${d?"text-slate-300":"text-gray-700"}`,children:"Quick (temporary URL)"}),s.jsx("pre",{className:`mt-1.5 p-2 rounded overflow-x-auto whitespace-pre text-[11px] ${d?"bg-slate-900 text-slate-200":"bg-white text-gray-800 border border-gray-200"}`,children:s.jsx("code",{children:`# Install cloudflared first, then:
cloudflared tunnel --url http://127.0.0.1:8848
# It will print a https://....trycloudflare.com URL`})}),s.jsx("div",{className:`mt-3 text-xs font-medium ${d?"text-slate-300":"text-gray-700"}`,children:"Stable (your domain)"}),s.jsx("pre",{className:`mt-1.5 p-2 rounded overflow-x-auto whitespace-pre text-[11px] ${d?"bg-slate-900 text-slate-200":"bg-white text-gray-800 border border-gray-200"}`,children:s.jsx("code",{children:`# 1) Authenticate
cloudflared tunnel login

# 2) Create a named tunnel
cloudflared tunnel create cccc

# 3) Route DNS (replace with your hostname)
cloudflared tunnel route dns cccc cccc.example.com

# 4) Create ~/.cloudflared/config.yml (example):
# tunnel: <TUNNEL-UUID>
# credentials-file: /home/<you>/.cloudflared/<TUNNEL-UUID>.json
# ingress:
#   - hostname: cccc.example.com
#     service: http://127.0.0.1:8848
#   - service: http_status:404

# 5) Run
cloudflared tunnel run cccc`})}),s.jsx("div",{className:`mt-2 text-[11px] ${d?"text-slate-500":"text-gray-600"}`,children:"Tip: In Cloudflare Zero Trust  Access  Applications, create a Self-hosted app for your hostname to require login."})]}),s.jsxs("div",{className:`rounded-lg border p-3 ${d?"border-slate-800 bg-slate-950/30":"border-gray-200 bg-gray-50"}`,children:[s.jsx("div",{className:`text-sm font-semibold ${d?"text-slate-200":"text-gray-800"}`,children:"Tailscale (VPN)"}),s.jsx("div",{className:`text-xs mt-1 ${d?"text-slate-500":"text-gray-600"}`,children:"Strong option if youre okay installing Tailscale on your phone. You can keep CCCC bound to a private interface."}),s.jsx("pre",{className:`mt-2 p-2 rounded overflow-x-auto whitespace-pre text-[11px] ${d?"bg-slate-900 text-slate-200":"bg-white text-gray-800 border border-gray-200"}`,children:s.jsx("code",{children:`# 1) Install Tailscale on the server + phone, then on the server:
tailscale up

# 2) Get your tailnet IP
TAILSCALE_IP=$(tailscale ip -4)

# 3) Bind Web UI to that IP (so it's only reachable via tailnet)
CCCC_WEB_HOST=$TAILSCALE_IP CCCC_WEB_PORT=8848 cccc

# 4) On phone browser:
# http://<TAILSCALE_IP>:8848/ui/`})})]}),s.jsx("div",{className:`text-xs ${d?"text-slate-500":"text-gray-500"}`,children:"Phone tip: On iOS/Android you can Add to Home Screen for an app-like launcher (PWA-style)."})]})]})]})]})}function yo(u){if(!u)return"";try{const f=new Date(u);if(isNaN(f.getTime()))return u;const a=new Date,c=a.getTime()-f.getTime(),m=Math.floor(c/1e3),d=Math.floor(m/60),y=Math.floor(d/60),p=Math.floor(y/24);if(m<60)return"just now";if(d<60)return`${d}m ago`;if(y<24)return`${y}h ago`;if(p<7)return`${p}d ago`;const _=f.toLocaleString("en",{month:"short"}),E=f.getDate(),k=f.getFullYear(),R=a.getFullYear();return k===R?`${_} ${E}`:`${_} ${E}, ${k}`}catch{return u}}function Fc(u){if(!u)return"";try{const f=new Date(u);return isNaN(f.getTime())?u:f.toLocaleString()}catch{return u}}function v0(u){if(u.kind==="chat.message"&&u.data&&typeof u.data=="object")return String(u.data.text||"");if(u.kind==="system.notify"&&u.data&&typeof u.data=="object"){const f=String(u.data.kind||"info"),a=String(u.data.title||""),c=String(u.data.message||""),m=u.data.target_actor_id?`  ${u.data.target_actor_id}`:"";return`[${f}]${m}: ${a}${c?` - ${c}`:""}`}return String(u.kind||"event")}function b0(u,f,a){const c=(f||"").trim();if(!c)return u;const m=u.toLowerCase(),d=c.toLowerCase();if(!d)return u;const y=[];let p=0,_=0;for(;;){const E=m.indexOf(d,p);if(E===-1)break;E>p&&y.push(u.slice(p,E));const k=u.slice(E,E+c.length);if(y.push(s.jsx("mark",{className:$("px-0.5 rounded",a?"bg-amber-500/20 text-amber-200":"bg-amber-200 text-amber-900"),children:k},`m${_++}-${E}`)),p=E+c.length,p>=u.length)break}return p<u.length&&y.push(u.slice(p)),y}async function w0(u){var f;try{if((f=navigator.clipboard)!=null&&f.writeText)return await navigator.clipboard.writeText(u),!0}catch{}try{return window.prompt("Copy to clipboard:",u),!0}catch{return!1}}function j0({isOpen:u,onClose:f,groupId:a,actors:c,isDark:m,onReply:d}){const y=j.useRef(null),[p,_]=j.useState(""),[E,k]=j.useState("all"),[R,O]=j.useState(""),[le,ee]=j.useState(!1),[H,T]=j.useState(""),[ue,Z]=j.useState([]),[Q,ie]=j.useState(!1),se=j.useMemo(()=>{const W=c.map(je=>String(je.id||"")).filter(Boolean);return W.sort(),W},[c]);j.useEffect(()=>{u&&(T(""),window.setTimeout(()=>{var W;return(W=y.current)==null?void 0:W.focus()},0))},[u]),j.useEffect(()=>{u&&(Z([]),ie(!1),T(""))},[a,u]);const Y=async W=>{var je;if(u&&a){ee(!0),T("");try{const fe=new URLSearchParams;fe.set("q",p),fe.set("kind",E),R&&fe.set("by",R),fe.set("limit","50"),W!=null&&W.before&&fe.set("before",W.before);const ve=await Ee(`/api/v1/groups/${encodeURIComponent(a)}/ledger/search?${fe.toString()}`);if(!ve.ok){T(((je=ve.error)==null?void 0:je.message)||"Search failed");return}const $e=ve.result.events||[];ie(!!ve.result.has_more),Z(ke=>(W==null?void 0:W.mode)==="prepend"?$e.concat(ke):$e)}finally{ee(!1)}}},ye=async()=>{var je;const W=(je=ue[0])!=null&&je.id?String(ue[0].id):"";W&&await Y({before:W,mode:"prepend"})};return u?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-stretch sm:items-center justify-center p-0 sm:p-4 animate-fade-in",children:[s.jsx("div",{className:m?"absolute inset-0 bg-black/60":"absolute inset-0 bg-black/40",onClick:f,"aria-hidden":"true"}),s.jsxs("div",{className:$("relative w-full h-full sm:h-auto sm:max-h-[80vh] sm:max-w-3xl flex flex-col border shadow-2xl animate-scale-in","rounded-none sm:rounded-xl",m?"bg-slate-900 border-slate-700":"bg-white border-gray-200"),role:"dialog","aria-modal":"true","aria-labelledby":"search-modal-title",children:[s.jsxs("div",{className:$("flex items-center justify-between px-4 pt-4 pb-3 border-b safe-area-inset-top",m?"border-slate-800":"border-gray-200"),children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("h2",{id:"search-modal-title",className:$("text-lg font-semibold truncate",m?"text-slate-100":"text-gray-900"),children:" Search Messages"}),s.jsx("div",{className:$("text-xs mt-0.5 truncate",m?"text-slate-400":"text-gray-500"),children:a})]}),s.jsx("button",{onClick:f,className:$("text-xl leading-none min-w-[44px] min-h-[44px] flex items-center justify-center rounded-lg transition-colors",m?"text-slate-400 hover:text-slate-200 hover:bg-slate-800":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"),"aria-label":"Close search modal",children:""})]}),s.jsxs("div",{className:"px-4 py-3 border-b space-y-3 sm:space-y-0 sm:flex sm:items-end sm:gap-3",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("label",{className:$("block text-xs font-medium mb-1",m?"text-slate-300":"text-gray-700"),children:"Query"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{ref:y,value:p,onChange:W=>_(W.target.value),onKeyDown:W=>{W.key==="Enter"&&Y({mode:"replace"})},className:$("flex-1 px-3 py-2 border rounded-lg text-sm min-h-[44px]",m?"bg-slate-800 border-slate-700 text-slate-100":"bg-white border-gray-300 text-gray-900"),placeholder:"Search text (case-insensitive)"}),s.jsx("button",{onClick:()=>void Y({mode:"replace"}),disabled:le,className:$("px-4 py-2 rounded-lg text-sm font-medium min-h-[44px] disabled:opacity-50","bg-emerald-600 hover:bg-emerald-500 text-white"),children:le?"":"Search"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:$("block text-xs font-medium mb-1",m?"text-slate-300":"text-gray-700"),children:"Kind"}),s.jsx("div",{className:$("flex items-center gap-1 p-1 rounded-lg",m?"bg-slate-800/60":"bg-gray-100"),children:[["all","All"],["chat","Chat"],["notify","Notify"]].map(([W,je])=>s.jsx("button",{onClick:()=>k(W),className:$("px-2.5 py-1.5 rounded-md text-xs font-medium min-h-[36px] transition-colors",E===W?m?"bg-slate-700 text-white":"bg-white text-gray-900 shadow-sm":m?"text-slate-300 hover:text-white":"text-gray-600 hover:text-gray-900"),"aria-pressed":E===W,children:je},W))})]}),s.jsxs("div",{children:[s.jsx("label",{className:$("block text-xs font-medium mb-1",m?"text-slate-300":"text-gray-700"),children:"By"}),s.jsxs("select",{value:R,onChange:W=>O(W.target.value),className:$("px-3 py-2 border rounded-lg text-sm min-h-[44px] min-w-[140px]",m?"bg-slate-800 border-slate-700 text-slate-100":"bg-white border-gray-300 text-gray-900"),children:[s.jsx("option",{value:"",children:"Any"}),s.jsx("option",{value:"user",children:"user"}),s.jsx("option",{value:"system",children:"system"}),se.map(W=>s.jsx("option",{value:W,children:W},W))]})]})]})]}),H&&s.jsx("div",{className:$("px-4 py-2 text-sm border-b",m?"border-rose-500/30 bg-rose-500/10 text-rose-300":"border-rose-300 bg-rose-50 text-rose-700"),role:"alert",children:H}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[Q&&ue.length>0&&s.jsx("button",{className:$("w-full px-4 py-2 rounded-lg text-sm font-medium min-h-[44px] transition-colors",m?"bg-slate-800 hover:bg-slate-700 text-slate-200":"bg-gray-100 hover:bg-gray-200 text-gray-700"),onClick:()=>void ye(),disabled:le,children:"Load older results"}),ue.map((W,je)=>{const fe=v0(W),ve=W.id?String(W.id):"",$e=W.kind==="chat.message";return s.jsx("div",{className:$("rounded-lg border px-4 py-3",m?"border-slate-700/50 bg-slate-800/40":"border-gray-200 bg-gray-50"),children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("span",{className:$("text-xs",m?"text-slate-400":"text-gray-500"),title:Fc(W.ts),children:yo(W.ts)}),s.jsx("span",{className:$("text-xs font-medium",m?"text-slate-200":"text-gray-800"),children:W.by||""}),s.jsx("span",{className:$("text-[10px] px-2 py-0.5 rounded-full font-medium",W.kind==="system.notify"?m?"bg-blue-500/20 text-blue-300":"bg-blue-100 text-blue-700":m?"bg-slate-700/60 text-slate-300":"bg-white text-gray-600 border border-gray-200"),children:W.kind||"event"}),ve&&s.jsx("span",{className:$("text-[10px] truncate",m?"text-slate-500":"text-gray-400"),title:ve,children:ve})]}),s.jsx("div",{className:$("mt-2 text-sm whitespace-pre-wrap break-words",m?"text-slate-100":"text-gray-800"),children:b0(fe,p,m)})]}),s.jsxs("div",{className:"flex items-center gap-2 justify-end sm:flex-col sm:items-end",children:[$e&&s.jsx("button",{className:$("text-[10px] px-2 py-1 rounded border min-h-[36px] transition-colors",m?"bg-slate-900 border-slate-800 hover:bg-slate-800/60 text-slate-300 hover:text-slate-100":"bg-white border-gray-200 hover:bg-gray-100 text-gray-600 hover:text-gray-900"),onClick:()=>d(W),"aria-label":`Reply to ${String(W.by||"message")}`,title:"Reply",children:" Reply"}),ve&&s.jsx("button",{className:$("text-[10px] px-2 py-1 rounded border min-h-[36px] transition-colors",m?"bg-slate-900 border-slate-800 hover:bg-slate-800/60 text-slate-300 hover:text-slate-100":"bg-white border-gray-200 hover:bg-gray-100 text-gray-600 hover:text-gray-900"),onClick:()=>void w0(ve),"aria-label":"Copy event id",title:"Copy event id",children:" Copy ID"})]})]})},ve||`r${je}`)}),!le&&ue.length===0&&s.jsxs("div",{className:"text-center py-10",children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:$("text-sm",m?"text-slate-300":"text-gray-700"),children:"No results"}),s.jsx("div",{className:$("text-xs mt-1",m?"text-slate-500":"text-gray-500"),children:"Try a different query, sender, or kind filter."})]})]})]})]}):null}function N0({isOpen:u,isDark:f,maxFileMb:a}){return u?s.jsxs("div",{className:"fixed inset-0 z-[60]",children:[s.jsx("div",{className:$("absolute inset-0 backdrop-blur-sm",f?"bg-black/60":"bg-black/40"),"aria-hidden":"true"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-6",children:s.jsxs("div",{className:$("w-full max-w-sm rounded-2xl border px-6 py-5 text-center shadow-2xl",f?"bg-slate-900/90 border-slate-700 text-slate-100":"bg-white/90 border-gray-200 text-gray-900"),role:"dialog","aria-label":"Drop files to attach",children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:"text-sm font-semibold",children:"Drop files to attach"}),s.jsx("div",{className:$("text-xs mt-1",f?"text-slate-400":"text-gray-500"),children:"Added to the composer. Click Send when ready."}),s.jsxs("div",{className:$("text-[11px] mt-3",f?"text-slate-500":"text-gray-500"),children:["Max ",a,"MB per file."]})]})})]}):null}function vo(u,f){if(!u)return{label:" STOP",colorClass:"bg-slate-700/50 text-slate-500"};switch(f){case"paused":return{label:" PAUSED",colorClass:"bg-amber-500/20 text-amber-500"};case"idle":return{label:" IDLE",colorClass:"bg-blue-500/20 text-blue-400"};default:return{label:" RUN",colorClass:"bg-emerald-500/20 text-emerald-500"}}}function bo(u,f){if(!u)return{label:" STOP",colorClass:"bg-gray-200 text-gray-500"};switch(f){case"paused":return{label:" PAUSED",colorClass:"bg-amber-100 text-amber-600"};case"idle":return{label:" IDLE",colorClass:"bg-blue-100 text-blue-600"};default:return{label:" RUN",colorClass:"bg-emerald-100 text-emerald-600"}}}function S0({theme:u,onThemeChange:f,isDark:a}){const c=()=>u==="light"?"dark":u==="dark"?"system":"light",m=u==="light"?"":u==="dark"?"":"",d=u==="light"?"Light":u==="dark"?"Dark":"System";return s.jsx("button",{onClick:()=>f(c()),className:$("flex items-center justify-center w-9 h-9 rounded-lg transition-colors min-h-[44px] min-w-[44px]",a?"bg-slate-800 hover:bg-slate-700 text-slate-300":"bg-gray-100 hover:bg-gray-200 text-gray-600"),title:`Theme: ${d}. Click to change.`,"aria-label":`Current theme: ${d}. Click to cycle through themes.`,children:s.jsx("span",{className:"text-lg","aria-hidden":"true",children:m})})}function C0({isDark:u,theme:f,onThemeChange:a,selectedGroupId:c,groupDoc:m,selectedGroupRunning:d,actors:y,busy:p,errorMsg:_,onDismissError:E,onOpenSidebar:k,onOpenGroupEdit:R,onOpenContext:O,onStartGroup:le,onStopGroup:ee,onSetGroupState:H,onOpenSettings:T,onOpenMobileMenu:ue}){return s.jsxs("header",{className:`flex-shrink-0 border-b backdrop-blur z-20 px-4 h-14 flex items-center justify-between gap-3 transition-colors ${u?"border-slate-800/50 bg-slate-900/80":"border-gray-200 bg-white/80"}`,children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsx("button",{className:`md:hidden p-2 -ml-2 rounded-lg transition-colors ${u?"text-slate-400 hover:text-white hover:bg-slate-800":"text-gray-500 hover:text-gray-900 hover:bg-gray-100"}`,onClick:k,"aria-label":"Open sidebar",children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"w-4 h-0.5 bg-current"}),s.jsx("div",{className:"w-4 h-0.5 bg-current"}),s.jsx("div",{className:"w-4 h-0.5 bg-current"})]})}),s.jsx("div",{className:"min-w-0 flex flex-col",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h1",{className:`text-sm font-semibold truncate ${u?"text-slate-100":"text-gray-900"}`,children:(m==null?void 0:m.title)||c||"Select a group"}),c&&m&&(()=>{const Z=u?vo(d,m.state):bo(d,m.state);return s.jsx("span",{className:`w-2 h-2 rounded-full ${Z.colorClass.replace("text-","bg-").split(" ")[0]}`,title:Z.label})})()]})}),c&&s.jsx("button",{className:`hidden sm:flex items-center justify-center text-xs px-2 py-1 rounded-md transition-colors opacity-50 hover:opacity-100 ${u?"text-slate-400 hover:bg-slate-800":"text-gray-400 hover:bg-gray-100"}`,onClick:R,title:"Edit group",children:""})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsxs("div",{className:"hidden sm:flex items-center gap-1.5 mr-2",children:[s.jsxs("button",{onClick:O,disabled:!c,className:`p-2 rounded-xl transition-colors ${u?"text-slate-400 hover:text-white hover:bg-slate-800":"text-gray-400 hover:text-gray-900 hover:bg-gray-100"}`,title:"Context (Clipboard)",children:[s.jsx("span",{className:"sr-only",children:"Context"}),""]}),s.jsx("div",{className:`w-px h-4 mx-1 ${u?"bg-slate-800":"bg-gray-200"}`}),s.jsxs("button",{onClick:le,disabled:!c||p==="group-start"||y.length===0,className:`p-2 rounded-xl transition-colors ${u?"text-emerald-500 hover:text-emerald-400 hover:bg-emerald-500/10":"text-emerald-600 hover:bg-emerald-50"}`,title:"Launch All Agents",children:[s.jsx("span",{className:"sr-only",children:"Launch"}),""]}),(m==null?void 0:m.state)==="paused"?s.jsxs("button",{onClick:()=>void H("active"),disabled:!c||p==="group-state",className:`p-2 rounded-xl transition-colors ${u?"text-amber-400 hover:bg-amber-500/10":"text-amber-600 hover:bg-amber-50"}`,title:"Resume Delivery",children:[s.jsx("span",{className:"sr-only",children:"Resume"}),""]}):s.jsxs("button",{onClick:()=>void H("paused"),disabled:!c||p==="group-state",className:`p-2 rounded-xl transition-colors ${u?"text-slate-400 hover:text-amber-300 hover:bg-amber-500/10":"text-gray-400 hover:text-amber-600 hover:bg-amber-50"}`,title:"Pause Delivery",children:[s.jsx("span",{className:"sr-only",children:"Pause"}),""]}),s.jsxs("button",{onClick:ee,disabled:!c||p==="group-stop",className:`p-2 rounded-xl transition-colors ${u?"text-slate-400 hover:text-rose-400 hover:bg-rose-500/10":"text-gray-400 hover:text-rose-600 hover:bg-rose-50"}`,title:"Stop All Agents",children:[s.jsx("span",{className:"sr-only",children:"Stop"}),""]}),s.jsx("div",{className:`w-px h-4 mx-1 ${u?"bg-slate-800":"bg-gray-200"}`})]}),s.jsx("div",{className:"hidden sm:block",children:s.jsx(S0,{theme:f,onThemeChange:a,isDark:u})}),s.jsx("button",{onClick:T,disabled:!c,className:`hidden sm:flex p-2 rounded-lg transition-colors ${u?"text-slate-400 hover:text-slate-200 hover:bg-slate-800":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"}`,title:"Settings",children:""}),s.jsx("button",{className:$("sm:hidden flex items-center justify-center w-8 h-8 rounded-lg transition-colors",u?"text-slate-400 hover:bg-slate-800":"text-gray-400 hover:bg-gray-100"),onClick:ue,title:"Menu",children:s.jsx("span",{className:"text-lg leading-none transform rotate-90","aria-hidden":"true",children:""})})]}),_&&s.jsx("div",{className:"absolute top-16 left-1/2 -translate-x-1/2 z-50 animate-slide-up",children:s.jsxs("div",{className:`rounded-xl border px-4 py-2.5 text-sm flex items-center gap-3 shadow-xl ${u?"border-rose-500/30 bg-rose-950/90 text-rose-300 backdrop-blur-md":"border-rose-200 bg-white/90 text-rose-700 backdrop-blur-md"}`,role:"alert",children:[s.jsx("span",{children:_}),s.jsx("button",{className:"opacity-70 hover:opacity-100",onClick:E,children:""})]})})]})}function E0({groups:u,selectedGroupId:f,isOpen:a,isDark:c,onSelectGroup:m,onCreateGroup:d,onClose:y}){return s.jsxs(s.Fragment,{children:[s.jsxs("aside",{className:$("h-full border-r flex flex-col","fixed md:relative z-40 w-[280px] transition-transform duration-300",a?"translate-x-0":"-translate-x-full","md:translate-x-0",c?"border-slate-700/50 bg-slate-900/80 backdrop-blur":"border-gray-200 bg-white/80 backdrop-blur"),children:[s.jsx("div",{className:`p-4 border-b ${c?"border-slate-700/50":"border-gray-200"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:"/ui/logo.svg",alt:"CCCC Logo",className:"w-8 h-8 object-contain"}),s.jsx("span",{className:`text-lg font-bold tracking-tight ${c?"text-white":"text-gray-900"}`,children:"CCCC"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:`text-xs px-3 py-1.5 rounded-xl font-medium shadow-lg transition-all min-h-[36px] ${c?"bg-gradient-to-r from-blue-600 to-blue-500 text-white hover:from-blue-500 hover:to-blue-400 shadow-blue-500/20":"bg-blue-600 text-white hover:bg-blue-500"}`,onClick:d,title:"Create new working group","aria-label":"Create new working group",children:"+ New"}),s.jsx("button",{className:`md:hidden p-2 min-w-[44px] min-h-[44px] flex items-center justify-center rounded-xl transition-colors ${c?"text-slate-400 hover:text-white hover:bg-slate-800":"text-gray-500 hover:text-gray-900 hover:bg-gray-100"}`,onClick:y,"aria-label":"Close sidebar",children:""})]})]})}),s.jsxs("div",{className:"flex-1 overflow-auto p-3",children:[s.jsx("div",{className:`text-[10px] font-medium uppercase tracking-wider mb-2 px-2 ${c?"text-slate-500":"text-gray-500"}`,children:"Working Groups"}),u.map(p=>{const _=String(p.group_id||""),E=_===f;return s.jsx("button",{className:$("w-full text-left px-3 py-2.5 rounded-xl mb-1 transition-all min-h-[44px]",E?c?"bg-gradient-to-r from-blue-600/20 to-blue-500/10 border border-blue-500/30":"bg-blue-50 border border-blue-200":c?"hover:bg-slate-800/50 border border-transparent":"hover:bg-gray-100 border border-transparent"),onClick:()=>{m(_),window.matchMedia("(max-width: 767px)").matches&&y()},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:$("text-sm font-medium truncate",E?c?"text-white":"text-blue-700":c?"text-slate-300":"text-gray-700"),children:p.title||_}),(()=>{const k=c?vo(p.running??!1,p.state):bo(p.running??!1,p.state);return s.jsx("div",{className:$("text-[9px] px-2 py-0.5 rounded-full font-medium",k.colorClass),children:k.label})})()]})},_)}),!u.length&&s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("div",{className:"text-4xl mb-3",children:""}),s.jsx("div",{className:`text-sm mb-2 ${c?"text-slate-400":"text-gray-600"}`,children:"No working groups yet"}),s.jsx("div",{className:`text-xs mb-4 max-w-[200px] mx-auto ${c?"text-slate-500":"text-gray-500"}`,children:"A working group is a collaboration space where multiple AI agents work together on a project."}),s.jsx("button",{className:`text-sm px-4 py-2 rounded-xl font-medium shadow-lg min-h-[44px] transition-all ${c?"bg-gradient-to-r from-blue-600 to-blue-500 text-white hover:from-blue-500 hover:to-blue-400 shadow-blue-500/20":"bg-blue-600 text-white hover:bg-blue-500"}`,onClick:d,children:"Create Your First Group"})]})]})]}),a&&s.jsx("div",{className:`fixed inset-0 z-30 md:hidden ${c?"bg-black/50":"bg-black/30"}`,onClick:y,"aria-hidden":"true"})]})}function k0({isOpen:u,isDark:f,selectedGroupId:a,groupDoc:c,selectedGroupRunning:m,actors:d,busy:y,onClose:p,onToggleTheme:_,onOpenSearch:E,onOpenContext:k,onOpenSettings:R,onOpenGroupEdit:O,onStartGroup:le,onStopGroup:ee,onSetGroupState:H}){return u?s.jsxs("div",{className:"fixed inset-0 z-50 sm:hidden animate-fade-in",children:[s.jsx("div",{className:f?"absolute inset-0 bg-black/60 backdrop-blur-sm":"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:p,"aria-hidden":"true"}),s.jsxs("div",{className:$("absolute bottom-0 left-0 right-0 rounded-t-3xl border shadow-2xl animate-slide-up transform transition-transform",f?"bg-slate-900 border-slate-700":"bg-white border-gray-200"),role:"dialog","aria-modal":"true","aria-label":"Menu",children:[s.jsx("div",{className:"flex justify-center pt-3 pb-1",onClick:p,children:s.jsx("div",{className:`w-12 h-1.5 rounded-full opacity-50 ${f?"bg-slate-600":"bg-gray-300"}`})}),s.jsxs("div",{className:"px-6 pb-4 flex items-center justify-between gap-3",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:$("text-lg font-bold truncate",f?"text-slate-100":"text-gray-900"),children:(c==null?void 0:c.title)||a||"Menu"}),a&&c&&s.jsx("div",{className:"flex items-center gap-2 mt-1",children:s.jsx("span",{className:$("text-xs px-2 py-0.5 rounded-full font-medium",f?vo(m,c.state).colorClass:bo(m,c.state).colorClass),children:(f?vo(m,c.state):bo(m,c.state)).label})})]}),s.jsx("button",{onClick:p,className:$("p-2 rounded-full transition-colors",f?"text-slate-400 hover:text-slate-200 hover:bg-slate-800":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"),"aria-label":"Close menu",children:s.jsx("div",{className:"text-2xl leading-none",children:""})})]}),s.jsxs("div",{className:"p-4 space-y-2 safe-area-inset-bottom",children:[!a&&s.jsx("div",{className:$("text-sm px-1 pb-2",f?"text-slate-400":"text-gray-500"),children:"Select a group to enable actions."}),s.jsxs("button",{className:$("w-full flex items-center justify-center gap-3 px-4 py-3.5 rounded-2xl text-sm font-medium transition-all min-h-[52px] disabled:opacity-50",f?"bg-slate-800/80 hover:bg-slate-700 text-slate-200":"bg-gray-100 hover:bg-gray-200 text-gray-800"),onClick:()=>{p(),E()},disabled:!a,children:[s.jsx("span",{className:"text-lg","aria-hidden":"true",children:""}),s.jsx("span",{children:"Search Messages"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("button",{className:$("w-full flex items-center justify-center gap-2 px-4 py-3.5 rounded-2xl text-sm font-medium transition-all min-h-[52px] disabled:opacity-50",f?"bg-slate-800/80 hover:bg-slate-700 text-slate-200":"bg-gray-100 hover:bg-gray-200 text-gray-800"),onClick:()=>{p(),k()},disabled:!a,children:[s.jsx("span",{className:"text-lg","aria-hidden":"true",children:""}),s.jsx("span",{children:"Context"})]}),s.jsxs("button",{className:$("w-full flex items-center justify-center gap-2 px-4 py-3.5 rounded-2xl text-sm font-medium transition-all min-h-[52px] disabled:opacity-50",f?"bg-slate-800/80 hover:bg-slate-700 text-slate-200":"bg-gray-100 hover:bg-gray-200 text-gray-800"),onClick:()=>{p(),R()},disabled:!a,children:[s.jsx("span",{className:"text-lg","aria-hidden":"true",children:""}),s.jsx("span",{children:"Settings"})]})]}),s.jsxs("button",{className:$("w-full flex items-center justify-center gap-3 px-4 py-3.5 rounded-2xl text-sm font-medium transition-all min-h-[52px] disabled:opacity-50",f?"bg-slate-800/80 hover:bg-slate-700 text-slate-200":"bg-gray-100 hover:bg-gray-200 text-gray-800"),onClick:_,children:[s.jsx("span",{className:"text-lg","aria-hidden":"true",children:f?"":""}),s.jsx("span",{children:f?"Light Mode":"Dark Mode"})]}),s.jsxs("button",{className:$("w-full flex items-center justify-center gap-3 px-4 py-3.5 rounded-2xl text-sm font-medium transition-all min-h-[52px] disabled:opacity-50",f?"bg-slate-800/80 hover:bg-slate-700 text-slate-200":"bg-gray-100 hover:bg-gray-200 text-gray-800"),onClick:()=>{p(),O()},disabled:!a,children:[s.jsx("span",{className:"text-lg","aria-hidden":"true",children:""}),s.jsx("span",{children:"Edit Group Details"})]}),s.jsx("div",{className:$("h-px my-3 mx-2",f?"bg-slate-800":"bg-gray-200")}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("button",{className:$("w-full flex flex-col items-center justify-center gap-1 px-2 py-3 rounded-2xl text-sm font-medium transition-all min-h-[64px] disabled:opacity-50",f?"bg-emerald-900/30 border border-emerald-500/20 text-emerald-300 hover:bg-emerald-900/50":"bg-emerald-50 border border-emerald-100 text-emerald-700 hover:bg-emerald-100"),onClick:()=>{p(),le()},disabled:!a||y==="group-start"||d.length===0,children:[s.jsx("span",{className:"text-xl","aria-hidden":"true",children:""}),s.jsx("span",{children:"Launch All"})]}),s.jsxs("button",{className:$("w-full flex flex-col items-center justify-center gap-1 px-2 py-3 rounded-2xl text-sm font-medium transition-all min-h-[64px] disabled:opacity-50",f?"bg-slate-800 hover:bg-slate-700 text-slate-300":"bg-gray-100 hover:bg-gray-200 text-gray-600"),onClick:()=>{p(),ee()},disabled:!a||y==="group-stop",children:[s.jsx("span",{className:"text-xl","aria-hidden":"true",children:""}),s.jsx("span",{children:"Quit All"})]})]}),(c==null?void 0:c.state)==="paused"?s.jsxs("button",{className:$("w-full flex items-center justify-center gap-2 px-4 py-3.5 rounded-2xl text-sm font-medium transition-all min-h-[52px] disabled:opacity-50",f?"bg-amber-900/30 border border-amber-500/20 text-amber-300 hover:bg-amber-900/50":"bg-amber-50 border border-amber-100 text-amber-700 hover:bg-amber-100"),onClick:()=>{p(),H("active")},disabled:!a||y==="group-state",children:[s.jsx("span",{className:"text-lg","aria-hidden":"true",children:""}),s.jsx("span",{children:"Resume Message Delivery"})]}):s.jsxs("button",{className:$("w-full flex items-center justify-center gap-2 px-4 py-3.5 rounded-2xl text-sm font-medium transition-all min-h-[52px] disabled:opacity-50",f?"bg-slate-800 hover:bg-slate-700 text-slate-300":"bg-gray-100 hover:bg-gray-200 text-gray-600"),onClick:()=>{p(),H("paused")},disabled:!a||y==="group-state",children:[s.jsx("span",{className:"text-lg","aria-hidden":"true",children:""}),s.jsx("span",{children:"Pause Message Delivery"})]})]})]})]}):null}const wo=["claude","codex","droid","amp","auggie","neovate","gemini","cursor","kilocode","opencode","copilot","custom"],ts={amp:{label:"Amp",desc:""},auggie:{label:"Auggie (Augment)",desc:""},claude:{label:"Claude Code",desc:""},codex:{label:"Codex CLI",desc:""},cursor:{label:"Cursor CLI",desc:"Manual MCP installation needed"},droid:{label:"Droid",desc:""},gemini:{label:"Gemini CLI",desc:""},kilocode:{label:"Kilo Code",desc:"Manual MCP installation needed"},neovate:{label:"Neovate Code",desc:""},opencode:{label:"OpenCode",desc:"Manual MCP installation needed"},copilot:{label:"GitHub Copilot",desc:"Manual MCP installation needed"},custom:{label:"Custom",desc:"Manual MCP installation needed"}},kc={amp:{bg:"bg-rose-900/30",text:"text-rose-300",border:"border-rose-600/50",dot:"bg-rose-400",bgLight:"bg-rose-50",textLight:"text-rose-700",borderLight:"border-rose-300",dotLight:"bg-rose-500"},auggie:{bg:"bg-teal-900/30",text:"text-teal-300",border:"border-teal-600/50",dot:"bg-teal-400",bgLight:"bg-teal-50",textLight:"text-teal-700",borderLight:"border-teal-300",dotLight:"bg-teal-500"},claude:{bg:"bg-orange-900/30",text:"text-orange-300",border:"border-orange-600/50",dot:"bg-orange-400",bgLight:"bg-orange-50",textLight:"text-orange-700",borderLight:"border-orange-300",dotLight:"bg-orange-500"},codex:{bg:"bg-emerald-900/30",text:"text-emerald-300",border:"border-emerald-600/50",dot:"bg-emerald-400",bgLight:"bg-emerald-50",textLight:"text-emerald-700",borderLight:"border-emerald-300",dotLight:"bg-emerald-500"},cursor:{bg:"bg-indigo-900/30",text:"text-indigo-300",border:"border-indigo-600/50",dot:"bg-indigo-400",bgLight:"bg-indigo-50",textLight:"text-indigo-700",borderLight:"border-indigo-300",dotLight:"bg-indigo-500"},droid:{bg:"bg-violet-900/30",text:"text-violet-300",border:"border-violet-600/50",dot:"bg-violet-400",bgLight:"bg-violet-50",textLight:"text-violet-700",borderLight:"border-violet-300",dotLight:"bg-violet-500"},gemini:{bg:"bg-yellow-900/30",text:"text-yellow-300",border:"border-yellow-600/50",dot:"bg-yellow-400",bgLight:"bg-yellow-50",textLight:"text-yellow-700",borderLight:"border-yellow-300",dotLight:"bg-yellow-500"},kilocode:{bg:"bg-pink-900/30",text:"text-pink-300",border:"border-pink-600/50",dot:"bg-pink-400",bgLight:"bg-pink-50",textLight:"text-pink-700",borderLight:"border-pink-300",dotLight:"bg-pink-500"},neovate:{bg:"bg-fuchsia-900/30",text:"text-fuchsia-300",border:"border-fuchsia-600/50",dot:"bg-fuchsia-400",bgLight:"bg-fuchsia-50",textLight:"text-fuchsia-700",borderLight:"border-fuchsia-300",dotLight:"bg-fuchsia-500"},opencode:{bg:"bg-cyan-900/30",text:"text-cyan-300",border:"border-cyan-600/50",dot:"bg-cyan-400",bgLight:"bg-cyan-50",textLight:"text-cyan-700",borderLight:"border-cyan-300",dotLight:"bg-cyan-500"},copilot:{bg:"bg-slate-800/50",text:"text-slate-300",border:"border-slate-500/50",dot:"bg-slate-400",bgLight:"bg-gray-100",textLight:"text-gray-700",borderLight:"border-gray-300",dotLight:"bg-gray-500"},custom:{bg:"bg-zinc-800/50",text:"text-zinc-300",border:"border-zinc-500/50",dot:"bg-zinc-400",bgLight:"bg-zinc-100",textLight:"text-zinc-700",borderLight:"border-zinc-300",dotLight:"bg-zinc-500"},user:{bg:"bg-sky-900/30",text:"text-sky-300",border:"border-sky-600/50",dot:"bg-sky-400",bgLight:"bg-sky-50",textLight:"text-sky-700",borderLight:"border-sky-300",dotLight:"bg-sky-500"}};function af(u,f=!0){const a=kc[u||"codex"]||kc.codex;return f?{bg:a.bg,text:a.text,border:a.border,dot:a.dot}:{bg:a.bgLight,text:a.textLight,border:a.borderLight,dot:a.dotLight}}const Uc=JSON.stringify({mcpServers:{cccc:{command:"cccc",args:["mcp"]}}},null,2),Bc=JSON.stringify({mcpServers:{cccc:{command:"cccc",args:["mcp"],tools:["*"]}}},null,2),Vc=JSON.stringify({mcp:{cccc:{type:"local",command:["cccc","mcp"]}}},null,2);function _0({isOpen:u,isDark:f,busy:a,hasForeman:c,runtimes:m,suggestedActorId:d,newActorId:y,setNewActorId:p,newActorRole:_,setNewActorRole:E,newActorRuntime:k,setNewActorRuntime:R,newActorCommand:O,setNewActorCommand:le,showAdvancedActor:ee,setShowAdvancedActor:H,addActorError:T,setAddActorError:ue,canAddActor:Z,addActorDisabledReason:Q,onAddActor:ie,onClose:se,onCancelAndReset:Y}){var W,je;if(!u)return null;const ye=((W=m.find(fe=>fe.name===k))==null?void 0:W.recommended_command)||"";return s.jsx("div",{className:`fixed inset-0 backdrop-blur-sm flex items-start justify-center p-4 sm:p-6 z-50 animate-fade-in ${f?"bg-black/50":"bg-black/30"}`,onMouseDown:fe=>{fe.target===fe.currentTarget&&se()},role:"dialog","aria-modal":"true","aria-labelledby":"add-actor-title",children:s.jsxs("div",{className:`w-full max-w-lg mt-8 sm:mt-16 rounded-2xl border shadow-2xl max-h-[80vh] overflow-y-auto animate-scale-in ${f?"border-slate-700/50 bg-gradient-to-b from-slate-800 to-slate-900":"border-gray-200 bg-white"}`,children:[s.jsxs("div",{className:`px-6 py-4 border-b sticky top-0 ${f?"border-slate-700/50 bg-slate-800":"border-gray-200 bg-white"}`,children:[s.jsx("div",{id:"add-actor-title",className:`text-lg font-semibold ${f?"text-white":"text-gray-900"}`,children:"Add AI Agent"}),s.jsx("div",{className:`text-sm mt-1 ${f?"text-slate-400":"text-gray-500"}`,children:"Choose an AI runtime to add to your team"})]}),s.jsxs("div",{className:"p-6 space-y-5",children:[T&&s.jsxs("div",{className:`rounded-xl border px-4 py-2.5 text-sm flex items-center justify-between gap-3 ${f?"border-rose-500/30 bg-rose-500/10 text-rose-300":"border-rose-300 bg-rose-50 text-rose-700"}`,role:"alert",children:[s.jsx("span",{children:T}),s.jsx("button",{className:f?"text-rose-300 hover:text-rose-100":"text-rose-500 hover:text-rose-700",onClick:()=>ue(""),children:""})]}),s.jsxs("div",{children:[s.jsxs("label",{className:`block text-xs font-medium mb-2 ${f?"text-slate-400":"text-gray-500"}`,children:["Agent Name ",s.jsx("span",{className:f?"text-slate-500":"text-gray-400",children:"(supports /)"})]}),s.jsx("input",{className:`w-full rounded-xl border px-4 py-2.5 text-sm min-h-[44px] transition-colors ${f?"bg-slate-900/80 border-slate-600/50 text-white placeholder-slate-500 focus:border-blue-500":"bg-white border-gray-300 text-gray-900 placeholder-gray-400 focus:border-blue-500"}`,value:y,onChange:fe=>p(fe.target.value),placeholder:d}),s.jsxs("div",{className:`text-[10px] mt-1 ${f?"text-slate-500":"text-gray-500"}`,children:["Leave empty to use:"," ",s.jsx("code",{className:`px-1 rounded ${f?"bg-slate-800":"bg-gray-100"}`,children:d})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-xs font-medium mb-2 ${f?"text-slate-400":"text-gray-500"}`,children:"AI Runtime"}),s.jsx("select",{className:`w-full rounded-xl border px-4 py-2.5 text-sm min-h-[44px] transition-colors ${f?"bg-slate-900/80 border-slate-600/50 text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"}`,value:k,onChange:fe=>{const ve=fe.target.value;R(ve),le("")},children:wo.map(fe=>{const ve=ts[fe],$e=m.find(Re=>Re.name===fe),ke=($e==null?void 0:$e.available)??!1,be=ke||fe==="custom";return s.jsxs("option",{value:fe,disabled:!be,children:[(ve==null?void 0:ve.label)||fe,!ke&&fe!=="custom"?" (not installed)":""]},fe)})}),(je=ts[k])!=null&&je.desc?s.jsx("div",{className:`text-[10px] mt-1 ${f?"text-slate-500":"text-gray-500"}`,children:ts[k].desc}):null,(k==="cursor"||k==="kilocode"||k==="opencode"||k==="copilot"||k==="custom")&&s.jsxs("div",{className:`mt-2 rounded-xl border px-3 py-2 text-[11px] ${f?"border-amber-500/30 bg-amber-500/10 text-amber-200":"border-amber-200 bg-amber-50 text-amber-800"}`,children:[s.jsx("div",{className:"font-medium",children:"Manual MCP install required"}),k==="custom"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mt-1",children:["Provide a command for your runtime in ",s.jsx("span",{className:"font-medium",children:"Advanced options  Command Override"}),"."]}),s.jsxs("div",{className:"mt-1",children:["Configure your runtime to add an MCP stdio server named"," ",s.jsx("code",{className:`px-1 rounded ${f?"bg-amber-900/30":"bg-amber-100"}`,children:"cccc"})," that runs"," ",s.jsx("code",{className:`px-1 rounded ${f?"bg-amber-900/30":"bg-amber-100"}`,children:"cccc mcp"}),"."]})]}):k==="cursor"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mt-1",children:["1) Create/edit"," ",s.jsx("code",{className:`px-1 rounded ${f?"bg-amber-900/30":"bg-amber-100"}`,children:"~/.cursor/mcp.json"})," (or"," ",s.jsx("code",{className:`px-1 rounded ${f?"bg-amber-900/30":"bg-amber-100"}`,children:".cursor/mcp.json"})," in this project)"]}),s.jsx("div",{className:"mt-1",children:"2) Add this MCP server config:"})]}):k==="kilocode"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mt-1",children:["1) Create/edit"," ",s.jsx("code",{className:`px-1 rounded ${f?"bg-amber-900/30":"bg-amber-100"}`,children:".kilocode/mcp.json"})," in this project root"]}),s.jsx("div",{className:"mt-1",children:"2) Add this MCP server config:"})]}):k==="opencode"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mt-1",children:["1) Create/edit"," ",s.jsx("code",{className:`px-1 rounded ${f?"bg-amber-900/30":"bg-amber-100"}`,children:"~/.config/opencode/opencode.json"})]}),s.jsx("div",{className:"mt-1",children:"2) Add this MCP server config:"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mt-1",children:["1) Create/edit"," ",s.jsx("code",{className:`px-1 rounded ${f?"bg-amber-900/30":"bg-amber-100"}`,children:"~/.copilot/mcp-config.json"})]}),s.jsxs("div",{className:"mt-1",children:["2) Add this MCP server config (or pass it via"," ",s.jsx("code",{className:`px-1 rounded ${f?"bg-amber-900/30":"bg-amber-100"}`,children:"--additional-mcp-config"}),"):"]})]}),k!=="custom"?s.jsx("pre",{className:`mt-1.5 p-2 rounded overflow-x-auto whitespace-pre ${f?"bg-amber-900/20 text-amber-100":"bg-amber-50 text-amber-900"}`,children:s.jsx("code",{children:k==="opencode"?Vc:k==="copilot"?Bc:Uc})}):null,s.jsx("div",{className:`mt-1 text-[10px] ${f?"text-amber-200/80":"text-amber-800/80"}`,children:"Restart the runtime after updating this config."})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-xs font-medium mb-2 ${f?"text-slate-400":"text-gray-500"}`,children:"Role"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{className:$("flex-1 px-4 py-2.5 rounded-xl border text-sm font-medium transition-all min-h-[44px]",_==="foreman"?"bg-amber-500/20 border-amber-500 text-amber-600":c?f?"bg-slate-900/30 border-slate-700/30 text-slate-500 cursor-not-allowed":"bg-gray-100 border-gray-200 text-gray-400 cursor-not-allowed":f?"bg-slate-800/50 border-slate-600/50 text-slate-300 hover:border-slate-500":"bg-gray-50 border-gray-200 text-gray-600 hover:border-gray-300"),onClick:()=>{c||E("foreman")},disabled:c,children:[" Foreman ",c&&"(exists)"]}),s.jsxs("button",{className:$("flex-1 px-4 py-2.5 rounded-xl border text-sm font-medium transition-all min-h-[44px]",_==="peer"?"bg-blue-500/20 border-blue-500 text-blue-600":c?f?"bg-slate-800/50 border-slate-600/50 text-slate-300 hover:border-slate-500":"bg-gray-50 border-gray-200 text-gray-600 hover:border-gray-300":f?"bg-slate-900/30 border-slate-700/30 text-slate-500 cursor-not-allowed":"bg-gray-100 border-gray-200 text-gray-400 cursor-not-allowed"),onClick:()=>{c&&E("peer")},disabled:!c,children:["Peer ",!c&&"(need foreman first)"]})]}),s.jsx("div",{className:`text-[10px] mt-1.5 ${f?"text-slate-500":"text-gray-500"}`,children:c?"Foreman leads the team. Peers are worker agents.":"First agent must be the foreman (team leader)."})]}),s.jsxs("button",{className:`flex items-center gap-2 text-xs min-h-[36px] ${f?"text-slate-400 hover:text-slate-300":"text-gray-500 hover:text-gray-700"}`,onClick:()=>H(!ee),children:[s.jsx("span",{className:$("transition-transform",ee&&"rotate-90"),children:""}),"Advanced options"]}),ee&&s.jsx("div",{className:`space-y-4 pl-4 border-l-2 ${f?"border-slate-700/50":"border-gray-200"}`,children:s.jsxs("div",{children:[s.jsx("label",{className:`block text-xs font-medium mb-2 ${f?"text-slate-400":"text-gray-500"}`,children:"Command Override"}),s.jsx("input",{className:`w-full rounded-xl border px-3 py-2 text-sm font-mono min-h-[44px] transition-colors ${f?"bg-slate-900/80 border-slate-600/50 text-white placeholder-slate-500 focus:border-blue-500":"bg-white border-gray-300 text-gray-900 placeholder-gray-400 focus:border-blue-500"}`,value:O,onChange:fe=>le(fe.target.value),placeholder:ye||"Enter command..."}),ye.trim()?s.jsxs("div",{className:`text-[10px] mt-1 ${f?"text-slate-500":"text-gray-500"}`,children:["Default:"," ",s.jsx("code",{className:`px-1 rounded ${f?"bg-slate-800":"bg-gray-100"}`,children:ye})]}):null]})}),s.jsxs("div",{className:"flex gap-3 pt-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("button",{className:"w-full rounded-xl bg-blue-600 hover:bg-blue-500 text-white px-4 py-2.5 text-sm font-semibold shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all min-h-[44px]",onClick:ie,disabled:!Z,children:a==="actor-add"?"Adding...":"Add Agent"}),Q&&s.jsx("div",{className:"text-[10px] text-amber-500 mt-1.5",children:Q})]}),s.jsx("button",{className:`px-4 py-2.5 rounded-xl text-sm font-medium transition-colors min-h-[44px] ${f?"bg-slate-700 hover:bg-slate-600 text-slate-200":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,onClick:Y,children:"Cancel"})]})]})]})})}function $0({isOpen:u,isDark:f,busy:a,dirSuggestions:c,dirItems:m,currentDir:d,parentDir:y,showDirBrowser:p,createGroupPath:_,setCreateGroupPath:E,createGroupName:k,setCreateGroupName:R,onFetchDirContents:O,onCreateGroup:le,onClose:ee,onCancelAndReset:H}){return u?s.jsx("div",{className:`fixed inset-0 backdrop-blur-sm flex items-start justify-center p-4 sm:p-6 z-50 animate-fade-in ${f?"bg-black/50":"bg-black/30"}`,onMouseDown:T=>{T.target===T.currentTarget&&ee()},role:"dialog","aria-modal":"true","aria-labelledby":"create-group-title",children:s.jsxs("div",{className:`w-full max-w-lg mt-8 sm:mt-16 rounded-2xl border shadow-2xl animate-scale-in ${f?"border-slate-700/50 bg-gradient-to-b from-slate-800 to-slate-900":"border-gray-200 bg-white"}`,children:[s.jsxs("div",{className:`px-6 py-4 border-b ${f?"border-slate-700/50":"border-gray-200"}`,children:[s.jsx("div",{id:"create-group-title",className:`text-lg font-semibold ${f?"text-white":"text-gray-900"}`,children:"Create Working Group"}),s.jsx("div",{className:`text-sm mt-1 ${f?"text-slate-400":"text-gray-500"}`,children:"Select a project directory to start collaborating"})]}),s.jsxs("div",{className:"p-6 space-y-5",children:[c.length>0&&!_&&s.jsxs("div",{children:[s.jsx("label",{className:`block text-xs font-medium mb-2 ${f?"text-slate-400":"text-gray-500"}`,children:"Quick Select"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:c.slice(0,6).map(T=>s.jsxs("button",{className:`flex items-center gap-2 px-3 py-2 rounded-xl border transition-colors text-left min-h-[56px] ${f?"border-slate-600/50 bg-slate-800/50 hover:bg-slate-700/50 hover:border-slate-500":"border-gray-200 bg-gray-50 hover:bg-gray-100 hover:border-gray-300"}`,onClick:()=>{E(T.path),R(T.path.split("/").filter(Boolean).pop()||""),O(T.path)},children:[s.jsx("span",{className:"text-lg",children:T.icon}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:`text-sm font-medium truncate ${f?"text-slate-200":"text-gray-700"}`,children:T.name}),s.jsx("div",{className:`text-[10px] truncate ${f?"text-slate-500":"text-gray-500"}`,children:T.path})]})]},T.path))})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-xs font-medium mb-2 ${f?"text-slate-400":"text-gray-500"}`,children:"Project Directory"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{className:`flex-1 rounded-xl border px-4 py-2.5 text-sm font-mono min-h-[44px] transition-colors ${f?"bg-slate-900/80 border-slate-600/50 text-white placeholder-slate-500 focus:border-blue-500":"bg-white border-gray-300 text-gray-900 placeholder-gray-400 focus:border-blue-500"}`,value:_,onChange:T=>{E(T.target.value);const ue=T.target.value.split("/").filter(Boolean).pop()||"";(!k||k===d.split("/").filter(Boolean).pop())&&R(ue)},placeholder:"/path/to/your/project",autoFocus:!0}),s.jsx("button",{className:`px-4 py-2 rounded-xl text-sm font-medium transition-colors min-h-[44px] ${f?"bg-slate-700 hover:bg-slate-600 text-slate-200":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,onClick:()=>O(_||"~"),children:"Browse"})]})]}),p&&s.jsxs("div",{className:`border rounded-xl max-h-48 overflow-auto ${f?"border-slate-600/50 bg-slate-900/50":"border-gray-200 bg-gray-50"}`,children:[d&&s.jsx("div",{className:`px-3 py-1.5 border-b text-xs font-mono truncate ${f?"border-slate-700/30 bg-slate-800/30 text-slate-400":"border-gray-200 bg-gray-100 text-gray-500"}`,children:d}),y&&s.jsxs("button",{className:`w-full flex items-center gap-2 px-3 py-2 text-left border-b min-h-[44px] ${f?"hover:bg-slate-800/50 border-slate-700/30":"hover:bg-gray-100 border-gray-200"}`,onClick:()=>{O(y),E(y),R(y.split("/").filter(Boolean).pop()||"")},children:[s.jsx("span",{className:f?"text-slate-400":"text-gray-400",children:""}),s.jsx("span",{className:`text-sm ${f?"text-slate-400":"text-gray-500"}`,children:".."})]}),m.filter(T=>T.is_dir).length===0&&s.jsx("div",{className:`px-3 py-4 text-center text-sm ${f?"text-slate-500":"text-gray-500"}`,children:"No subdirectories"}),m.filter(T=>T.is_dir).map(T=>s.jsxs("button",{className:`w-full flex items-center gap-2 px-3 py-2 text-left min-h-[44px] ${f?"hover:bg-slate-800/50":"hover:bg-gray-100"}`,onClick:()=>{E(T.path),R(T.name),O(T.path)},children:[s.jsx("span",{className:"text-blue-500",children:""}),s.jsx("span",{className:`text-sm ${f?"text-slate-200":"text-gray-700"}`,children:T.name})]},T.path))]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-xs font-medium mb-2 ${f?"text-slate-400":"text-gray-500"}`,children:"Group Name"}),s.jsx("input",{className:`w-full rounded-xl border px-4 py-2.5 text-sm min-h-[44px] transition-colors ${f?"bg-slate-900/80 border-slate-600/50 text-white placeholder-slate-500 focus:border-blue-500":"bg-white border-gray-300 text-gray-900 placeholder-gray-400 focus:border-blue-500"}`,value:k,onChange:T=>R(T.target.value),placeholder:"Auto-filled from directory name"})]}),s.jsxs("div",{className:"flex gap-3 pt-2",children:[s.jsx("button",{className:"flex-1 rounded-xl bg-blue-600 hover:bg-blue-500 text-white px-4 py-2.5 text-sm font-semibold shadow-lg disabled:opacity-50 transition-all min-h-[44px]",onClick:le,disabled:!_.trim()||a==="create",children:a==="create"?"Creating...":"Create Group"}),s.jsx("button",{className:`px-4 py-2.5 rounded-xl text-sm font-medium transition-colors min-h-[44px] ${f?"bg-slate-700 hover:bg-slate-600 text-slate-200":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,onClick:H,children:"Cancel"})]})]})]})}):null}function T0({isOpen:u,isDark:f,busy:a,actorId:c,runtimes:m,runtime:d,onChangeRuntime:y,command:p,onChangeCommand:_,onSave:E,onCancel:k}){if(!u)return null;const R=m.find(H=>H.name===d),O=(R==null?void 0:R.available)??!1,le=(R==null?void 0:R.recommended_command)||"",ee=d==="custom"||!O;return s.jsx("div",{className:`fixed inset-0 flex items-start justify-center p-4 sm:p-6 z-50 animate-fade-in ${f?"bg-black/60":"bg-black/40"}`,onMouseDown:H=>{H.target===H.currentTarget&&k()},role:"dialog","aria-modal":"true","aria-labelledby":"edit-actor-title",children:s.jsxs("div",{className:`w-full max-w-md mt-8 sm:mt-16 rounded-2xl border shadow-2xl animate-scale-in ${f?"border-slate-700/50 bg-gradient-to-b from-slate-800 to-slate-900":"border-gray-200 bg-white"}`,children:[s.jsxs("div",{className:`px-6 py-4 border-b ${f?"border-slate-700/50":"border-gray-200"}`,children:[s.jsxs("div",{id:"edit-actor-title",className:`text-lg font-semibold ${f?"text-white":"text-gray-900"}`,children:["Edit Agent: ",c]}),s.jsx("div",{className:`text-sm mt-1 ${f?"text-slate-400":"text-gray-500"}`,children:"Change the AI runtime for this agent"})]}),s.jsxs("div",{className:"p-6 space-y-5",children:[s.jsxs("div",{children:[s.jsx("label",{className:`block text-xs font-medium mb-2 ${f?"text-slate-400":"text-gray-500"}`,children:"Runtime"}),s.jsx("select",{className:`w-full rounded-xl border px-4 py-2.5 text-sm min-h-[44px] transition-colors ${f?"bg-slate-900/80 border-slate-600/50 text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"}`,value:d,onChange:H=>{const T=H.target.value;y(T),_("")},children:wo.map(H=>{const T=ts[H],ue=m.find(ie=>ie.name===H),Z=(ue==null?void 0:ue.available)??!1,Q=Z||H==="custom";return s.jsxs("option",{value:H,disabled:!Q,children:[(T==null?void 0:T.label)||H,!Z&&H!=="custom"?" (not installed)":""]},H)})}),(d==="cursor"||d==="kilocode"||d==="opencode"||d==="copilot"||d==="custom")&&s.jsxs("div",{className:`mt-2 rounded-xl border px-3 py-2 text-[11px] ${f?"border-amber-500/30 bg-amber-500/10 text-amber-200":"border-amber-200 bg-amber-50 text-amber-800"}`,children:[s.jsx("div",{className:"font-medium",children:"Manual MCP install required"}),d==="custom"?s.jsx(s.Fragment,{children:s.jsxs("div",{className:"mt-1",children:["Configure your runtime to add an MCP stdio server named"," ",s.jsx("code",{className:`px-1 rounded ${f?"bg-amber-900/30":"bg-amber-100"}`,children:"cccc"})," ","that runs ",s.jsx("code",{className:`px-1 rounded ${f?"bg-amber-900/30":"bg-amber-100"}`,children:"cccc mcp"}),"."]})}):d==="cursor"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mt-1",children:["1) Create/edit"," ",s.jsx("code",{className:`px-1 rounded ${f?"bg-amber-900/30":"bg-amber-100"}`,children:"~/.cursor/mcp.json"})," (or"," ",s.jsx("code",{className:`px-1 rounded ${f?"bg-amber-900/30":"bg-amber-100"}`,children:".cursor/mcp.json"})," in this project)"]}),s.jsx("div",{className:"mt-1",children:"2) Add this MCP server config:"})]}):d==="kilocode"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mt-1",children:["1) Create/edit"," ",s.jsx("code",{className:`px-1 rounded ${f?"bg-amber-900/30":"bg-amber-100"}`,children:".kilocode/mcp.json"})," in this project root"]}),s.jsx("div",{className:"mt-1",children:"2) Add this MCP server config:"})]}):d==="opencode"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mt-1",children:["1) Create/edit"," ",s.jsx("code",{className:`px-1 rounded ${f?"bg-amber-900/30":"bg-amber-100"}`,children:"~/.config/opencode/opencode.json"})]}),s.jsx("div",{className:"mt-1",children:"2) Add this MCP server config:"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mt-1",children:["1) Create/edit"," ",s.jsx("code",{className:`px-1 rounded ${f?"bg-amber-900/30":"bg-amber-100"}`,children:"~/.copilot/mcp-config.json"})]}),s.jsxs("div",{className:"mt-1",children:["2) Add this MCP server config (or pass it via"," ",s.jsx("code",{className:`px-1 rounded ${f?"bg-amber-900/30":"bg-amber-100"}`,children:"--additional-mcp-config"}),"):"]})]}),d!=="custom"?s.jsx("pre",{className:`mt-1.5 p-2 rounded overflow-x-auto whitespace-pre ${f?"bg-amber-900/20 text-amber-100":"bg-amber-50 text-amber-900"}`,children:s.jsx("code",{children:d==="opencode"?Vc:d==="copilot"?Bc:Uc})}):null,s.jsx("div",{className:`mt-1 text-[10px] ${f?"text-amber-200/80":"text-amber-800/80"}`,children:"Restart the runtime after updating this config."})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-xs font-medium mb-2 ${f?"text-slate-400":"text-gray-500"}`,children:"Command"}),s.jsx("input",{className:`w-full rounded-xl border px-4 py-2.5 text-sm font-mono min-h-[44px] transition-colors ${f?"bg-slate-900/80 border-slate-600/50 text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"}`,value:p,onChange:H=>_(H.target.value),placeholder:le||"Enter command..."}),le.trim()?s.jsxs("div",{className:`text-[10px] mt-1.5 ${f?"text-slate-500":"text-gray-500"}`,children:["Default:"," ",s.jsx("code",{className:`px-1 rounded ${f?"bg-slate-800":"bg-gray-100"}`,children:le})]}):null]}),s.jsxs("div",{className:"flex gap-3 pt-2",children:[s.jsx("button",{className:"flex-1 rounded-xl bg-blue-600 hover:bg-blue-500 text-white px-4 py-2.5 text-sm font-semibold shadow-lg disabled:opacity-50 transition-all min-h-[44px]",onClick:E,disabled:a==="actor-update"||ee&&!p.trim(),children:"Save"}),s.jsx("button",{className:`px-4 py-2.5 rounded-xl text-sm font-medium transition-colors min-h-[44px] ${f?"bg-slate-700 hover:bg-slate-600 text-slate-200":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,onClick:k,children:"Cancel"})]})]})]})})}function R0({isOpen:u,isDark:f,busy:a,title:c,topic:m,onChangeTitle:d,onChangeTopic:y,onSave:p,onCancel:_,onDelete:E}){return u?s.jsx("div",{className:`fixed inset-0 backdrop-blur-sm flex items-start justify-center p-4 sm:p-6 z-50 animate-fade-in ${f?"bg-black/50":"bg-black/30"}`,onMouseDown:k=>{k.target===k.currentTarget&&_()},role:"dialog","aria-modal":"true","aria-labelledby":"group-edit-title",children:s.jsxs("div",{className:`w-full max-w-md mt-8 sm:mt-16 rounded-2xl border shadow-2xl animate-scale-in ${f?"border-slate-700/50 bg-gradient-to-b from-slate-800 to-slate-900":"border-gray-200 bg-white"}`,children:[s.jsx("div",{className:`px-6 py-4 border-b ${f?"border-slate-700/50":"border-gray-200"}`,children:s.jsx("div",{id:"group-edit-title",className:`text-lg font-semibold ${f?"text-white":"text-gray-900"}`,children:"Edit Group"})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:`block text-xs font-medium mb-2 ${f?"text-slate-400":"text-gray-500"}`,children:"Name"}),s.jsx("input",{className:`w-full rounded-xl border px-4 py-2.5 text-sm min-h-[44px] transition-colors ${f?"bg-slate-900/80 border-slate-600/50 text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"}`,value:c,onChange:k=>d(k.target.value),placeholder:"Group name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-xs font-medium mb-2 ${f?"text-slate-400":"text-gray-500"}`,children:"Description (optional)"}),s.jsx("input",{className:`w-full rounded-xl border px-4 py-2.5 text-sm min-h-[44px] transition-colors ${f?"bg-slate-900/80 border-slate-600/50 text-white focus:border-blue-500":"bg-white border-gray-300 text-gray-900 focus:border-blue-500"}`,value:m,onChange:k=>y(k.target.value),placeholder:"What is this group working on?"})]}),s.jsxs("div",{className:"flex gap-3 pt-3 flex-wrap",children:[s.jsx("button",{className:"flex-1 rounded-xl bg-blue-600 hover:bg-blue-500 text-white px-4 py-2.5 text-sm font-semibold shadow-lg disabled:opacity-50 transition-all min-h-[44px]",onClick:p,disabled:!c.trim()||a==="group-update",children:"Save"}),s.jsx("button",{className:`px-4 py-2.5 rounded-xl text-sm font-medium transition-colors min-h-[44px] ${f?"bg-slate-700 hover:bg-slate-600 text-slate-200":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,onClick:_,children:"Cancel"}),s.jsx("button",{className:`px-4 py-2.5 rounded-xl border text-sm font-medium disabled:opacity-50 transition-colors min-h-[44px] ${f?"bg-rose-500/20 border-rose-500/30 text-rose-400 hover:bg-rose-500/30":"bg-rose-50 border-rose-200 text-rose-600 hover:bg-rose-100"}`,onClick:()=>{_(),E()},disabled:a==="group-delete",title:"Delete this group permanently",children:"Delete"})]})]})]})}):null}function P0(u){if(u.kind==="chat.message"&&u.data&&typeof u.data=="object")return String(u.data.text||"");if(u.kind==="system.notify"&&u.data&&typeof u.data=="object"){const c=String(u.data.kind||"info"),m=String(u.data.title||""),d=String(u.data.message||""),y=u.data.target_actor_id?`  ${u.data.target_actor_id}`:"";return`[${c}]${y}: ${m}${d?` - ${d}`:""}`}const f=String(u.kind||"event"),a=u.by?` by ${u.by}`:"";return`${f}${a}`}function L0({isOpen:u,isDark:f,actorId:a,messages:c,busy:m,onClose:d,onMarkAllRead:y}){return u?s.jsx("div",{className:`fixed inset-0 backdrop-blur-sm flex items-start justify-center p-4 sm:p-6 z-50 animate-fade-in ${f?"bg-black/50":"bg-black/30"}`,onMouseDown:p=>{p.target===p.currentTarget&&d()},role:"dialog","aria-modal":"true","aria-labelledby":"inbox-title",children:s.jsxs("div",{className:`w-full max-w-2xl mt-8 sm:mt-16 rounded-2xl border shadow-2xl animate-scale-in ${f?"border-slate-700/50 bg-gradient-to-b from-slate-800 to-slate-900":"border-gray-200 bg-white"}`,children:[s.jsxs("div",{className:`px-4 sm:px-6 py-4 border-b flex items-center justify-between gap-3 ${f?"border-slate-700/50":"border-gray-200"}`,children:[s.jsxs("div",{className:"min-w-0",children:[s.jsxs("div",{id:"inbox-title",className:`text-lg font-semibold truncate ${f?"text-white":"text-gray-900"}`,children:["Inbox  ",a]}),s.jsxs("div",{className:`text-sm ${f?"text-slate-400":"text-gray-500"}`,children:[c.length," unread messages"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:`rounded-xl px-4 py-2 text-sm font-medium disabled:opacity-50 transition-colors min-h-[44px] ${f?"bg-slate-700 hover:bg-slate-600 text-slate-200":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,onClick:y,disabled:!c.length||m.startsWith("inbox"),children:"Mark all read"}),s.jsx("button",{className:`rounded-xl px-4 py-2 text-sm font-medium transition-colors min-h-[44px] ${f?"bg-slate-600 hover:bg-slate-500 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-800"}`,onClick:d,children:"Close"})]})]}),s.jsxs("div",{className:"max-h-[60vh] overflow-auto p-4 space-y-2",children:[c.map((p,_)=>s.jsxs("div",{className:`rounded-xl border px-4 py-3 ${f?"border-slate-700/50 bg-slate-800/50":"border-gray-200 bg-gray-50"}`,children:[s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsx("div",{className:`text-xs truncate ${f?"text-slate-400":"text-gray-500"}`,title:Fc(p.ts),children:yo(p.ts)}),s.jsx("div",{className:`text-xs font-medium truncate ${f?"text-slate-300":"text-gray-700"}`,children:p.by||""})]}),s.jsx("div",{className:`mt-2 text-sm whitespace-pre-wrap break-words ${f?"text-slate-200":"text-gray-800"}`,children:P0(p)})]},String(p.id||_))),!c.length&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("div",{className:`text-sm ${f?"text-slate-400":"text-gray-500"}`,children:"No unread messages"})]})]})]})}):null}function O0({isOpen:u,isDark:f,isSmallScreen:a,toLabel:c,entries:m,onClose:d}){return u?s.jsxs("div",{className:$("fixed inset-0 z-50 flex animate-fade-in",a?"items-end justify-center":"items-center justify-center p-4"),role:"dialog","aria-modal":"true","aria-label":"Recipient status",children:[s.jsx("div",{className:$("absolute inset-0",f?"bg-black/60":"bg-black/40"),onClick:d,"aria-hidden":"true"}),s.jsxs("div",{className:$("relative w-full border shadow-2xl",a?"rounded-t-2xl max-h-[80vh] animate-slide-up safe-area-inset-bottom":"max-w-md rounded-2xl animate-scale-in",f?"bg-slate-900 border-slate-700 text-slate-100":"bg-white border-gray-200 text-gray-900"),children:[s.jsxs("div",{className:$("px-5 py-4 border-b flex items-center justify-between gap-3",f?"border-slate-800":"border-gray-200"),children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:$("text-sm font-semibold truncate",f?"text-slate-100":"text-gray-900"),children:"Recipients"}),s.jsxs("div",{className:$("text-[11px] truncate",f?"text-slate-500":"text-gray-500"),title:`to ${c}`,children:["to ",c]})]}),s.jsx("button",{type:"button",className:$("touch-target-sm min-w-[36px] min-h-[36px] flex items-center justify-center rounded-lg",f?"text-slate-400 hover:text-slate-200 hover:bg-slate-800":"text-gray-400 hover:text-gray-700 hover:bg-gray-100"),onClick:d,"aria-label":"Close",children:""})]}),s.jsxs("div",{className:"p-4 sm:p-5 overflow-auto max-h-[70vh]",children:[m.length>0?s.jsx("div",{className:$("rounded-xl border divide-y",f?"border-slate-800 divide-slate-800 bg-slate-950/40":"border-gray-200 divide-gray-200 bg-gray-50"),children:m.map(([y,p])=>s.jsxs("div",{className:"flex items-center justify-between gap-3 px-4 py-3",children:[s.jsx("div",{className:$("text-sm font-medium truncate",f?"text-slate-200":"text-gray-800"),children:y}),s.jsx("div",{className:$("text-sm font-semibold tracking-tight",p?f?"text-emerald-400":"text-emerald-600":f?"text-slate-500":"text-gray-500"),"aria-label":p?"read":"pending",children:p?"":""})]},y))}):s.jsx("div",{className:$("text-sm py-6 text-center",f?"text-slate-400":"text-gray-500"),children:"No recipient tracking for this message."}),s.jsx("div",{className:$("text-[11px] mt-3",f?"text-slate-500":"text-gray-500"),children:"Legend:  pending   read"})]})]})]}):null}const Wc="cccc-theme";function xo(){return typeof window>"u"||window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function ri(){if(typeof window>"u")return"system";const u=localStorage.getItem(Wc);return u==="light"||u==="dark"||u==="system"?u:"system"}function _c(u){const f=document.documentElement,a=u==="system"?xo():u;f.classList.remove("light","dark"),f.classList.add(a);const c=document.querySelector('meta[name="theme-color"]');c&&c.setAttribute("content",a==="dark"?"#0f172a":"#ffffff")}function M0(){const[u,f]=j.useState(ri),[a,c]=j.useState(()=>ri()==="system"?xo():ri());j.useEffect(()=>{_c(u),c(u==="system"?xo():u),localStorage.setItem(Wc,u)},[u]),j.useEffect(()=>{const y=window.matchMedia("(prefers-color-scheme: dark)"),p=()=>{u==="system"&&(_c("system"),c(xo()))};return y.addEventListener("change",p),()=>y.removeEventListener("change",p)},[u]);const m=j.useCallback(y=>{f(y)},[]),d=j.useCallback(()=>{f(y=>y==="light"?"dark":y==="dark"?"system":"light")},[]);return{theme:u,resolvedTheme:a,setTheme:m,toggleTheme:d,isDark:a==="dark"}}function uf(u){return{background:u?"#0f172a":"#fafafa",foreground:u?"#e2e8f0":"#1e293b",cursor:u?"#e2e8f0":"#1e293b",cursorAccent:u?"#0f172a":"#fafafa",selectionBackground:u?"#334155":"#bfdbfe",black:u?"#1e293b":"#64748b",red:u?"#f87171":"#dc2626",green:u?"#4ade80":"#16a34a",yellow:u?"#facc15":"#ca8a04",blue:u?"#60a5fa":"#2563eb",magenta:u?"#c084fc":"#9333ea",cyan:u?"#22d3ee":"#0891b2",white:"#f1f5f9",brightBlack:u?"#475569":"#94a3b8",brightRed:u?"#fca5a5":"#ef4444",brightGreen:u?"#86efac":"#22c55e",brightYellow:u?"#fde047":"#eab308",brightBlue:u?"#93c5fd":"#3b82f6",brightMagenta:u?"#d8b4fe":"#a855f7",brightCyan:u?"#67e8f9":"#06b6d4",brightWhite:"#f8fafc"}}const z0="modulepreload",I0=function(u){return"/ui/"+u},$c={},A0=function(f,a,c){let m=Promise.resolve();if(a&&a.length>0){let y=function(E){return Promise.all(E.map(k=>Promise.resolve(k).then(R=>({status:"fulfilled",value:R}),R=>({status:"rejected",reason:R}))))};document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),_=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));m=y(a.map(E=>{if(E=I0(E),E in $c)return;$c[E]=!0;const k=E.endsWith(".css"),R=k?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${E}"]${R}`))return;const O=document.createElement("link");if(O.rel=k?"stylesheet":z0,k||(O.as="script"),O.crossOrigin="",O.href=E,_&&O.setAttribute("nonce",_),document.head.appendChild(O),k)return new Promise((le,ee)=>{O.addEventListener("load",le),O.addEventListener("error",()=>ee(new Error(`Unable to preload CSS for ${E}`)))})}))}function d(y){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=y,window.dispatchEvent(p),!p.defaultPrevented)throw y}return m.then(y=>{for(const p of y||[])p.status==="rejected"&&d(p.reason);return f().catch(d)})},F0=j.lazy(()=>A0(()=>import("./chunk-AgentTab.js"),[]).then(u=>({default:u.AgentTab})));function U0({actor:u,groupId:f,termEpoch:a,busy:c,isDark:m,onToggleEnabled:d,onRelaunch:y,onEdit:p,onRemove:_,onInbox:E}){return u?s.jsx(j.Suspense,{fallback:s.jsx("div",{className:`flex-1 flex items-center justify-center ${m?"text-slate-400":"text-gray-500"}`,children:"Loading agent"}),children:s.jsx(F0,{actor:u,groupId:f,isVisible:!0,onQuit:d,onLaunch:d,onRelaunch:y,onEdit:p,onRemove:_,onInbox:E,busy:c,isDark:m},`${f}:${u.id}:${a}`)}):s.jsx("div",{className:"flex-1 flex items-center justify-center text-slate-500",children:"Agent not found"})}var B0=Ac();function il(u,f,a){let c=a.initialDeps??[],m,d=!0;function y(){var p,_,E;let k;a.key&&((p=a.debug)!=null&&p.call(a))&&(k=Date.now());const R=u();if(!(R.length!==c.length||R.some((ee,H)=>c[H]!==ee)))return m;c=R;let le;if(a.key&&((_=a.debug)!=null&&_.call(a))&&(le=Date.now()),m=f(...R),a.key&&((E=a.debug)!=null&&E.call(a))){const ee=Math.round((Date.now()-k)*100)/100,H=Math.round((Date.now()-le)*100)/100,T=H/16,ue=(Z,Q)=>{for(Z=String(Z);Z.length<Q;)Z=" "+Z;return Z};console.info(`%c ${ue(H,5)} /${ue(ee,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*T,120))}deg 100% 31%);`,a==null?void 0:a.key)}return a!=null&&a.onChange&&!(d&&a.skipInitialOnChange)&&a.onChange(m),d=!1,m}return y.updateDeps=p=>{c=p},y}function Tc(u,f){if(u===void 0)throw new Error("Unexpected undefined");return u}const V0=(u,f)=>Math.abs(u-f)<1.01,W0=(u,f,a)=>{let c;return function(...m){u.clearTimeout(c),c=u.setTimeout(()=>f.apply(this,m),a)}},Rc=u=>{const{offsetWidth:f,offsetHeight:a}=u;return{width:f,height:a}},H0=u=>u,Q0=u=>{const f=Math.max(u.startIndex-u.overscan,0),a=Math.min(u.endIndex+u.overscan,u.count-1),c=[];for(let m=f;m<=a;m++)c.push(m);return c},K0=(u,f)=>{const a=u.scrollElement;if(!a)return;const c=u.targetWindow;if(!c)return;const m=y=>{const{width:p,height:_}=y;f({width:Math.round(p),height:Math.round(_)})};if(m(Rc(a)),!c.ResizeObserver)return()=>{};const d=new c.ResizeObserver(y=>{const p=()=>{const _=y[0];if(_!=null&&_.borderBoxSize){const E=_.borderBoxSize[0];if(E){m({width:E.inlineSize,height:E.blockSize});return}}m(Rc(a))};u.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(p):p()});return d.observe(a,{box:"border-box"}),()=>{d.unobserve(a)}},Pc={passive:!0},Lc=typeof window>"u"?!0:"onscrollend"in window,Y0=(u,f)=>{const a=u.scrollElement;if(!a)return;const c=u.targetWindow;if(!c)return;let m=0;const d=u.options.useScrollendEvent&&Lc?()=>{}:W0(c,()=>{f(m,!1)},u.options.isScrollingResetDelay),y=k=>()=>{const{horizontal:R,isRtl:O}=u.options;m=R?a.scrollLeft*(O&&-1||1):a.scrollTop,d(),f(m,k)},p=y(!0),_=y(!1);_(),a.addEventListener("scroll",p,Pc);const E=u.options.useScrollendEvent&&Lc;return E&&a.addEventListener("scrollend",_,Pc),()=>{a.removeEventListener("scroll",p),E&&a.removeEventListener("scrollend",_)}},J0=(u,f,a)=>{if(f!=null&&f.borderBoxSize){const c=f.borderBoxSize[0];if(c)return Math.round(c[a.options.horizontal?"inlineSize":"blockSize"])}return u[a.options.horizontal?"offsetWidth":"offsetHeight"]},G0=(u,{adjustments:f=0,behavior:a},c)=>{var m,d;const y=u+f;(d=(m=c.scrollElement)==null?void 0:m.scrollTo)==null||d.call(m,{[c.options.horizontal?"left":"top"]:y,behavior:a})};class X0{constructor(f){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let a=null;const c=()=>a||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:a=new this.targetWindow.ResizeObserver(m=>{m.forEach(d=>{const y=()=>{this._measureElement(d.target,d)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(y):y()})}));return{disconnect:()=>{var m;(m=c())==null||m.disconnect(),a=null},observe:m=>{var d;return(d=c())==null?void 0:d.observe(m,{box:"border-box"})},unobserve:m=>{var d;return(d=c())==null?void 0:d.unobserve(m)}}})(),this.range=null,this.setOptions=a=>{Object.entries(a).forEach(([c,m])=>{typeof m>"u"&&delete a[c]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:H0,rangeExtractor:Q0,onChange:()=>{},measureElement:J0,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...a}},this.notify=a=>{var c,m;(m=(c=this.options).onChange)==null||m.call(c,this,a)},this.maybeNotify=il(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),a=>{this.notify(a)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(a=>a()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var a;const c=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==c){if(this.cleanup(),!c){this.maybeNotify();return}this.scrollElement=c,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((a=this.scrollElement)==null?void 0:a.window)??null,this.elementsCache.forEach(m=>{this.observer.observe(m)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,m=>{this.scrollRect=m,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(m,d)=>{this.scrollAdjustments=0,this.scrollDirection=d?this.getScrollOffset()<m?"forward":"backward":null,this.scrollOffset=m,this.isScrolling=d,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(a,c)=>{const m=new Map,d=new Map;for(let y=c-1;y>=0;y--){const p=a[y];if(m.has(p.lane))continue;const _=d.get(p.lane);if(_==null||p.end>_.end?d.set(p.lane,p):p.end<_.end&&m.set(p.lane,!0),m.size===this.options.lanes)break}return d.size===this.options.lanes?Array.from(d.values()).sort((y,p)=>y.end===p.end?y.index-p.index:y.end-p.end)[0]:void 0},this.getMeasurementOptions=il(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(a,c,m,d,y,p)=>(this.prevLanes!==void 0&&this.prevLanes!==p&&(this.lanesChangedFlag=!0),this.prevLanes=p,this.pendingMeasuredCacheIndexes=[],{count:a,paddingStart:c,scrollMargin:m,getItemKey:d,enabled:y,lanes:p}),{key:!1,skipInitialOnChange:!0,onChange:()=>{this.notify(this.isScrolling)}}),this.getMeasurements=il(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:a,paddingStart:c,scrollMargin:m,getItemKey:d,enabled:y,lanes:p},_)=>{if(!y)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>a)for(const O of this.laneAssignments.keys())O>=a&&this.laneAssignments.delete(O);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&!this.lanesSettling&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(O=>{this.itemSizeCache.set(O.key,O.size)}));const E=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===a&&(this.lanesSettling=!1);const k=this.measurementsCache.slice(0,E),R=new Array(p).fill(void 0);for(let O=0;O<E;O++){const le=k[O];le&&(R[le.lane]=O)}for(let O=E;O<a;O++){const le=d(O),ee=this.laneAssignments.get(O);let H,T;if(ee!==void 0&&this.options.lanes>1){H=ee;const ie=R[H],se=ie!==void 0?k[ie]:void 0;T=se?se.end+this.options.gap:c+m}else{const ie=this.options.lanes===1?k[O-1]:this.getFurthestMeasurement(k,O);T=ie?ie.end+this.options.gap:c+m,H=ie?ie.lane:O%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(O,H)}const ue=_.get(le),Z=typeof ue=="number"?ue:this.options.estimateSize(O),Q=T+Z;k[O]={index:O,start:T,size:Z,end:Q,key:le,lane:H},R[H]=O}return this.measurementsCache=k,k},{key:!1,debug:()=>this.options.debug}),this.calculateRange=il(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(a,c,m,d)=>this.range=a.length>0&&c>0?q0({measurements:a,outerSize:c,scrollOffset:m,lanes:d}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=il(()=>{let a=null,c=null;const m=this.calculateRange();return m&&(a=m.startIndex,c=m.endIndex),this.maybeNotify.updateDeps([this.isScrolling,a,c]),[this.options.rangeExtractor,this.options.overscan,this.options.count,a,c]},(a,c,m,d,y)=>d===null||y===null?[]:a({startIndex:d,endIndex:y,overscan:c,count:m}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=a=>{const c=this.options.indexAttribute,m=a.getAttribute(c);return m?parseInt(m,10):(console.warn(`Missing attribute name '${c}={index}' on measured element.`),-1)},this._measureElement=(a,c)=>{const m=this.indexFromElement(a),d=this.measurementsCache[m];if(!d)return;const y=d.key,p=this.elementsCache.get(y);p!==a&&(p&&this.observer.unobserve(p),this.observer.observe(a),this.elementsCache.set(y,a)),a.isConnected&&this.resizeItem(m,this.options.measureElement(a,c,this))},this.resizeItem=(a,c)=>{const m=this.measurementsCache[a];if(!m)return;const d=this.itemSizeCache.get(m.key)??m.size,y=c-d;y!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(m,y,this):m.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=y,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(m.index),this.itemSizeCache=new Map(this.itemSizeCache.set(m.key,c)),this.notify(!1))},this.measureElement=a=>{if(!a){this.elementsCache.forEach((c,m)=>{c.isConnected||(this.observer.unobserve(c),this.elementsCache.delete(m))});return}this._measureElement(a,void 0)},this.getVirtualItems=il(()=>[this.getVirtualIndexes(),this.getMeasurements()],(a,c)=>{const m=[];for(let d=0,y=a.length;d<y;d++){const p=a[d],_=c[p];m.push(_)}return m},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=a=>{const c=this.getMeasurements();if(c.length!==0)return Tc(c[Hc(0,c.length-1,m=>Tc(c[m]).start,a)])},this.getOffsetForAlignment=(a,c,m=0)=>{const d=this.getSize(),y=this.getScrollOffset();c==="auto"&&(c=a>=y+d?"end":"start"),c==="center"?a+=(m-d)/2:c==="end"&&(a-=d);const p=this.getTotalSize()+this.options.scrollMargin-d;return Math.max(Math.min(p,a),0)},this.getOffsetForIndex=(a,c="auto")=>{a=Math.max(0,Math.min(a,this.options.count-1));const m=this.measurementsCache[a];if(!m)return;const d=this.getSize(),y=this.getScrollOffset();if(c==="auto")if(m.end>=y+d-this.options.scrollPaddingEnd)c="end";else if(m.start<=y+this.options.scrollPaddingStart)c="start";else return[y,c];const p=c==="end"?m.end+this.options.scrollPaddingEnd:m.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(p,c,m.size),c]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(a,{align:c="start",behavior:m}={})=>{m==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(a,c),{adjustments:void 0,behavior:m})},this.scrollToIndex=(a,{align:c="auto",behavior:m}={})=>{m==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),a=Math.max(0,Math.min(a,this.options.count-1));let d=0;const y=10,p=E=>{if(!this.targetWindow)return;const k=this.getOffsetForIndex(a,E);if(!k){console.warn("Failed to get offset for index:",a);return}const[R,O]=k;this._scrollToOffset(R,{adjustments:void 0,behavior:m}),this.targetWindow.requestAnimationFrame(()=>{const le=this.getScrollOffset(),ee=this.getOffsetForIndex(a,O);if(!ee){console.warn("Failed to get offset for index:",a);return}V0(ee[0],le)||_(O)})},_=E=>{this.targetWindow&&(d++,d<y?this.targetWindow.requestAnimationFrame(()=>p(E)):console.warn(`Failed to scroll to index ${a} after ${y} attempts.`))};p(c)},this.scrollBy=(a,{behavior:c}={})=>{c==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+a,{adjustments:void 0,behavior:c})},this.getTotalSize=()=>{var a;const c=this.getMeasurements();let m;if(c.length===0)m=this.options.paddingStart;else if(this.options.lanes===1)m=((a=c[c.length-1])==null?void 0:a.end)??0;else{const d=Array(this.options.lanes).fill(null);let y=c.length-1;for(;y>=0&&d.some(p=>p===null);){const p=c[y];d[p.lane]===null&&(d[p.lane]=p.end),y--}m=Math.max(...d.filter(p=>p!==null))}return Math.max(m-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(a,{adjustments:c,behavior:m})=>{this.options.scrollToFn(a,{behavior:m,adjustments:c},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(f)}}const Hc=(u,f,a,c)=>{for(;u<=f;){const m=(u+f)/2|0,d=a(m);if(d<c)u=m+1;else if(d>c)f=m-1;else return m}return u>0?u-1:0};function q0({measurements:u,outerSize:f,scrollOffset:a,lanes:c}){const m=u.length-1,d=_=>u[_].start;if(u.length<=c)return{startIndex:0,endIndex:m};let y=Hc(0,m,d,a),p=y;if(c===1)for(;p<m&&u[p].end<a+f;)p++;else if(c>1){const _=Array(c).fill(0);for(;p<m&&_.some(k=>k<a+f);){const k=u[p];_[k.lane]=k.end,p++}const E=Array(c).fill(a+f);for(;y>=0&&E.some(k=>k>=a);){const k=u[y];E[k.lane]=k.start,y--}y=Math.max(0,y-y%c),p=Math.min(m,p+(c-1-p%c))}return{startIndex:y,endIndex:p}}const Oc=typeof document<"u"?j.useLayoutEffect:j.useEffect;function Z0(u){const f=j.useReducer(()=>({}),{})[1],a={...u,onChange:(m,d)=>{var y;d?B0.flushSync(f):f(),(y=u.onChange)==null||y.call(u,m,d)}},[c]=j.useState(()=>new X0(a));return c.setOptions(a),Oc(()=>c._didMount(),[]),Oc(()=>c._willUpdate()),c}function D0(u){return Z0({observeElementRect:K0,observeElementOffset:Y0,scrollToFn:G0,...u})}function ef(u){return u.kind==="chat.message"&&u.data&&typeof u.data=="object"?String(u.data.text||""):""}function tf({event:u,actors:f,isDark:a,groupId:c,onReply:m,onShowRecipients:d}){var T,ue,Z;const y=u.by==="user",p=(T=u.data)==null?void 0:T.quote_text,E=(Array.isArray((ue=u.data)==null?void 0:ue.attachments)?u.data.attachments:[]).filter(Q=>Q&&typeof Q=="object").map(Q=>({kind:String(Q.kind||"file"),path:String(Q.path||""),title:String(Q.title||""),bytes:Number(Q.bytes||0),mime_type:String(Q.mime_type||"")})).filter(Q=>Q.path.startsWith("state/blobs/")),k=u._read_status,R=(Z=u.data)==null?void 0:Z.to,O=k?f.map(Q=>String(Q.id||"")).filter(Q=>Q&&Object.prototype.hasOwnProperty.call(k,Q)).map(Q=>[Q,!!k[Q]]):[],le=R&&R.length>0?R.join(", "):"@all",ee=O.slice(0,3),H=Math.max(0,O.length-ee.length);return f.find(Q=>Q.id===u.by),s.jsxs("div",{className:$("flex gap-2 sm:gap-3 group",y?"flex-col items-end sm:items-start sm:flex-row-reverse":"flex-col items-start sm:flex-row"),children:[s.jsx("div",{className:$("hidden sm:flex flex-shrink-0 w-8 h-8 rounded-full items-center justify-center text-xs font-bold shadow-sm mt-1",y?"bg-gradient-to-br from-blue-500 to-blue-600 text-white":a?"bg-slate-700 text-slate-200":"bg-white border border-gray-200 text-gray-700"),children:y?"U":(u.by||"?")[0].toUpperCase()}),s.jsxs("div",{className:$("flex flex-col w-full sm:w-auto sm:max-w-[75%]",y?"items-end":"items-start"),children:[s.jsxs("div",{className:$("flex items-center gap-2 mb-1 sm:hidden",y?"flex-row-reverse":"flex-row"),children:[s.jsx("div",{className:$("flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold shadow-sm",y?"bg-gradient-to-br from-blue-500 to-blue-600 text-white":a?"bg-slate-700 text-slate-200":"bg-white border border-gray-200 text-gray-700"),children:y?"U":(u.by||"?")[0].toUpperCase()}),s.jsx("span",{className:`text-xs font-medium ${a?"text-slate-300":"text-gray-700"}`,children:u.by}),s.jsx("span",{className:`text-[10px] ${a?"text-slate-500":"text-gray-400"}`,children:yo(u.ts)})]}),s.jsxs("div",{className:"hidden sm:flex items-center gap-2 mb-1 px-1",children:[s.jsx("span",{className:`text-[11px] font-medium ${a?"text-slate-400":"text-gray-500"}`,children:u.by}),s.jsx("span",{className:`text-[10px] ${a?"text-slate-600":"text-gray-400"}`,children:yo(u.ts)})]}),s.jsxs("div",{className:$("relative px-4 py-2.5 shadow-sm text-sm leading-relaxed",y?"bg-blue-600 text-white rounded-2xl rounded-tr-none":a?"bg-slate-800 text-slate-200 border border-slate-700 rounded-2xl rounded-tl-none":"bg-white text-gray-800 border border-gray-200 rounded-2xl rounded-tl-none"),children:[p&&s.jsxs("div",{className:`mb-2 text-xs border-l-2 pl-2 italic truncate opacity-80 ${y?"border-blue-400":a?"border-slate-600":"border-gray-300"}`,children:['"',p,'"']}),s.jsx("div",{className:"whitespace-pre-wrap break-words",children:ef(u)}),E.length>0&&c&&s.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:E.map((Q,ie)=>{const se=Q.path.split("/"),Y=se[se.length-1]||"",ye=`/api/v1/groups/${encodeURIComponent(c)}/blobs/${encodeURIComponent(Y)}`,W=Q.title||Y||"file";return s.jsxs("a",{href:ye,className:$("inline-flex items-center gap-2 rounded px-2 py-1.5 text-xs transition-colors max-w-full",y?"bg-blue-700/50 hover:bg-blue-700 text-white border border-blue-500":a?"bg-slate-900/50 hover:bg-slate-900 text-slate-300 border border-slate-700":"bg-gray-50 hover:bg-gray-100 text-gray-700 border border-gray-200"),title:`Download ${W}`,download:!0,children:[s.jsx("span",{className:"opacity-70",children:""}),s.jsx("span",{className:"truncate",children:W})]},`${Y}:${ie}`)})})]}),s.jsxs("div",{className:$("flex items-center justify-between gap-3 mt-1 px-1 text-[10px] transition-opacity","opacity-70 group-hover:opacity-100",a?"text-slate-500":"text-gray-500"),children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsx("button",{type:"button",className:$("touch-target-sm px-1 rounded hover:underline transition-colors",a?"text-slate-400 hover:text-slate-200":"text-gray-500 hover:text-gray-700"),onClick:m,children:"Reply"}),s.jsxs("span",{className:"min-w-0 truncate",title:`to ${le}`,children:["to ",le]})]}),O.length>0&&s.jsx("button",{type:"button",className:$("touch-target-sm flex items-center gap-2 min-w-0 rounded-lg px-2 py-1",a?"hover:bg-slate-800/60":"hover:bg-gray-100"),onClick:d,"aria-label":"Show recipient status",children:s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ee.map(([Q,ie])=>s.jsxs("span",{className:"inline-flex items-center gap-1 min-w-0",children:[s.jsx("span",{className:"truncate max-w-[10ch]",children:Q}),s.jsx("span",{className:$("text-[10px] font-semibold tracking-tight",ie?a?"text-emerald-400":"text-emerald-600":a?"text-slate-500":"text-gray-500"),"aria-label":ie?"read":"pending",children:ie?"":""})]},Q)),H>0&&s.jsxs("span",{className:$("text-[10px]",a?"text-slate-500":"text-gray-500"),children:["+",H]})]})})]})]})]})}function nf({messages:u,actors:f,isDark:a,groupId:c,scrollRef:m,onReply:d,onShowRecipients:y,showScrollButton:p,onScrollButtonClick:_,chatUnreadCount:E,onScrollChange:k}){const R=j.useRef(null),O=j.useRef(u.length),le=j.useRef(!0),ee=D0({count:u.length,getScrollElement:()=>R.current,estimateSize:()=>120,overscan:5}),H=j.useCallback(()=>{const Z=R.current;return Z?Z.scrollHeight-Z.scrollTop-Z.clientHeight<100:!0},[]),T=j.useCallback(()=>{u.length>0&&ee.scrollToIndex(u.length-1,{align:"end"})},[u.length,ee]),ue=j.useCallback(()=>{const Z=H();le.current=Z,k==null||k(Z)},[H,k]);return j.useEffect(()=>{const Z=O.current,Q=u.length;O.current=Q,Q>Z&&le.current&&requestAnimationFrame(()=>{T()})},[u.length,T]),j.useEffect(()=>{u.length>0&&T()},[]),j.useEffect(()=>{O.current=u.length,le.current=!0,u.length>0&&requestAnimationFrame(()=>{ee.scrollToIndex(u.length-1,{align:"end"})})},[c,ee]),s.jsx("div",{ref:Z=>{R.current=Z,m&&(m.current=Z)},className:"flex-1 min-h-0 overflow-auto px-4 py-4 relative",onScroll:u.length>0?ue:void 0,role:"log","aria-label":"Chat messages",children:u.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center pb-20 opacity-50",children:[s.jsx("div",{className:"text-4xl mb-4 grayscale",children:""}),s.jsx("p",{className:`text-sm font-medium ${a?"text-slate-400":"text-gray-500"}`,children:"No messages yet"}),s.jsx("p",{className:`text-xs mt-1 ${a?"text-slate-600":"text-gray-400"}`,children:"Start the conversation with your AI team."})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{height:`${ee.getTotalSize()}px`,width:"100%",position:"relative"},children:ee.getVirtualItems().map(Z=>{const Q=u[Z.index];return s.jsx("div",{"data-index":Z.index,ref:ee.measureElement,style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${Z.start}px)`},className:"pb-6",children:s.jsx(tf,{event:Q,actors:f,isDark:a,groupId:c,onReply:()=>d(Q),onShowRecipients:()=>{Q.id&&y(String(Q.id))}})},Q.id||Z.index)})}),p&&s.jsxs("button",{className:`fixed bottom-24 right-6 p-3 rounded-full shadow-xl transition-all z-10 ${a?"bg-slate-800 text-white hover:bg-slate-700 border border-slate-700":"bg-white text-gray-600 hover:bg-gray-50 border border-gray-100"}`,onClick:_,"aria-label":"Scroll to bottom",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),E>0&&s.jsxs("span",{className:"absolute -top-1 -right-1 flex h-4 w-4",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-rose-400 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-4 w-4 bg-rose-500 text-[9px] text-white items-center justify-center font-bold",children:E>9?"!":E})]})]})]})})}function rf({isDark:u,isSmallScreen:f,selectedGroupId:a,actors:c,busy:m,showSetupCard:d,needsScope:y,needsActors:p,needsStart:_,hasForeman:E,onAddAgent:k,onStartGroup:R,chatMessages:O,scrollRef:le,showScrollButton:ee,chatUnreadCount:H,onScrollButtonClick:T,onScrollChange:ue,onReply:Z,onShowRecipients:Q,replyTarget:ie,onCancelReply:se,toTokens:Y,onToggleRecipient:ye,onClearRecipients:W,composerFiles:je,onRemoveComposerFile:fe,appendComposerFiles:ve,fileInputRef:$e,composerRef:ke,composerText:be,setComposerText:Re,onSendMessage:Pe,showMentionMenu:Ne,setShowMentionMenu:U,mentionSuggestions:te,mentionSelectedIndex:K,setMentionSelectedIndex:b,setMentionFilter:L,onAppendRecipientToken:me}){return s.jsxs(s.Fragment,{children:[d&&O.length>0&&s.jsx("div",{className:"flex-shrink-0 px-4 pt-4",children:s.jsxs("div",{className:$("rounded-2xl border p-4 sm:p-5",u?"border-slate-700/50 bg-slate-900/40":"border-gray-200 bg-white/70"),role:"region","aria-label":"Setup checklist",children:[s.jsx("div",{className:$("text-sm font-semibold",u?"text-slate-200":"text-gray-800"),children:"Next steps"}),s.jsxs("div",{className:"mt-3 space-y-2",children:[y&&s.jsxs("div",{className:$("rounded-xl border px-3 py-2",u?"border-slate-700 bg-slate-900/60":"border-gray-200 bg-white"),children:[s.jsx("div",{className:$("text-xs font-medium",u?"text-slate-200":"text-gray-800"),children:"Attach a project folder"}),s.jsxs("div",{className:$("mt-1 flex items-center justify-between gap-2 text-[11px]",u?"text-slate-500":"text-gray-500"),children:[s.jsxs("code",{className:$("truncate",u?"text-slate-300":"text-gray-700"),children:["cccc attach . --group ",a]}),s.jsx("button",{type:"button",className:$("flex-shrink-0 rounded-lg px-2 py-1 text-[11px] font-medium border",u?"border-slate-700 text-slate-300 hover:bg-slate-800":"border-gray-200 text-gray-700 hover:bg-gray-50"),onClick:async()=>{const B=`cccc attach . --group ${a}`;try{await navigator.clipboard.writeText(B)}catch{window.prompt("Copy command:",B)}},children:"Copy"})]})]}),p&&s.jsxs("div",{className:$("flex items-center justify-between gap-3 rounded-xl border px-3 py-2",u?"border-slate-700 bg-slate-900/60":"border-gray-200 bg-white"),children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:$("text-xs font-medium",u?"text-slate-200":"text-gray-800"),children:"Add an agent"}),s.jsx("div",{className:$("text-[11px] truncate",u?"text-slate-500":"text-gray-500"),children:"Add a foreman first, then peers."})]}),s.jsx("button",{type:"button",className:$("flex-shrink-0 rounded-xl px-3 py-1.5 text-[11px] font-semibold","bg-blue-600 hover:bg-blue-500 text-white"),onClick:k,children:"Add Agent"})]}),_&&s.jsxs("div",{className:$("flex items-center justify-between gap-3 rounded-xl border px-3 py-2",u?"border-slate-700 bg-slate-900/60":"border-gray-200 bg-white"),children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:$("text-xs font-medium",u?"text-slate-200":"text-gray-800"),children:"Start the group"}),s.jsx("div",{className:$("text-[11px] truncate",u?"text-slate-500":"text-gray-500"),children:"Launch your agents and begin chatting."})]}),s.jsx("button",{type:"button",className:$("flex-shrink-0 rounded-xl px-3 py-1.5 text-[11px] font-semibold","bg-emerald-600 hover:bg-emerald-500 text-white",m==="group-start"?"opacity-60":""),onClick:R,disabled:m==="group-start",children:m==="group-start"?"Starting":"Start"})]})]})]})}),O.length===0&&d?s.jsx("div",{ref:le,className:"flex-1 min-h-0 overflow-auto px-4 py-4 relative",role:"log","aria-label":"Chat messages",children:s.jsx("div",{className:"flex flex-col items-center justify-center h-full text-center pb-20",children:s.jsxs("div",{className:$("w-full max-w-md",u?"text-slate-200":"text-gray-800"),children:[s.jsx("div",{className:$("text-4xl mb-4",""),children:""}),s.jsx("div",{className:$("text-sm font-semibold",u?"text-slate-200":"text-gray-800"),children:"Next steps"}),s.jsxs("div",{className:$("mt-4 space-y-2",""),children:[y&&s.jsxs("div",{className:$("rounded-2xl border p-4 text-left",u?"border-slate-700/50 bg-slate-900/40":"border-gray-200 bg-white/70"),children:[s.jsx("div",{className:"text-xs font-semibold",children:"Attach a project folder"}),s.jsxs("div",{className:$("mt-2 flex items-center justify-between gap-2 text-[11px]",u?"text-slate-500":"text-gray-500"),children:[s.jsxs("code",{className:$("truncate",u?"text-slate-300":"text-gray-700"),children:["cccc attach . --group ",a]}),s.jsx("button",{type:"button",className:$("flex-shrink-0 rounded-lg px-2 py-1 text-[11px] font-medium border",u?"border-slate-700 text-slate-300 hover:bg-slate-800":"border-gray-200 text-gray-700 hover:bg-gray-50"),onClick:async()=>{const B=`cccc attach . --group ${a}`;try{await navigator.clipboard.writeText(B)}catch{window.prompt("Copy command:",B)}},children:"Copy"})]})]}),p&&s.jsxs("div",{className:$("rounded-2xl border p-4 text-left",u?"border-slate-700/50 bg-slate-900/40":"border-gray-200 bg-white/70"),children:[s.jsx("div",{className:"text-xs font-semibold",children:"Add an agent"}),s.jsx("div",{className:$("mt-1 text-[11px]",u?"text-slate-500":"text-gray-500"),children:"Add a foreman first, then peers."}),s.jsx("button",{type:"button",className:"mt-3 w-full rounded-xl px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-500 text-white",onClick:k,children:"Add Agent"})]}),_&&s.jsxs("div",{className:$("rounded-2xl border p-4 text-left",u?"border-slate-700/50 bg-slate-900/40":"border-gray-200 bg-white/70"),children:[s.jsx("div",{className:"text-xs font-semibold",children:"Start the group"}),s.jsx("div",{className:$("mt-1 text-[11px]",u?"text-slate-500":"text-gray-500"),children:"Launch your agents and begin chatting."}),s.jsx("button",{type:"button",className:$("mt-3 w-full rounded-xl px-4 py-2 text-sm font-semibold","bg-emerald-600 hover:bg-emerald-500 text-white",m==="group-start"?"opacity-60":""),onClick:R,disabled:m==="group-start",children:m==="group-start"?"Starting":"Start Group"})]}),!y&&!p&&!_&&s.jsx("div",{className:$("text-xs mt-4",u?"text-slate-400":"text-gray-500"),children:"Team is ready. Say hi to your agents."})]})]})})}):s.jsx(nf,{messages:O,actors:c,isDark:u,groupId:a||"",scrollRef:le,onReply:Z,onShowRecipients:Q,showScrollButton:ee,onScrollButtonClick:T,chatUnreadCount:H,onScrollChange:ue}),s.jsxs("footer",{className:`flex-shrink-0 border-t px-4 py-3 safe-area-inset-bottom ${u?"border-slate-800 bg-slate-950/80 backdrop-blur":"border-gray-200 bg-white/80 backdrop-blur"}`,children:[ie&&s.jsxs("div",{className:`mb-2 flex items-center gap-2 text-xs rounded-xl px-3 py-2 ${u?"text-slate-400 bg-slate-900/50":"text-gray-500 bg-gray-100"}`,children:[s.jsx("span",{className:u?"text-slate-500":"text-gray-400",children:"Replying to"}),s.jsx("span",{className:`font-medium ${u?"text-slate-300":"text-gray-700"}`,children:ie.by}),s.jsxs("span",{className:`truncate flex-1 ${u?"text-slate-500":"text-gray-400"}`,children:['"',ie.text,'"']}),s.jsx("button",{className:`p-1 rounded-full ${u?"hover:bg-slate-800 text-slate-400 hover:text-slate-200":"hover:bg-gray-200 text-gray-400 hover:text-gray-600"}`,onClick:se,title:"Cancel reply","aria-label":"Cancel reply",children:""})]}),s.jsxs("div",{className:"mb-3 flex items-center gap-2",children:[s.jsx("div",{className:`text-xs font-medium flex-shrink-0 ${u?"text-slate-500":"text-gray-400"}`,children:"To"}),s.jsx("div",{className:"flex-1 min-w-0 overflow-x-auto scrollbar-hide sm:overflow-visible",children:s.jsx("div",{className:"flex items-center gap-1.5 flex-nowrap sm:flex-wrap",children:["@all","@foreman","@peers",...c.map(B=>String(B.id||""))].map(B=>{const A=B.trim();if(!A)return null;const X=Y.includes(A);return s.jsx("button",{className:$("flex-shrink-0 whitespace-nowrap text-[11px] px-2.5 py-1 rounded-full border transition-all",X?"bg-emerald-600 text-white border-emerald-500 shadow-sm":u?"bg-slate-900 text-slate-400 border-slate-800 hover:border-slate-600 hover:text-slate-200":"bg-white text-gray-600 border-gray-200 hover:border-gray-300 hover:text-gray-800"),onClick:()=>ye(A),disabled:!a||m==="send",title:X?"Remove recipient":"Add recipient","aria-pressed":X,children:A},A)})})}),Y.length>0&&s.jsx("button",{className:`flex-shrink-0 text-[10px] px-2 py-1 rounded-full transition-colors ${u?"text-slate-500 hover:text-slate-300 hover:bg-slate-800":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"}`,onClick:W,disabled:m==="send",title:"Clear recipients",children:"clear"})]}),je.length>0&&s.jsx("div",{className:`mb-3 flex flex-wrap gap-2 ${u?"text-slate-300":"text-gray-700"}`,children:je.map((B,A)=>s.jsxs("span",{className:$("inline-flex items-center gap-2 rounded-lg border px-2.5 py-1.5 text-xs max-w-full shadow-sm",u?"border-slate-700 bg-slate-900":"border-gray-200 bg-white"),title:B.name,children:[s.jsx("span",{className:"truncate",children:B.name}),s.jsx("button",{className:$("flex-shrink-0 p-0.5 rounded-full",u?"text-slate-400 hover:text-white hover:bg-slate-700":"text-slate-400 hover:text-gray-700 hover:bg-gray-100"),onClick:()=>fe(A),title:"Remove file",children:""})]},`${B.name}:${A}`))}),s.jsxs("div",{className:"flex gap-2 relative items-end",children:[s.jsx("input",{ref:$e,type:"file",multiple:!0,className:"hidden",onChange:B=>{const A=Array.from(B.target.files||[]);A.length>0&&ve(A),B.target.value=""}}),s.jsx("button",{className:$("rounded-full p-2.5 text-lg transition-colors flex-shrink-0 shadow-sm border",u?"bg-slate-800 border-slate-700 text-slate-400 hover:text-slate-200 hover:bg-slate-700 hover:border-slate-600":"bg-white border-gray-200 text-gray-400 hover:text-gray-600 hover:bg-gray-50 hover:border-gray-300"),onClick:()=>{var B;return(B=$e.current)==null?void 0:B.click()},disabled:!a||m==="send",title:"Attach file",children:""}),s.jsx("textarea",{ref:ke,className:`w-full rounded-3xl border px-4 py-3 text-sm resize-none min-h-[48px] max-h-[140px] transition-all focus:ring-2 focus:ring-offset-1 ${u?"bg-slate-900 border-slate-700 text-slate-200 placeholder-slate-500 focus:border-blue-500/50 focus:ring-blue-500/20 focus:ring-offset-slate-900":"bg-white border-gray-200 text-gray-900 placeholder-gray-400 focus:border-blue-400 focus:ring-blue-100 focus:ring-offset-white"}`,placeholder:f?"Message":"Message (@ to mention, Ctrl+Enter to send)",rows:1,value:be,onChange:B=>{const A=B.target.value;Re(A);const X=B.target;X.style.height="auto",X.style.height=Math.min(X.scrollHeight,140)+"px";const xe=A.lastIndexOf("@");if(xe>=0){const P=A.slice(xe+1);(xe===0||A[xe-1]===" "||A[xe-1]===`
`)&&!P.includes(" ")&&!P.includes(`
`)?(L(P),U(!0),b(0)):U(!1)}else U(!1)},onKeyDown:B=>{if(Ne&&te.length>0){const A=Math.min(te.length,8)-1;if(B.key==="ArrowDown"){B.preventDefault(),b(X=>X>=A?0:X+1);return}if(B.key==="ArrowUp"){B.preventDefault(),b(X=>X<=0?A:X-1);return}if(B.key==="Enter"||B.key==="Tab"){B.preventDefault();const X=te[K];if(X){const xe=be.lastIndexOf("@");if(xe>=0){const P=be.slice(0,xe);Re(P+X+" ")}Y.includes(X)||me(X),U(!1),b(0)}return}if(B.key==="Escape"){B.preventDefault(),U(!1),b(0);return}}B.key==="Enter"&&!Ne?(B.ctrlKey||B.metaKey)&&(B.preventDefault(),Pe()):B.key==="Escape"&&(U(!1),se())},onBlur:()=>setTimeout(()=>U(!1),150),"aria-label":"Message input"}),Ne&&te.length>0&&s.jsx("div",{className:`absolute bottom-full left-0 mb-2 w-56 max-h-48 overflow-auto rounded-xl border shadow-xl z-20 ${u?"border-slate-700 bg-slate-900":"border-gray-200 bg-white"}`,role:"listbox","aria-label":"Mention suggestions",children:te.slice(0,8).map((B,A)=>s.jsx("button",{className:$("w-full text-left px-4 py-2.5 text-sm transition-colors",u?"text-slate-200":"text-gray-700",A===K?u?"bg-slate-800":"bg-blue-50 text-blue-700":u?"hover:bg-slate-800":"hover:bg-gray-50"),onMouseDown:X=>{var P;X.preventDefault();const xe=be.lastIndexOf("@");if(xe>=0){const pe=be.slice(0,xe);Re(pe+B+" ")}Y.includes(B)||me(B),U(!1),b(0),(P=ke.current)==null||P.focus()},onMouseEnter:()=>b(A),children:B},B))}),s.jsx("button",{className:`rounded-full px-5 py-2.5 text-sm font-semibold disabled:opacity-50 min-h-[48px] shadow-sm transition-all flex items-center justify-center ${m==="send"||!be.trim()&&je.length===0?u?"bg-slate-800 text-slate-500":"bg-gray-100 text-gray-400":"bg-blue-600 hover:bg-blue-500 text-white shadow-blue-500/20"}`,onClick:Pe,disabled:m==="send"||!be.trim()&&je.length===0,"aria-label":"Send message",children:m==="send"?s.jsx("span",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):"Send"})]})]})]})}function lf(u){return wo.includes(u)}function li(u,f){if(!f.length)return[];const a=f.map(E=>String(E.id||"")).filter(E=>E),c=new Set(a),d=(u.data&&typeof u.data=="object"&&Array.isArray(u.data.to)?u.data.to:[]).map(E=>String(E||"").trim()).filter(E=>E.length>0),y=new Set(d),p=String(u.by||"").trim();if(y.size===0||y.has("@all"))return a.filter(E=>E!==p);const _=new Set;for(const E of y)if(!(E==="user"||E==="@user")){if(E==="@peers"){for(const k of f)k.role==="peer"&&_.add(String(k.id));continue}if(E==="@foreman"){for(const k of f)k.role==="foreman"&&_.add(String(k.id));continue}c.has(E)&&_.add(E)}return _.delete(p),Array.from(_)}function sf(u){if(!u)return"";const f=String(u.active_scope_key||"");if(!f)return"";const c=(Array.isArray(u.scopes)?u.scopes:[]).find(m=>String(m.scope_key||"")===f);return String((c==null?void 0:c.url)||"")}const Mc=800,si=20,zc=si*1024*1024;function of(){const{theme:u,setTheme:f,isDark:a}=M0(),[c,m]=j.useState([]),[d,y]=j.useState(""),[p,_]=j.useState(null),[E,k]=j.useState([]),[R,O]=j.useState([]),[le,ee]=j.useState(null),[H,T]=j.useState(null),[ue,Z]=j.useState([]),[Q,ie]=j.useState("chat"),[se,Y]=j.useState(""),[ye,W]=j.useState(""),[je,fe]=j.useState(!0),[ve,$e]=j.useState({}),[ke,be]=j.useState(!1),[Re,Pe]=j.useState(0),[Ne,U]=j.useState(!1);j.useEffect(()=>{const v=window.matchMedia("(max-width: 639px)"),C=()=>U(v.matches);return C(),typeof v.addEventListener=="function"?(v.addEventListener("change",C),()=>v.removeEventListener("change",C)):(v.addListener(C),()=>v.removeListener(C))},[]);const[te,K]=j.useState(!1),[b,L]=j.useState(!1),[me,B]=j.useState(!1),[A,X]=j.useState(!1),[xe,P]=j.useState(!1),[pe,He]=j.useState(!1),[jr,ul]=j.useState(!1),[Ot,Bn]=j.useState(null),[ns,cl]=j.useState(!1),[Nr,Sr]=j.useState(""),[Ht,Qt]=j.useState([]),[wt,Kt]=j.useState(""),[gn,Vn]=j.useState(null),[rs,ls]=j.useState(!1),[Wn,Cr]=j.useState(""),[ss,Hn]=j.useState(0),[Qn,Er]=j.useState(!1),[xn,kr]=j.useState(null),[os,Kn]=j.useState(""),[_r,nn]=j.useState("peer"),[Ke,Yn]=j.useState("codex"),[ut,Yt]=j.useState(""),[as,Jn]=j.useState(!1),[is,yn]=j.useState(""),[dl,$r]=j.useState("codex"),[fl,vn]=j.useState(""),[ml,Gn]=j.useState(""),[us,bn]=j.useState(""),[Xn,qn]=j.useState(""),[Tr,pl]=j.useState(""),[cs,hl]=j.useState(""),[rn,gl]=j.useState([]),[ds,jo]=j.useState([]),[fs,ms]=j.useState(""),[ps,hs]=j.useState(null),[No,gs]=j.useState(!1),[Le,So]=j.useState(""),[wn,xl]=j.useState([]),Zn=j.useRef(null),Dn=j.useRef(null),er=j.useRef(null),Ct=j.useRef(null),rt=j.useRef(null),Co=j.useRef(null),pt=j.useRef("chat"),Rr=j.useRef(""),Pr=j.useRef(!0),yl=j.useRef([]),Mt=j.useRef(0),Et=j.useRef(null),jn=j.useRef(0),tr=j.useRef(0),Me=j.useCallback(v=>{er.current&&window.clearTimeout(er.current),W(v),er.current=window.setTimeout(()=>{W(""),er.current=null},8e3)},[]),vl=j.useCallback(v=>{const C=Array.from(v||[]);if(C.length===0)return;const M=C.filter(ae=>ae.size>zc),J=C.filter(ae=>ae.size<=zc);if(M.length>0){const ae=M.slice(0,3).map(Se=>Se.name||"file"),he=M.length>3?` (+${M.length-3} more)`:"";Me(`File too large (> ${si}MB): ${ae.join(", ")}${he}`)}if(J.length===0)return;const ne=ae=>`${ae.name}:${ae.size}:${ae.lastModified}`;Qt(ae=>{const he=ae.slice(),Se=new Set(he.map(ne));for(const De of J){const et=ne(De);Se.has(et)||(Se.add(et),he.push(De))}return he})},[Me]),bl=j.useMemo(()=>sf(p),[p]),nr=j.useMemo(()=>R.some(v=>v.role==="foreman"),[R]),rr=j.useMemo(()=>c.find(v=>String(v.group_id||"")===d)||null,[c,d]),ln=(rr==null?void 0:rr.running)??!1,Eo=j.useMemo(()=>{const v=Ke,C=new Set(R.map(M=>String(M.id||"")));for(let M=1;M<=999;M++){const J=`${v}-${M}`;if(!C.has(J))return J}return`${v}-${Date.now()}`},[R,Ke]),wl=j.useMemo(()=>{if(se==="actor-add")return!1;const v=ue.find(M=>M.name===Ke),C=(v==null?void 0:v.available)??!1;return!(Ke==="custom"&&!ut.trim()||!C&&!ut.trim())},[se,Ke,ut,ue]),Te=j.useMemo(()=>{var M;if(se==="actor-add")return"";const v=ue.find(J=>J.name===Ke),C=(v==null?void 0:v.available)??!1;return Ke==="custom"&&!ut.trim()?"Custom runtime requires a command.":!C&&!ut.trim()?`${((M=ts[Ke])==null?void 0:M.label)||Ke} is not installed. Install it, or set a command override.`:""},[se,Ke,ut,ue]),lr=j.useMemo(()=>{const v=new Set(["@all","@foreman","@peers"]);for(const C of R){const M=String(C.id||"").trim();M&&v.add(M)}return v},[R]),Lr=j.useMemo(()=>{const C=wt.split(",").map(ne=>ne.trim()).filter(ne=>ne.length>0).filter(ne=>ne!=="user"&&ne!=="@user"&&ne!=="@"),M=[],J=new Set;for(const ne of C)lr.has(ne)&&(J.has(ne)||(J.add(ne),M.push(ne)));return M},[wt,lr]);j.useEffect(()=>{if(!wt)return;const C=wt.split(",").map(ae=>ae.trim()).filter(ae=>ae.length>0).filter(ae=>ae!=="user"&&ae!=="@user"&&ae!=="@"),M=[],J=new Set;for(const ae of C)lr.has(ae)&&(J.has(ae)||(J.add(ae),M.push(ae)));const ne=M.join(", ");ne!==wt&&Kt(ne)},[wt,lr]);const jl=j.useMemo(()=>{const v=["@all","@foreman","@peers"],C=R.map(ne=>String(ne.id||"")).filter(ne=>ne),M=[...v,...C];if(!Wn)return M;const J=Wn.toLowerCase();return M.filter(ne=>ne.toLowerCase().includes(J))},[R,Wn]),sr=j.useMemo(()=>["chat",...R.map(v=>v.id)],[R]);async function zt(){const v=await Ee("/api/v1/groups");if(v.ok){const C=v.result.groups||[];m(C);const M=Rr.current;!(!!M&&C.some(ne=>String(ne.group_id||"")===M))&&C.length>0&&y(String(C[0].group_id||""))}}async function xs(){const v=await Ee("/api/v1/runtimes");if(v.ok){Z(v.result.runtimes||[]);const C=(v.result.runtimes||[]).filter(M=>M.available).map(M=>M.name);if(C.length>0&&!C.includes(Ke)){const M=wo.find(J=>C.includes(J));M&&Yn(M)}}}async function Or(){const v=await Ee("/api/v1/fs/recent");v.ok&&jo(v.result.suggestions||[])}async function Mr(v){var M;gs(!0);const C=await Ee(`/api/v1/fs/list?path=${encodeURIComponent(v)}`);C.ok?(gl(C.result.items||[]),ms(C.result.path||v),hs(C.result.parent||null)):Me(((M=C.error)==null?void 0:M.message)||"Failed to list directory")}async function ct(v){const C=await Ee(`/api/v1/groups/${encodeURIComponent(v)}/context`);C.ok&&C.result&&typeof C.result=="object"?ee(C.result):ee(null)}async function It(v){const C=await Ee(`/api/v1/groups/${encodeURIComponent(v)}/settings`);C.ok&&C.result.settings&&T(C.result.settings)}async function kt(v){_(null),k([]),O([]),ee(null),T(null),W(""),ie("chat");const C=await Ee(`/api/v1/groups/${encodeURIComponent(v)}`);C.ok&&_(C.result.group);const M=await Ee(`/api/v1/groups/${encodeURIComponent(v)}/ledger/tail?lines=120&with_read_status=true`);M.ok&&k((M.result.events||[]).filter(ne=>ne&&ne.kind!=="context.sync"));const J=await Ee(`/api/v1/groups/${encodeURIComponent(v)}/actors?include_unread=true`);J.ok&&O(J.result.actors||[]),await ct(v),await It(v)}function or(v){Ct.current&&(Ct.current.close(),Ct.current=null);const C=new EventSource(`/api/v1/groups/${encodeURIComponent(v)}/ledger/stream`);C.addEventListener("ledger",M=>{var ne,ae;const J=M;try{const he=JSON.parse(String(J.data||"{}"));if(he&&typeof he=="object"&&he.kind==="context.sync"){Et.current&&window.clearTimeout(Et.current),Et.current=window.setTimeout(()=>{Et.current=null,ct(v)},150);return}if(he&&typeof he=="object"&&he.kind==="chat.read"){const De=String(((ne=he.data)==null?void 0:ne.actor_id)||""),et=String(((ae=he.data)==null?void 0:ae.event_id)||"");De&&et&&k(sn=>{const Br=sn.findIndex(qt=>qt.kind==="chat.message"&&String(qt.id||"")===et);if(Br<0)return sn;const _l=sn.slice();for(let qt=0;qt<=Br;qt++){const on=_l[qt];if(!on||on.kind!=="chat.message"||!li(on,yl.current).includes(De))continue;const $l=on._read_status&&typeof on._read_status=="object"?{...on._read_status}:{};$l[De]!==!0&&($l[De]=!0,_l[qt]={...on,_read_status:$l})}return _l}),dt(v);return}if(he&&typeof he=="object"&&he.kind==="chat.message"&&!he._read_status){const De=li(he,yl.current);if(De.length>0){const et={};for(const sn of De)et[sn]=!1;he._read_status=et}}if(k(De=>{const et=De.concat([he]);return et.length>Mc?et.slice(et.length-Mc):et}),he&&typeof he=="object"&&he.kind==="chat.message"){const De=String(he.by||"");if(De&&De!=="user"){const et=pt.current==="chat",sn=Pr.current;(!et||!sn)&&Pe(Br=>Br+1)}}const Se=String(he.kind||"");(Se==="chat.message"||Se==="chat.read"||Se.startsWith("actor.")||Se==="group.start"||Se==="group.stop"||Se==="group.set_state")&&dt(v)}catch{}}),Ct.current=C}async function dt(v){const C=String(v||Rr.current||d||"").trim();if(!C)return;const M=await Ee(`/api/v1/groups/${encodeURIComponent(C)}/actors?include_unread=true`);M.ok&&Rr.current===C&&O(M.result.actors||[])}function Jt(v){const C=v.trim();if(!C)return;const M=Lr,J=M.findIndex(ne=>ne===C);if(J>=0){const ne=M.slice(0,J).concat(M.slice(J+1));Kt(ne.join(", "))}else Kt(M.concat([C]).join(", "))}async function ko(){const v=Nr.trim();if(d&&!(!v&&Ht.length===0)){Y("send");try{W("");const C=Lr;let M;if(gn){const J=String(gn.by||"").trim(),ne=J&&J!=="user"&&J!=="unknown"?[J]:["@all"],ae=C.length?C:ne;if(Ht.length>0){const he=new FormData;he.append("by","user"),he.append("text",v),he.append("to_json",JSON.stringify(ae)),he.append("reply_to",gn.eventId);for(const Se of Ht)he.append("files",Se);M=await Ec(`/api/v1/groups/${encodeURIComponent(d)}/reply_upload`,he)}else M=await Ee(`/api/v1/groups/${encodeURIComponent(d)}/reply`,{method:"POST",body:JSON.stringify({text:v,by:"user",to:ae,reply_to:gn.eventId})})}else if(Ht.length>0){const J=new FormData;J.append("by","user"),J.append("text",v),J.append("to_json",JSON.stringify(C)),J.append("path","");for(const ne of Ht)J.append("files",ne);M=await Ec(`/api/v1/groups/${encodeURIComponent(d)}/send_upload`,J)}else M=await Ee(`/api/v1/groups/${encodeURIComponent(d)}/send`,{method:"POST",body:JSON.stringify({text:v,by:"user",to:C,path:""})});if(!M.ok){Me(`${M.error.code}: ${M.error.message}`);return}Sr(""),Qt([]),Dn.current&&(Dn.current.value=""),Vn(null)}finally{Y("")}}}function Nl(v){var M;if(!v.id||v.kind!=="chat.message")return;const C=(M=v.data)!=null&&M.text?String(v.data.text):"";Vn({eventId:String(v.id),by:String(v.by||"unknown"),text:C.slice(0,100)+(C.length>100?"...":"")})}async function ar(){var C;if(!d)return;const v=os.trim();Y("actor-add"),yn("");try{const M=await Ee(`/api/v1/groups/${encodeURIComponent(d)}/actors`,{method:"POST",body:JSON.stringify({actor_id:v,role:_r,runner:"pty",runtime:Ke,command:ut,env:{},default_scope_key:"",by:"user"})});if(!M.ok){yn(((C=M.error)==null?void 0:C.message)||"Failed to add agent");return}X(!1),Kn(""),Yt(""),nn("peer"),Yn("codex"),Jn(!1),yn(""),await dt()}finally{Y("")}}async function _o(v){if(!d)return;const C=String(v.id||"").trim();if(!C)return;const M=v.running??v.enabled??!1;Y(`actor-${M?"stop":"start"}:${C}`);try{W("");const J=M?"stop":"start",ne=await Ee(`/api/v1/groups/${encodeURIComponent(d)}/actors/${encodeURIComponent(C)}/${J}`,{method:"POST"});if(!ne.ok){Me(`${ne.error.code}: ${ne.error.message}`);return}await dt()}finally{Y("")}}async function ys(v){if(!d)return;const C=String(v.id||"").trim();if(C&&window.confirm(`Remove actor ${C}?`)){Y(`actor-remove:${C}`);try{W("");const M=await Ee(`/api/v1/groups/${encodeURIComponent(d)}/actors/${encodeURIComponent(C)}?by=user`,{method:"DELETE"});if(!M.ok){Me(`${M.error.code}: ${M.error.message}`);return}Q===C&&ie("chat"),await dt(),await kt(d)}finally{Y("")}}}function zr(v){if(v.running??v.enabled??!1){Me("Stop the actor before editing. Use stop  edit  start workflow.");return}Bn(v);const M=String(v.runtime||"").trim(),J=lf(M)?M:"codex";$r(J);const ne=Array.isArray(v.command)?v.command.join(" "):"";vn(ne),Gn(v.title||"")}async function vs(){if(!d||!Ot)return;const v=String(Ot.id||"").trim();if(v){Y("actor-update");try{W("");const C=await Ee(`/api/v1/groups/${encodeURIComponent(d)}/actors/${encodeURIComponent(v)}`,{method:"POST",body:JSON.stringify({runtime:dl,command:fl.trim(),title:ml.trim(),by:"user"})});if(!C.ok){Me(`${C.error.code}: ${C.error.message}`);return}Bn(null),await dt()}finally{Y("")}}}async function Sl(){if(d){Y("group-start");try{W("");const v=await Ee(`/api/v1/groups/${encodeURIComponent(d)}/start?by=user`,{method:"POST"});if(!v.ok){Me(`${v.error.code}: ${v.error.message}`);return}await dt(),await zt()}finally{Y("")}}}async function Nn(){if(d){Y("group-stop");try{W("");const v=await Ee(`/api/v1/groups/${encodeURIComponent(d)}/stop?by=user`,{method:"POST"});if(!v.ok){Me(`${v.error.code}: ${v.error.message}`);return}await dt(),await zt()}finally{Y("")}}}async function ir(){const v=Tr.trim();if(!v)return;const C=v.split("/").filter(Boolean).pop()||"working-group",M=cs.trim()||C;Y("create");try{W("");const J=await Ee("/api/v1/groups",{method:"POST",body:JSON.stringify({title:M,topic:"",by:"user"})});if(!J.ok){Me(`${J.error.code}: ${J.error.message}`);return}const ne=J.result.group_id,ae=await Ee(`/api/v1/groups/${encodeURIComponent(ne)}/attach`,{method:"POST",body:JSON.stringify({path:v,by:"user"})});ae.ok||Me(`Created group but failed to attach: ${ae.error.message}`),pl(""),hl(""),P(!1),await zt(),y(ne)}finally{Y("")}}async function Sn(){if(d){Y("group-update");try{W("");const v=await Ee(`/api/v1/groups/${encodeURIComponent(d)}`,{method:"PUT",body:JSON.stringify({title:us.trim(),topic:Xn.trim(),by:"user"})});if(!v.ok){Me(`${v.error.code}: ${v.error.message}`);return}He(!1),await zt(),await kt(d)}finally{Y("")}}}async function Ir(){if(d&&window.confirm(`Delete group "${(p==null?void 0:p.title)||d}"? This cannot be undone.`)){Y("group-delete");try{W("");const v=await Ee(`/api/v1/groups/${encodeURIComponent(d)}?confirm=${encodeURIComponent(d)}&by=user`,{method:"DELETE"});if(!v.ok){Me(`${v.error.code}: ${v.error.message}`);return}y(""),_(null),k([]),O([]),ee(null),T(null),await zt()}finally{Y("")}}}async function $o(v){if(d){Y("context-update");try{const C=await Ee(`/api/v1/groups/${encodeURIComponent(d)}/context`,{method:"POST",body:JSON.stringify({ops:[{op:"vision.update",vision:v}],by:"user"})});C.ok||Me(`${C.error.code}: ${C.error.message}`),await ct(d)}finally{Y("")}}}async function To(v){if(d){Y("context-update");try{const C=await Ee(`/api/v1/groups/${encodeURIComponent(d)}/context`,{method:"POST",body:JSON.stringify({ops:[{op:"sketch.update",sketch:v}],by:"user"})});C.ok||Me(`${C.error.code}: ${C.error.message}`),await ct(d)}finally{Y("")}}}async function Cl(v){if(d){Y("settings-update");try{const C=await Ee(`/api/v1/groups/${encodeURIComponent(d)}/settings`,{method:"PUT",body:JSON.stringify({...v,by:"user"})});C.ok?L(!1):Me(`${C.error.code}: ${C.error.message}`),await It(d)}finally{Y("")}}}async function ur(v){var M;if(!d)return;Y("group-state");const C=((M=rt.current)==null?void 0:M.scrollTop)??null;try{const J=await Ee(`/api/v1/groups/${encodeURIComponent(d)}/state?state=${encodeURIComponent(v)}&by=user`,{method:"POST"});J.ok?(_(ne=>ne&&{...ne,state:v}),await zt()):Me(`${J.error.code}: ${J.error.message}`)}finally{Y(""),C!==null&&rt.current&&(rt.current.scrollTop=C)}}async function Ar(v){const C=String(v||"").trim();if(!(!C||!d)){Y(`inbox:${C}`);try{W(""),So(C),xl([]),ul(!0);const M=await Ee(`/api/v1/groups/${encodeURIComponent(d)}/inbox/${encodeURIComponent(C)}?by=user&limit=200`);if(!M.ok){Me(`${M.error.code}: ${M.error.message}`);return}xl(M.result.messages||[])}finally{Y("")}}}async function bs(){if(!d||!Le)return;const v=wn.length?wn[wn.length-1]:null,C=v!=null&&v.id?String(v.id):"";if(C){Y(`inbox-read:${Le}`);try{W("");const M=await Ee(`/api/v1/groups/${encodeURIComponent(d)}/inbox/${encodeURIComponent(Le)}/read`,{method:"POST",body:JSON.stringify({event_id:C,by:"user"})});if(!M.ok){Me(`${M.error.code}: ${M.error.message}`);return}await Ar(Le)}finally{Y("")}}}j.useEffect(()=>{zt(),xs(),Or();const v=window.setInterval(zt,5e3);return()=>window.clearInterval(v)},[]),j.useEffect(()=>{if(Rr.current=d,Sr(""),Qt([]),Kt(""),Vn(null),Dn.current&&(Dn.current.value=""),Et.current&&(window.clearTimeout(Et.current),Et.current=null),Mt.current=0,Er(!1),!!d)return kt(d),or(d),()=>{Ct.current&&(Ct.current.close(),Ct.current=null)}},[d]),j.useEffect(()=>{const v=ae=>{const he=ae.dataTransfer;if(!he)return!1;try{if(he.types&&Array.from(he.types).includes("Files")||he.items&&Array.from(he.items).some(Se=>Se.kind==="file"))return!0}catch{}return he.files&&he.files.length>0},C=ae=>{v(ae)&&(ae.preventDefault(),Mt.current+=1,Er(!0))},M=ae=>{v(ae)&&ae.preventDefault()},J=ae=>{v(ae)&&(Mt.current=Math.max(0,Mt.current-1),Mt.current===0&&Er(!1))},ne=ae=>{var Se;if(!v(ae))return;ae.preventDefault(),Mt.current=0,Er(!1);const he=Array.from(((Se=ae.dataTransfer)==null?void 0:Se.files)||[]);if(he.length!==0){if(!d){Me("Select a group to attach files.");return}vl(he)}};return window.addEventListener("dragenter",C,!0),window.addEventListener("dragover",M,!0),window.addEventListener("dragleave",J,!0),window.addEventListener("drop",ne,!0),()=>{window.removeEventListener("dragenter",C,!0),window.removeEventListener("dragover",M,!0),window.removeEventListener("dragleave",J,!0),window.removeEventListener("drop",ne,!0)}},[vl,d,Me]),j.useEffect(()=>{pt.current=Q,Q==="chat"&&(Pe(0),Pr.current=!0,be(!1))},[Q]),j.useEffect(()=>{yl.current=R},[R]),j.useEffect(()=>{Ke==="custom"&&Jn(!0)},[Ke]);const Gt=()=>{const v=rt.current;v&&v.scrollTo({top:v.scrollHeight,behavior:"smooth"}),Pr.current=!0,be(!1),Pe(0)},El=v=>{jn.current=v.touches[0].clientX,tr.current=v.touches[0].clientY},Fr=v=>{const C=v.changedTouches[0].clientX,M=v.changedTouches[0].clientY,J=C-jn.current,ne=M-tr.current;if(Math.abs(J)>50&&Math.abs(J)>Math.abs(ne)*1.5){const ae=sr.indexOf(Q);J>0&&ae>0?ie(sr[ae-1]):J<0&&ae<sr.length-1&&ie(sr[ae+1])}},ws=v=>{ie(v)},Ve=j.useMemo(()=>Q==="chat"?null:R.find(v=>v.id===Q)||null,[Q,R]),Ze=j.useMemo(()=>xn&&E.find(v=>v.kind==="chat.message"&&String(v.id||"")===xn)||null,[E,xn]),Xt=j.useMemo(()=>{if(!Ze)return null;const C=(Ze.data&&typeof Ze.data=="object"&&Array.isArray(Ze.data.to)?Ze.data.to:[]).map(Se=>String(Se||"").trim()).filter(Se=>Se.length>0),M=C.length>0?C.join(", "):"@all",J=Ze._read_status&&typeof Ze._read_status=="object"?Ze._read_status:null,ne=J?Object.keys(J):li(Ze,R),ae=new Set(ne),he=R.map(Se=>String(Se.id||"")).filter(Se=>Se&&ae.has(Se)).map(Se=>[Se,!!(J&&J[Se])]);return{toLabel:M,entries:he}},[R,Ze]);j.useEffect(()=>{xn&&(Ze||kr(null))},[Ze,xn]);function lt(){p&&(bn(p.title||""),qn(p.topic||""),He(!0))}const Cn=E.filter(v=>v.kind==="chat.message"),Ur=!!d&&!bl,En=!!d&&R.length===0,js=!!d&&R.length>0&&!ln,kl=Ur||En||js;return s.jsxs("div",{className:`h-full w-full ${a?"bg-gradient-to-br from-slate-900 via-slate-900 to-slate-800":"bg-gradient-to-br from-gray-50 via-white to-gray-100"}`,children:[s.jsxs("div",{className:"h-full grid grid-cols-1 md:grid-cols-[280px_1fr] transition-all duration-300",children:[s.jsx(E0,{groups:c,selectedGroupId:d,isOpen:je,isDark:a,onSelectGroup:v=>y(v),onCreateGroup:()=>{P(!0),Or()},onClose:()=>fe(!1)}),s.jsxs("main",{className:`h-full flex flex-col overflow-hidden ${a?"bg-slate-900/50":"bg-white"}`,children:[s.jsx(C0,{isDark:a,theme:u,onThemeChange:f,selectedGroupId:d,groupDoc:p,selectedGroupRunning:ln,actors:R,busy:se,errorMsg:ye,onDismissError:()=>W(""),onOpenSidebar:()=>fe(!0),onOpenGroupEdit:lt,onOpenContext:()=>{d&&ct(d),K(!0)},onStartGroup:Sl,onStopGroup:Nn,onSetGroupState:ur,onOpenSettings:()=>L(!0),onOpenMobileMenu:()=>cl(!0)}),d&&s.jsx(g0,{actors:R,activeTab:Q,onTabChange:ws,unreadChatCount:Re,isDark:a,onAddAgent:()=>{nn(nr?"peer":"foreman"),X(!0)},canAddAgent:!!d}),s.jsx("div",{ref:Co,className:"flex-1 min-h-0 flex flex-col overflow-hidden",onTouchStart:El,onTouchEnd:Fr,children:Q==="chat"?s.jsx(rf,{isDark:a,isSmallScreen:Ne,selectedGroupId:d,actors:R,busy:se,showSetupCard:kl,needsScope:Ur,needsActors:En,needsStart:js,hasForeman:nr,onAddAgent:()=>{nn(nr?"peer":"foreman"),X(!0)},onStartGroup:Sl,chatMessages:Cn,scrollRef:rt,showScrollButton:ke,chatUnreadCount:Re,onScrollButtonClick:Gt,onScrollChange:v=>{Pr.current=v,be(!v),v&&Pe(0)},onReply:Nl,onShowRecipients:v=>kr(v),replyTarget:gn,onCancelReply:()=>Vn(null),toTokens:Lr,onToggleRecipient:Jt,onClearRecipients:()=>Kt(""),composerFiles:Ht,onRemoveComposerFile:v=>Qt(C=>C.filter((M,J)=>J!==v)),appendComposerFiles:vl,fileInputRef:Dn,composerRef:Zn,composerText:Nr,setComposerText:Sr,onSendMessage:ko,showMentionMenu:rs,setShowMentionMenu:ls,mentionSuggestions:jl,mentionSelectedIndex:ss,setMentionSelectedIndex:Hn,setMentionFilter:Cr,onAppendRecipientToken:v=>Kt(C=>C?C+", "+v:v)}):s.jsx(U0,{actor:Ve,groupId:d,termEpoch:Ve&&ve[Ve.id]||0,busy:se,isDark:a,onToggleEnabled:()=>{Ve&&_o(Ve)},onRelaunch:()=>{(async()=>{if(!(!d||!Ve)){Y(`actor-relaunch:${Ve.id}`);try{const v=await Ee(`/api/v1/groups/${encodeURIComponent(d)}/actors/${encodeURIComponent(Ve.id)}/restart?by=user`,{method:"POST"});v.ok||Me(`${v.error.code}: ${v.error.message}`),await dt(),$e(C=>({...C,[Ve.id]:(C[Ve.id]||0)+1}))}finally{Y("")}}})()},onEdit:()=>{Ve&&zr(Ve)},onRemove:()=>{Ve&&ys(Ve)},onInbox:()=>{Ve&&Ar(Ve.id)}})})]})]}),s.jsx(k0,{isOpen:ns,isDark:a,selectedGroupId:d,groupDoc:p,selectedGroupRunning:ln,actors:R,busy:se,onClose:()=>cl(!1),onToggleTheme:()=>f(a?"light":"dark"),onOpenSearch:()=>B(!0),onOpenContext:()=>{d&&ct(d),K(!0)},onOpenSettings:()=>L(!0),onOpenGroupEdit:lt,onStartGroup:Sl,onStopGroup:Nn,onSetGroupState:ur}),s.jsx(j0,{isOpen:me,onClose:()=>B(!1),groupId:d,actors:R,isDark:a,onReply:v=>{Nl(v),ie("chat"),B(!1),window.setTimeout(()=>{var C;return(C=Zn.current)==null?void 0:C.focus()},0)}}),s.jsx(x0,{isOpen:te,onClose:()=>K(!1),groupId:d,context:le,onUpdateVision:$o,onUpdateSketch:To,busy:se==="context-update",isDark:a}),s.jsx(y0,{isOpen:b,onClose:()=>L(!1),settings:H,onUpdateSettings:Cl,busy:se.startsWith("settings"),isDark:a,groupId:d}),s.jsx(O0,{isOpen:!!Xt,isDark:a,isSmallScreen:Ne,toLabel:(Xt==null?void 0:Xt.toLabel)||"",entries:(Xt==null?void 0:Xt.entries)||[],onClose:()=>kr(null)}),s.jsx(L0,{isOpen:jr,isDark:a,actorId:Le,messages:wn,busy:se,onClose:()=>ul(!1),onMarkAllRead:bs}),s.jsx(R0,{isOpen:pe,isDark:a,busy:se,title:us,topic:Xn,onChangeTitle:bn,onChangeTopic:qn,onSave:Sn,onCancel:()=>He(!1),onDelete:Ir}),s.jsx(T0,{isOpen:!!Ot,isDark:a,busy:se,actorId:(Ot==null?void 0:Ot.id)||"",runtimes:ue,runtime:dl,onChangeRuntime:$r,command:fl,onChangeCommand:vn,onSave:vs,onCancel:()=>Bn(null)}),s.jsx($0,{isOpen:xe,isDark:a,busy:se,dirSuggestions:ds,dirItems:rn,currentDir:fs,parentDir:ps,showDirBrowser:No,createGroupPath:Tr,setCreateGroupPath:pl,createGroupName:cs,setCreateGroupName:hl,onFetchDirContents:Mr,onCreateGroup:ir,onClose:()=>P(!1),onCancelAndReset:()=>{P(!1),pl(""),hl(""),gl([]),gs(!1)}}),s.jsx(_0,{isOpen:A,isDark:a,busy:se,hasForeman:nr,runtimes:ue,suggestedActorId:Eo,newActorId:os,setNewActorId:Kn,newActorRole:_r,setNewActorRole:nn,newActorRuntime:Ke,setNewActorRuntime:Yn,newActorCommand:ut,setNewActorCommand:Yt,showAdvancedActor:as,setShowAdvancedActor:Jn,addActorError:is,setAddActorError:yn,canAddActor:wl,addActorDisabledReason:Te,onAddActor:ar,onClose:()=>X(!1),onCancelAndReset:()=>{X(!1),Kn(""),Yt(""),nn("peer"),Jn(!1),yn("")}}),s.jsx(N0,{isOpen:Qn,isDark:a,maxFileMb:si})]})}h0.createRoot(document.getElementById("root")).render(s.jsx(u0.StrictMode,{children:s.jsx(of,{})}));export{ts as R,uf as a,$ as c,af as g,s as j,j as r};
