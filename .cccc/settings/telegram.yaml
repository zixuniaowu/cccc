token_env: TELEGRAM_BOT_TOKEN
autostart: true
discover_allowlist: true
autoregister: open           # open|off
allow_chats: []              # optional explicit allowlist (numeric chat IDs)
max_auto_subs: 3

show_peer_messages: true
outbox_poll_seconds: 2.0
default_route: both          # a|b|both

# Message sizing and pacing
debounce_seconds: 30
to_user_min_interval_s: 5
max_msg_chars: 4096
max_msg_lines: 64
peer_debounce_seconds: 30
peer_summary_min_interval_s: 5
peer_message_max_chars: 4096
peer_message_max_lines: 64

routing:
  require_explicit: true     # require a:/b:/both: (groups)
  allow_prefix: true         # allow a:/b:/both: prefixes
  require_mention: false     # require @BotName in groups (false = more convenient)

dm:
  route_default: both        # default when in DM

hints:
  cooldown_seconds: 300

files:
  enabled: true
  max_mb: 16
  allowed_mime: ["text/*","image/png","image/jpeg","application/pdf","application/zip"]
  inbound_dir: .cccc/work/upload/inbound
  outbound_dir: .cccc/work/upload/outbound

inbound_retention_days: 14
outbound_retention_days: 14
autowrap_from_user: true
run_clamav: false
redact_patterns:
  - (?i)api[_-]?key\s*[:=]\s*\S+
  - (?i)secret\s*[:=]\s*\S+
  - (?i)password\s*[:=]\s*\S+

outbound:
  cursor:
    start_mode: tail       # tail | from_start
    replay_last: 0         # replay last N events on startup (0 = none)
